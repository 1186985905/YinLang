{"version":3,"file":"js/467.f2f84a04.js","mappings":"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","sources":["webpack://agentui/./src/views/admin/PromptConfig.vue","webpack://agentui/src/views/admin/PromptConfig.vue","webpack://agentui/./src/views/admin/PromptConfig.vue?03b6","webpack://agentui/./src/views/admin/PromptConfig.vue?de0c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"prompt-config\"},[_c('h1',[_vm._v(\" 提示词配置 \"),_c('div',{staticClass:\"header-buttons\"},[_c('el-button',{attrs:{\"type\":\"default\",\"size\":\"small\",\"icon\":\"el-icon-back\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回管理面板\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-s-home\"},on:{\"click\":_vm.goHome}},[_vm._v(\"返回主页\")])],1)]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticClass:\"department-card\"},[_c('div',{staticClass:\"card-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"部门列表\")]),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showAddDeptDialog}},[_vm._v(\"添加部门\")])],1),_c('el-tree',{attrs:{\"data\":_vm.departments,\"props\":_vm.defaultProps,\"highlight-current\":true,\"node-key\":\"id\",\"default-expand-all\":\"\"},on:{\"node-click\":_vm.handleDeptSelect},scopedSlots:_vm._u([{key:\"default\",fn:function({ node, data }){return _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_c('span',{staticClass:\"actions\"},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editDepartment(data)}}},[_c('i',{staticClass:\"el-icon-edit\"})]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeDepartment(node, data)}}},[_c('i',{staticClass:\"el-icon-delete\"})])],1)])}}])})],1)],1),_c('el-col',{attrs:{\"span\":18}},[_c('el-card',{staticClass:\"prompt-card\"},[_c('div',{staticClass:\"card-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.currentDept ? _vm.currentDept.label + ' - 提示词列表' : '请选择部门'))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\",\"disabled\":!_vm.currentDept},on:{\"click\":_vm.showAddPromptDialog}},[_vm._v(\" 添加提示词 \")])],1),(_vm.currentDept)?_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.promptList}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"提示词内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"prompt-content\"},[_vm._v(_vm._s(scope.row.content))])]}}],null,false,3876841598)}),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"分类\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.category))])]}}],null,false,2477035928)}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.editPrompt(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.removePrompt(scope.$index)}}},[_vm._v(\"删除\")])]}}],null,false,1040033866)})],1):_c('div',{staticClass:\"empty-state\"},[_c('i',{staticClass:\"el-icon-document\"}),_c('p',[_vm._v(\"请先选择左侧部门来管理提示词\")])])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.deptDialogType === 'add' ? '添加部门' : '编辑部门',\"visible\":_vm.deptDialogVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.deptDialogVisible=$event}}},[_c('el-form',{ref:\"deptForm\",attrs:{\"model\":_vm.deptForm,\"rules\":_vm.deptRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"部门名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入部门名称\"},model:{value:(_vm.deptForm.name),callback:function ($$v) {_vm.$set(_vm.deptForm, \"name\", $$v)},expression:\"deptForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上级部门\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择上级部门\"},model:{value:(_vm.deptForm.parentId),callback:function ($$v) {_vm.$set(_vm.deptForm, \"parentId\", $$v)},expression:\"deptForm.parentId\"}},[_c('el-option',{attrs:{\"label\":\"无\",\"value\":0}}),_vm._l((_vm.flatDepartments),function(dept){return _c('el-option',{key:dept.id,attrs:{\"label\":dept.label,\"value\":dept.id}})})],2)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.deptDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveDepartment}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.promptDialogType === 'add' ? '添加提示词' : '编辑提示词',\"visible\":_vm.promptDialogVisible,\"width\":\"650px\"},on:{\"update:visible\":function($event){_vm.promptDialogVisible=$event}}},[_c('el-form',{ref:\"promptForm\",attrs:{\"model\":_vm.promptForm,\"rules\":_vm.promptRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入提示词标题\"},model:{value:(_vm.promptForm.title),callback:function ($$v) {_vm.$set(_vm.promptForm, \"title\", $$v)},expression:\"promptForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类\",\"prop\":\"category\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.promptForm.category),callback:function ($$v) {_vm.$set(_vm.promptForm, \"category\", $$v)},expression:\"promptForm.category\"}},[_c('el-option',{attrs:{\"label\":\"常用提示\",\"value\":\"common\"}}),_c('el-option',{attrs:{\"label\":\"工作流程\",\"value\":\"workflow\"}}),_c('el-option',{attrs:{\"label\":\"专业知识\",\"value\":\"professional\"}}),_c('el-option',{attrs:{\"label\":\"其他\",\"value\":\"other\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"请输入提示词内容\"},model:{value:(_vm.promptForm.content),callback:function ($$v) {_vm.$set(_vm.promptForm, \"content\", $$v)},expression:\"promptForm.content\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.promptDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.savePrompt}},[_vm._v(\"确定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"prompt-config\">\n    <h1>\n      提示词配置\n      <div class=\"header-buttons\">\n        <el-button type=\"default\" size=\"small\" icon=\"el-icon-back\" @click=\"goBack\">返回管理面板</el-button>\n        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-s-home\" @click=\"goHome\">返回主页</el-button>\n      </div>\n    </h1>\n\n    <el-row :gutter=\"20\">\n      <!-- 左侧部门列表 -->\n      <el-col :span=\"6\">\n        <el-card class=\"department-card\">\n          <div slot=\"header\" class=\"card-header\">\n            <span>部门列表</span>\n            <el-button type=\"text\" icon=\"el-icon-plus\" @click=\"showAddDeptDialog\">添加部门</el-button>\n          </div>\n          <el-tree\n            :data=\"departments\"\n            :props=\"defaultProps\"\n            @node-click=\"handleDeptSelect\"\n            :highlight-current=\"true\"\n            node-key=\"id\"\n            default-expand-all>\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n              <span>{{ node.label }}</span>\n              <span class=\"actions\">\n                <el-button\n                  type=\"text\"\n                  size=\"mini\"\n                  @click.stop=\"editDepartment(data)\">\n                  <i class=\"el-icon-edit\"></i>\n                </el-button>\n                <el-button\n                  type=\"text\"\n                  size=\"mini\"\n                  @click.stop=\"removeDepartment(node, data)\">\n                  <i class=\"el-icon-delete\"></i>\n                </el-button>\n              </span>\n            </span>\n          </el-tree>\n        </el-card>\n      </el-col>\n\n      <!-- 右侧提示词列表 -->\n      <el-col :span=\"18\">\n        <el-card class=\"prompt-card\">\n          <div slot=\"header\" class=\"card-header\">\n            <span>{{ currentDept ? currentDept.label + ' - 提示词列表' : '请选择部门' }}</span>\n            <el-button \n              type=\"primary\" \n              size=\"small\" \n              icon=\"el-icon-plus\" \n              @click=\"showAddPromptDialog\"\n              :disabled=\"!currentDept\">\n              添加提示词\n            </el-button>\n          </div>\n\n          <el-table\n            v-if=\"currentDept\"\n            :data=\"promptList\"\n            style=\"width: 100%\"\n            v-loading=\"loading\">\n            <el-table-column prop=\"title\" label=\"标题\" width=\"200\"></el-table-column>\n            <el-table-column prop=\"content\" label=\"提示词内容\">\n              <template slot-scope=\"scope\">\n                <div class=\"prompt-content\">{{ scope.row.content }}</div>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"category\" label=\"分类\" width=\"120\">\n              <template slot-scope=\"scope\">\n                <el-tag size=\"medium\">{{ scope.row.category }}</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  size=\"mini\"\n                  type=\"primary\"\n                  plain\n                  @click=\"editPrompt(scope.row)\">编辑</el-button>\n                <el-button\n                  size=\"mini\"\n                  type=\"danger\"\n                  plain\n                  @click=\"removePrompt(scope.$index)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <div v-else class=\"empty-state\">\n            <i class=\"el-icon-document\"></i>\n            <p>请先选择左侧部门来管理提示词</p>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 添加/编辑部门对话框 -->\n    <el-dialog\n      :title=\"deptDialogType === 'add' ? '添加部门' : '编辑部门'\"\n      :visible.sync=\"deptDialogVisible\"\n      width=\"500px\">\n      <el-form :model=\"deptForm\" :rules=\"deptRules\" ref=\"deptForm\" label-width=\"80px\">\n        <el-form-item label=\"部门名称\" prop=\"name\">\n          <el-input v-model=\"deptForm.name\" placeholder=\"请输入部门名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上级部门\">\n          <el-select v-model=\"deptForm.parentId\" placeholder=\"请选择上级部门\" style=\"width: 100%\">\n            <el-option label=\"无\" :value=\"0\"></el-option>\n            <el-option\n              v-for=\"dept in flatDepartments\"\n              :key=\"dept.id\"\n              :label=\"dept.label\"\n              :value=\"dept.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deptDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 添加/编辑提示词对话框 -->\n    <el-dialog\n      :title=\"promptDialogType === 'add' ? '添加提示词' : '编辑提示词'\"\n      :visible.sync=\"promptDialogVisible\"\n      width=\"650px\">\n      <el-form :model=\"promptForm\" :rules=\"promptRules\" ref=\"promptForm\" label-width=\"80px\">\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"promptForm.title\" placeholder=\"请输入提示词标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"分类\" prop=\"category\">\n          <el-select v-model=\"promptForm.category\" placeholder=\"请选择分类\" style=\"width: 100%\">\n            <el-option label=\"常用提示\" value=\"common\"></el-option>\n            <el-option label=\"工作流程\" value=\"workflow\"></el-option>\n            <el-option label=\"专业知识\" value=\"professional\"></el-option>\n            <el-option label=\"其他\" value=\"other\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"内容\" prop=\"content\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"promptForm.content\"\n            :rows=\"6\"\n            placeholder=\"请输入提示词内容\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"promptDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"savePrompt\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PromptConfig',\n  data() {\n    return {\n      loading: false,\n      departments: [\n        {\n          id: 1,\n          label: '研发部',\n          children: [\n            {\n              id: 4,\n              label: '前端组'\n            },\n            {\n              id: 5,\n              label: '后端组'\n            }\n          ]\n        },\n        {\n          id: 2,\n          label: '产品部'\n        },\n        {\n          id: 3,\n          label: '运营部'\n        }\n      ],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      currentDept: null,\n      promptList: [\n        {\n          id: 1,\n          title: '代码审查提示',\n          content: '请帮我检查这段代码可能存在的问题，包括但不限于：性能优化、安全隐患、代码规范等方面。',\n          category: '工作流程'\n        },\n        {\n          id: 2,\n          title: 'API文档生成',\n          content: '请根据以下接口信息，生成标准的API文档，包含接口描述、请求参数、响应参数等内容。',\n          category: '专业知识'\n        }\n      ],\n      // 部门对话框\n      deptDialogVisible: false,\n      deptDialogType: 'add', // add或edit\n      deptForm: {\n        name: '',\n        parentId: 0\n      },\n      deptRules: {\n        name: [\n          { required: true, message: '请输入部门名称', trigger: 'blur' },\n          { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\n        ]\n      },\n      // 提示词对话框\n      promptDialogVisible: false,\n      promptDialogType: 'add', // add或edit\n      promptForm: {\n        title: '',\n        content: '',\n        category: ''\n      },\n      promptRules: {\n        title: [\n          { required: true, message: '请输入提示词标题', trigger: 'blur' },\n          { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\n        ],\n        category: [\n          { required: true, message: '请选择分类', trigger: 'change' }\n        ],\n        content: [\n          { required: true, message: '请输入提示词内容', trigger: 'blur' },\n          { min: 10, max: 2000, message: '长度在 10 到 2000 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    flatDepartments() {\n      const result = [];\n      const flatten = (departments) => {\n        departments.forEach(dept => {\n          if (dept.id !== this.currentDept?.id) {\n            result.push(dept);\n            if (dept.children) {\n              flatten(dept.children);\n            }\n          }\n        });\n      };\n      flatten(this.departments);\n      return result;\n    }\n  },\n  methods: {\n    goBack() {\n      if (this.$route.path !== '/admin') {\n        this.$router.push('/admin');\n      }\n    },\n    goHome() {\n      if (this.$route.path !== '/') {\n        this.$router.push('/');\n      }\n    },\n    handleDeptSelect(dept) {\n      this.currentDept = dept;\n      this.fetchPromptList();\n    },\n    showAddDeptDialog() {\n      this.deptDialogType = 'add';\n      this.deptForm = {\n        name: '',\n        parentId: 0\n      };\n      this.deptDialogVisible = true;\n    },\n    editDepartment(dept) {\n      this.deptDialogType = 'edit';\n      this.deptForm = {\n        id: dept.id,\n        name: dept.label,\n        parentId: this.getDeptParentId(dept)\n      };\n      this.deptDialogVisible = true;\n    },\n    getDeptParentId(dept) {\n      // 实际项目中应该从后端获取\n      // 遍历部门树查找父部门ID\n      let parentId = 0;\n      const findParent = (departments) => {\n        for (const d of departments) {\n          if (d.children && d.children.some(child => child.id === dept.id)) {\n            parentId = d.id;\n            break;\n          }\n          if (d.children) {\n            findParent(d.children);\n          }\n        }\n      };\n      findParent(this.departments);\n      return parentId;\n    },\n    removeDepartment(node, data) {\n      this.$confirm('确认删除该部门吗？删除后该部门下的所有提示词将被删除', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 实际项目中应该调用后端API\n        // 从departments数组中移除该部门\n        const removeFromTree = (departments) => {\n          for (let i = 0; i < departments.length; i++) {\n            if (departments[i].id === data.id) {\n              departments.splice(i, 1);\n              break;\n            }\n            if (departments[i].children) {\n              removeFromTree(departments[i].children);\n            }\n          }\n        };\n        removeFromTree(this.departments);\n        this.$message.success('部门删除成功');\n      }).catch(() => {});\n    },\n    saveDepartment() {\n      this.$refs.deptForm.validate((valid) => {\n        if (valid) {\n          // 实际项目中应该调用后端API\n          this.$message.success(this.deptDialogType === 'add' ? '部门添加成功' : '部门更新成功');\n          this.deptDialogVisible = false;\n        }\n      });\n    },\n    showAddPromptDialog() {\n      if (!this.currentDept) {\n        this.$message.warning('请先选择部门');\n        return;\n      }\n      this.promptDialogType = 'add';\n      this.promptForm = {\n        title: '',\n        content: '',\n        category: ''\n      };\n      this.promptDialogVisible = true;\n    },\n    editPrompt(prompt) {\n      this.promptDialogType = 'edit';\n      this.promptForm = { ...prompt };\n      this.promptDialogVisible = true;\n    },\n    removePrompt(index) {\n      this.$confirm('确认删除该提示词吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 实际项目中应该调用后端API\n        this.promptList.splice(index, 1);\n        this.$message.success('提示词删除成功');\n      }).catch(() => {});\n    },\n    savePrompt() {\n      this.$refs.promptForm.validate((valid) => {\n        if (valid) {\n          // 实际项目中应该调用后端API\n          if (this.promptDialogType === 'add') {\n            this.promptList.push({\n              id: Date.now(),\n              ...this.promptForm\n            });\n          } else {\n            const index = this.promptList.findIndex(p => p.id === this.promptForm.id);\n            if (index !== -1) {\n              this.promptList[index] = { ...this.promptForm };\n            }\n          }\n          this.$message.success(this.promptDialogType === 'add' ? '提示词添加成功' : '提示词更新成功');\n          this.promptDialogVisible = false;\n        }\n      });\n    },\n    fetchPromptList() {\n      if (!this.currentDept) return;\n      this.loading = true;\n      // 实际项目中应该调用后端API获取当前部门的提示词列表\n      setTimeout(() => {\n        this.loading = false;\n      }, 500);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.prompt-config {\n  padding: 20px;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\nh1 {\n  font-size: 24px;\n  color: #333;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.department-card, .prompt-card {\n  margin-bottom: 20px;\n}\n\n.department-card {\n  min-height: 400px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.custom-tree-node {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  padding-right: 8px;\n}\n\n.actions {\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n\n.custom-tree-node:hover .actions {\n  opacity: 1;\n}\n\n.prompt-content {\n  max-height: 100px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 40px 0;\n  color: #909399;\n}\n\n.empty-state i {\n  font-size: 48px;\n  margin-bottom: 10px;\n}\n\n@media screen and (max-width: 768px) {\n  .prompt-config {\n    padding: 10px;\n  }\n\n  h1 {\n    font-size: 20px;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .header-buttons {\n    width: 100%;\n    justify-content: flex-start;\n  }\n\n  .header-buttons .el-button {\n    flex: 1;\n  }\n\n  .el-row {\n    margin: 0 !important;\n  }\n\n  .el-col {\n    padding: 0 !important;\n  }\n\n  .department-card {\n    margin-bottom: 15px;\n    min-height: 300px;\n  }\n\n  .card-header {\n    flex-direction: column;\n    gap: 10px;\n    align-items: flex-start;\n  }\n\n  .card-header .el-button {\n    width: 100%;\n  }\n\n  .custom-tree-node {\n    font-size: 13px;\n  }\n\n  .actions {\n    opacity: 1;\n  }\n\n  .el-table {\n    font-size: 13px;\n  }\n\n  .el-table .cell {\n    padding-left: 5px;\n    padding-right: 5px;\n  }\n\n  .el-table .el-button {\n    padding: 7px 10px;\n    font-size: 12px;\n  }\n\n  .el-dialog {\n    width: 90% !important;\n    margin-top: 20vh !important;\n  }\n\n  .el-form-item {\n    margin-bottom: 15px;\n  }\n\n  .el-form-item__label {\n    padding-bottom: 5px;\n  }\n\n  .el-form-item__content {\n    line-height: 32px;\n  }\n\n  .el-input__inner {\n    height: 36px;\n    line-height: 36px;\n  }\n\n  .el-textarea__inner {\n    font-size: 13px;\n  }\n\n  /* 在移动端调整部门和提示词列表的布局 */\n  .el-col-6 {\n    width: 100% !important;\n  }\n\n  .el-col-18 {\n    width: 100% !important;\n  }\n}\n</style> ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PromptConfig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PromptConfig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PromptConfig.vue?vue&type=template&id=6ea9b804&scoped=true\"\nimport script from \"./PromptConfig.vue?vue&type=script&lang=js\"\nexport * from \"./PromptConfig.vue?vue&type=script&lang=js\"\nimport style0 from \"./PromptConfig.vue?vue&type=style&index=0&id=6ea9b804&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ea9b804\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","goBack","goHome","slot","showAddDeptDialog","departments","defaultProps","handleDeptSelect","scopedSlots","_u","key","fn","node","data","_s","label","$event","stopPropagation","editDepartment","removeDepartment","currentDept","showAddPromptDialog","directives","name","rawName","value","loading","expression","staticStyle","promptList","scope","row","content","category","editPrompt","removePrompt","$index","deptDialogType","deptDialogVisible","ref","deptForm","deptRules","model","callback","$$v","$set","parentId","_l","flatDepartments","dept","id","saveDepartment","promptDialogType","promptDialogVisible","promptForm","promptRules","title","savePrompt","staticRenderFns","children","required","message","trigger","min","max","computed","result","flatten","forEach","push","methods","$route","path","$router","fetchPromptList","getDeptParentId","findParent","d","some","child","$confirm","confirmButtonText","cancelButtonText","type","then","removeFromTree","i","length","splice","$message","success","catch","$refs","validate","valid","warning","prompt","index","Date","now","findIndex","p","setTimeout","component"],"sourceRoot":""}