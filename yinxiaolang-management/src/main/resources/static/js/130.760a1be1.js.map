{"version":3,"file":"js/130.760a1be1.js","mappings":"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","sources":["webpack://agentui/./src/views/admin/UserManagement.vue","webpack://agentui/src/views/admin/UserManagement.vue","webpack://agentui/./src/views/admin/UserManagement.vue?48ed","webpack://agentui/./src/views/admin/UserManagement.vue?daee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-management\"},[_c('div',{staticClass:\"page-header\"},[_c('h2',[_vm._v(\"用户管理\")]),_c('div',{staticClass:\"header-buttons\"},[_c('el-button',{attrs:{\"type\":\"default\",\"icon\":\"el-icon-back\"},on:{\"click\":_vm.backToAdminPanel}},[_vm._v(\" 返回管理面板 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":!_vm.selectedUsers.length},on:{\"click\":_vm.handleBatchDelete}},[_vm._v(\" 批量删除 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showCreateUserDialog}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 创建新用户 \")])],1)]),_c('el-card',{staticClass:\"user-table-card\"},[_c('div',{staticClass:\"search-form\"},[_c('el-form',{staticClass:\"filter-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\"},on:{\"clear\":_vm.handleSearch},model:{value:(_vm.searchForm.username),callback:function ($$v) {_vm.$set(_vm.searchForm, \"username\", $$v)},expression:\"searchForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属部门\"}},[_c('el-cascader',{attrs:{\"options\":_vm.departments,\"props\":{ checkStrictly: true },\"clearable\":\"\",\"placeholder\":\"请选择部门\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.searchForm.department),callback:function ($$v) {_vm.$set(_vm.searchForm, \"department\", $$v)},expression:\"searchForm.department\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择角色\",\"clearable\":\"\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.searchForm.role),callback:function ($$v) {_vm.$set(_vm.searchForm, \"role\", $$v)},expression:\"searchForm.role\"}},[_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"admin\"}}),_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"user\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"创建时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.searchForm.createTime),callback:function ($$v) {_vm.$set(_vm.searchForm, \"createTime\", $$v)},expression:\"searchForm.createTime\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":_vm.resetSearch}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.filteredUsers},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"department\",\"label\":\"所属部门\"}}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.role === 'admin' ? '管理员' : '普通用户')+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"disabled\":scope.row.username === 'admin'},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"disabled\":scope.row.username === 'admin'},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\" 删除 \")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogType === 'create' ? '创建新用户' : '编辑用户',\"visible\":_vm.dialogVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"disabled\":_vm.dialogType === 'edit'},model:{value:(_vm.userForm.username),callback:function ($$v) {_vm.$set(_vm.userForm, \"username\", $$v)},expression:\"userForm.username\"}})],1),(_vm.dialogType === 'create')?_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.userForm.password),callback:function ($$v) {_vm.$set(_vm.userForm, \"password\", $$v)},expression:\"userForm.password\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"所属部门\",\"prop\":\"department\"}},[_c('el-cascader',{attrs:{\"options\":_vm.departments,\"props\":{ checkStrictly: true },\"clearable\":\"\"},model:{value:(_vm.userForm.department),callback:function ($$v) {_vm.$set(_vm.userForm, \"department\", $$v)},expression:\"userForm.department\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"role\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.userForm.role),callback:function ($$v) {_vm.$set(_vm.userForm, \"role\", $$v)},expression:\"userForm.role\"}},[_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"user\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"admin\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-management\">\n    <div class=\"page-header\">\n      <h2>用户管理</h2>\n      <div class=\"header-buttons\">\n        <el-button type=\"default\" icon=\"el-icon-back\" @click=\"backToAdminPanel\">\n          返回管理面板\n        </el-button>\n        <el-button type=\"danger\" :disabled=\"!selectedUsers.length\" @click=\"handleBatchDelete\">\n          批量删除\n        </el-button>\n        <el-button type=\"primary\" @click=\"showCreateUserDialog\">\n          <i class=\"el-icon-plus\"></i> 创建新用户\n        </el-button>\n      </div>\n    </div>\n\n    <el-card class=\"user-table-card\">\n      <!-- 搜索表单 -->\n      <div class=\"search-form\">\n        <el-form :inline=\"true\" :model=\"searchForm\" class=\"filter-form\">\n          <el-form-item label=\"用户名\">\n            <el-input\n              v-model=\"searchForm.username\"\n              placeholder=\"请输入用户名\"\n              clearable\n              @clear=\"handleSearch\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"所属部门\">\n            <el-cascader\n              v-model=\"searchForm.department\"\n              :options=\"departments\"\n              :props=\"{ checkStrictly: true }\"\n              clearable\n              placeholder=\"请选择部门\"\n              @change=\"handleSearch\"\n            ></el-cascader>\n          </el-form-item>\n          <el-form-item label=\"角色\">\n            <el-select \n              v-model=\"searchForm.role\" \n              placeholder=\"请选择角色\"\n              clearable\n              @change=\"handleSearch\"\n            >\n              <el-option label=\"管理员\" value=\"admin\"></el-option>\n              <el-option label=\"普通用户\" value=\"user\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"创建时间\">\n            <el-date-picker\n              v-model=\"searchForm.createTime\"\n              type=\"daterange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              value-format=\"yyyy-MM-dd\"\n              @change=\"handleSearch\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\n            <el-button @click=\"resetSearch\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <el-table \n        :data=\"filteredUsers\" \n        v-loading=\"loading\" \n        style=\"width: 100%\"\n        @selection-change=\"handleSelectionChange\">\n        <el-table-column\n          type=\"selection\"\n          width=\"55\">\n        </el-table-column>\n        <el-table-column prop=\"username\" label=\"用户名\" />\n        <el-table-column prop=\"department\" label=\"所属部门\" />\n        <el-table-column prop=\"role\" label=\"角色\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.role === 'admin' ? '管理员' : '普通用户' }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" />\n        <el-table-column label=\"操作\" width=\"200\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              @click=\"handleEdit(scope.row)\"\n              :disabled=\"scope.row.username === 'admin'\"\n            >\n              编辑\n            </el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleDelete(scope.row)\"\n              :disabled=\"scope.row.username === 'admin'\"\n            >\n              删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"pagination-container\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n      </div>\n    </el-card>\n\n    <!-- 创建/编辑用户对话框 -->\n    <el-dialog\n      :title=\"dialogType === 'create' ? '创建新用户' : '编辑用户'\"\n      :visible.sync=\"dialogVisible\"\n      width=\"500px\"\n    >\n      <el-form :model=\"userForm\" :rules=\"rules\" ref=\"userForm\" label-width=\"100px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"userForm.username\" :disabled=\"dialogType === 'edit'\" />\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\" v-if=\"dialogType === 'create'\">\n          <el-input v-model=\"userForm.password\" type=\"password\" />\n        </el-form-item>\n        <el-form-item label=\"所属部门\" prop=\"department\">\n          <el-cascader\n            v-model=\"userForm.department\"\n            :options=\"departments\"\n            :props=\"{ checkStrictly: true }\"\n            clearable\n          />\n        </el-form-item>\n        <el-form-item label=\"角色\" prop=\"role\">\n          <el-select v-model=\"userForm.role\" style=\"width: 100%\">\n            <el-option label=\"普通用户\" value=\"user\" />\n            <el-option label=\"管理员\" value=\"admin\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserManagement',\n  data() {\n    return {\n      loading: false,\n      users: [\n        {\n          username: 'admin',\n          department: '技术部',\n          role: 'admin',\n          createTime: '2024-01-01 00:00:00'\n        },\n        {\n          username: 'user1',\n          department: '市场部',\n          role: 'user',\n          createTime: '2024-01-02 10:30:00'\n        },\n        {\n          username: 'user2',\n          department: '销售部',\n          role: 'user',\n          createTime: '2024-01-03 14:20:00'\n        },\n        {\n          username: 'manager1',\n          department: '人事部',\n          role: 'admin',\n          createTime: '2024-01-04 09:15:00'\n        }\n      ],\n      selectedUsers: [],\n      departments: [\n        {\n          value: '技术部',\n          label: '技术部',\n          children: [\n            { value: '开发组', label: '开发组' },\n            { value: '测试组', label: '测试组' }\n          ]\n        },\n        {\n          value: '市场部',\n          label: '市场部'\n        },\n        {\n          value: '销售部',\n          label: '销售部'\n        },\n        {\n          value: '人事部',\n          label: '人事部'\n        }\n      ],\n      dialogVisible: false,\n      dialogType: 'create',\n      currentPage: 1,\n      pageSize: 10,\n      total: 4,\n      searchForm: {\n        username: '',\n        department: [],\n        role: '',\n        createTime: []\n      },\n      userForm: {\n        username: '',\n        password: '',\n        department: '',\n        role: 'user'\n      },\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能小于 6 个字符', trigger: 'blur' }\n        ],\n        department: [\n          { required: true, message: '请选择所属部门', trigger: 'change' }\n        ],\n        role: [\n          { required: true, message: '请选择角色', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  computed: {\n    filteredUsers() {\n      return this.users.filter(user => {\n        // 用户名模糊匹配\n        if (this.searchForm.username && \n            !user.username.toLowerCase().includes(this.searchForm.username.toLowerCase())) {\n          return false;\n        }\n        \n        // 部门匹配\n        if (this.searchForm.department && this.searchForm.department.length > 0) {\n          const targetDept = this.searchForm.department[this.searchForm.department.length - 1];\n          if (user.department !== targetDept) {\n            return false;\n          }\n        }\n        \n        // 角色匹配\n        if (this.searchForm.role && user.role !== this.searchForm.role) {\n          return false;\n        }\n        \n        // 创建时间范围匹配\n        if (this.searchForm.createTime && this.searchForm.createTime.length === 2) {\n          const startDate = new Date(this.searchForm.createTime[0]);\n          const endDate = new Date(this.searchForm.createTime[1]);\n          const userDate = new Date(user.createTime);\n          \n          if (userDate < startDate || userDate > endDate) {\n            return false;\n          }\n        }\n        \n        return true;\n      });\n    }\n  },\n  created() {\n    this.fetchUsers();\n    this.fetchDepartments();\n    this.total = this.filteredUsers.length;\n  },\n  methods: {\n    async fetchUsers() {\n      this.loading = true\n      try {\n        // 这里替换为实际的API调用\n        const response = await this.$http.get('/api/users')\n        this.users = response.data\n      } catch (error) {\n        this.$message.error('获取用户列表失败')\n      }\n      this.loading = false\n    },\n    async fetchDepartments() {\n      try {\n        // 这里替换为实际的API调用\n        const response = await this.$http.get('/api/departments')\n        this.departments = response.data\n      } catch (error) {\n        this.$message.error('获取部门列表失败')\n      }\n    },\n    showCreateUserDialog() {\n      this.dialogType = 'create'\n      this.userForm = {\n        username: '',\n        password: '',\n        department: '',\n        role: 'user'\n      }\n      this.dialogVisible = true\n    },\n    handleEdit(row) {\n      this.dialogType = 'edit'\n      this.userForm = {\n        ...row,\n        password: '' // 编辑时不显示密码\n      }\n      this.dialogVisible = true\n    },\n    async handleDelete(row) {\n      try {\n        await this.$confirm('确认删除该用户吗？', '提示', {\n          type: 'warning'\n        })\n        // 这里替换为实际的API调用\n        await this.$http.delete(`/api/users/${row.username}`)\n        this.$message.success('删除成功')\n        this.fetchUsers()\n      } catch (error) {\n        if (error !== 'cancel') {\n          this.$message.error('删除失败')\n        }\n      }\n    },\n    async handleSubmit() {\n      try {\n        await this.$refs.userForm.validate()\n        if (this.dialogType === 'create') {\n          // 这里替换为实际的API调用\n          await this.$http.post('/api/users', this.userForm)\n          this.$message.success('创建成功')\n        } else {\n          // 这里替换为实际的API调用\n          await this.$http.put(`/api/users/${this.userForm.username}`, this.userForm)\n          this.$message.success('更新成功')\n        }\n        this.dialogVisible = false\n        this.fetchUsers()\n      } catch (error) {\n        if (error !== 'cancel') {\n          this.$message.error(this.dialogType === 'create' ? '创建失败' : '更新失败')\n        }\n      }\n    },\n    backToAdminPanel() {\n      this.$router.push('/admin');\n    },\n    handleSelectionChange(val) {\n      this.selectedUsers = val;\n    },\n    handleBatchDelete() {\n      if (this.selectedUsers.length === 0) {\n        this.$message.warning('请选择要删除的用户');\n        return;\n      }\n\n      // 检查是否包含admin用户\n      if (this.selectedUsers.some(user => user.username === 'admin')) {\n        this.$message.warning('不能删除管理员账户');\n        return;\n      }\n\n      this.$confirm(`此操作将永久删除选中的 ${this.selectedUsers.length} 个用户，是否继续?`, '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const deleteUsernames = this.selectedUsers.map(user => user.username);\n        this.users = this.users.filter(user => !deleteUsernames.includes(user.username));\n        this.total = this.users.length;\n        this.$message({\n          type: 'success',\n          message: '批量删除成功!'\n        });\n        this.selectedUsers = [];\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      // 重新加载数据\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      // 重新加载数据\n    },\n    handleSearch() {\n      this.currentPage = 1;\n      this.total = this.filteredUsers.length;\n    },\n    resetSearch() {\n      this.searchForm = {\n        username: '',\n        department: [],\n        role: '',\n        createTime: []\n      };\n      this.currentPage = 1;\n      this.handleSearch();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-management {\n  padding: 20px;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.page-header h2 {\n  margin: 0;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.header-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.user-table-card {\n  margin-bottom: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.dialog-footer {\n  text-align: right;\n}\n\n/* 移动端适配 */\n@media screen and (max-width: 768px) {\n  .user-management {\n    padding: 10px;\n  }\n\n  .page-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .page-header h2 {\n    font-size: 20px;\n  }\n  \n  .header-buttons {\n    width: 100%;\n  }\n\n  .el-dialog {\n    width: 90% !important;\n    margin: 10px auto !important;\n  }\n\n  .el-form-item {\n    margin-bottom: 15px;\n  }\n}\n</style> ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserManagement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserManagement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserManagement.vue?vue&type=template&id=2b2ebb52&scoped=true\"\nimport script from \"./UserManagement.vue?vue&type=script&lang=js\"\nexport * from \"./UserManagement.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserManagement.vue?vue&type=style&index=0&id=2b2ebb52&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b2ebb52\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","backToAdminPanel","selectedUsers","length","handleBatchDelete","showCreateUserDialog","searchForm","handleSearch","model","value","username","callback","$$v","$set","expression","departments","checkStrictly","department","role","createTime","resetSearch","directives","name","rawName","loading","staticStyle","filteredUsers","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","row","$event","handleEdit","handleDelete","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","dialogType","dialogVisible","ref","userForm","rules","password","_e","slot","handleSubmit","staticRenderFns","data","users","label","children","required","message","trigger","min","max","computed","filter","user","toLowerCase","includes","targetDept","startDate","Date","endDate","userDate","created","fetchUsers","fetchDepartments","methods","response","$http","get","error","$message","$confirm","type","delete","success","$refs","validate","post","put","$router","push","val","some","warning","confirmButtonText","cancelButtonText","then","deleteUsernames","map","catch","component"],"sourceRoot":""}