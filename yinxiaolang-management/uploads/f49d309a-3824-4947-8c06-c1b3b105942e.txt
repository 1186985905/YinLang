ç»™å®šä¸€ç»„åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ï¼Œæ¨¡å‹å°†è¿”å›ä¸€ä¸ªå“åº”ã€‚ç›¸å…³æŒ‡å—å¯å‚é˜…OpenAIå®˜ç½‘ï¼šChat Completions
ğŸ’¡ è¯·æ±‚ç¤ºä¾‹
åŸºç¡€æ–‡æœ¬å¯¹è¯ âœ…
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚"
      },
      {
        "role": "user",
        "content": "ä½ å¥½!"
      }
    ]
  }'
å“åº”ç¤ºä¾‹:
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "ä½ å¥½!æˆ‘å¾ˆé«˜å…´èƒ½å¸®åŠ©ä½ ã€‚è¯·é—®æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥ååŠ©ä½ çš„å—?"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 9,
    "completion_tokens": 12,
    "total_tokens": 21
  }
}
å›¾åƒåˆ†æå¯¹è¯ âœ…
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆ?"
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image.jpg"
            }
          }
        ]
      }
    ],
    "max_tokens": 300
  }'
å“åº”ç¤ºä¾‹:
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "è¿™å¼ å›¾ç‰‡å±•ç¤ºäº†ä¸€æ¡æœ¨åˆ¶æ ˆé“ç©¿è¿‡èŒ‚å¯†çš„ç»¿è‰²æ¹¿åœ°ã€‚æ ˆé“ä¼¼ä¹å»¶ä¼¸åˆ°è¿œå¤„,ä¸¤æ—æ˜¯éƒéƒè‘±è‘±çš„æ¤è¢«ã€‚"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 9,
    "completion_tokens": 12,
    "total_tokens": 21
  }
}
æµå¼å“åº” âœ…
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": "è®²ä¸ªæ•…äº‹"
      }
    ],
    "stream": true
  }'
æµå¼å“åº”ç¤ºä¾‹:
{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"role":"assistant","content":""},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"ä»å‰"},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"æœ‰ä¸€åª"},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"å°å…”å­"},"logprobs":null,"finish_reason":null}]}

// ... æ›´å¤šæ•°æ®å— ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"stop"}]}
å‡½æ•°è°ƒç”¨ âœ…
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": "åŒ—äº¬ä»Šå¤©çš„å¤©æ°”æ€ä¹ˆæ ·?"
      }
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "åŸå¸‚åç§°,å¦‚: åŒ—äº¬"
              },
              "unit": {
                "type": "string",
                "enum": ["celsius", "fahrenheit"]
              }
            },
            "required": ["location"]
          }
        }
      }
    ],
    "tool_choice": "auto"
  }'
å“åº”ç¤ºä¾‹:
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1699896916,
  "model": "gpt-4o-mini",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": null,
        "tool_calls": [
          {
            "id": "call_abc123",
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\"location\": \"åŒ—äº¬\", \"unit\": \"celsius\"}"
            }
          }
        ]
      },
      "logprobs": null,
      "finish_reason": "tool_calls"
    }
  ],
  "usage": {
    "prompt_tokens": 82,
    "completion_tokens": 17,
    "total_tokens": 99
  }
}
JSON æ¨¡å¼è¾“å‡º âœ…
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªJSONåŠ©æ‰‹,è¯·ä»¥JSONæ ¼å¼å›å¤ã€‚"
      },
      {
        "role": "user",
        "content": "ç»™æˆ‘ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ç¤ºä¾‹"
      }
    ],
    "response_format": { "type": "json_object" }
  }'
å“åº”ç¤ºä¾‹:
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "{\"user\":{\"id\":1,\"name\":\"å¼ ä¸‰\",\"age\":28,\"email\":\"zhangsan@example.com\",\"interests\":[\"è¯»ä¹¦\",\"æ—…æ¸¸\",\"æ‘„å½±\"]}}"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 15,
    "total_tokens": 25
  }
}
ğŸ“® è¯·æ±‚
ç«¯ç‚¹
POST /v1/chat/completions
åˆ›å»ºç»™å®šèŠå¤©å¯¹è¯çš„æ¨¡å‹å“åº”ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚é˜…æ–‡æœ¬ç”Ÿæˆã€è§†è§‰å’ŒéŸ³é¢‘æŒ‡å—ã€‚
é‰´æƒæ–¹æ³•
åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š
Authorization: Bearer $NEWAPI_API_KEY
å…¶ä¸­ $NEWAPI_API_KEY æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚æ‚¨å¯ä»¥åœ¨ OpenAI å¹³å°çš„ API å¯†é’¥é¡µé¢ä¸­æ‰¾åˆ°æˆ–ç”Ÿæˆ API å¯†é’¥ã€‚
è¯·æ±‚ä½“å‚æ•°
messages
ç±»å‹ï¼šæ•°ç»„
å¿…éœ€ï¼šæ˜¯
åˆ°ç›®å‰ä¸ºæ­¢åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ã€‚æ ¹æ®ä½¿ç”¨çš„æ¨¡å‹ï¼Œæ”¯æŒä¸åŒçš„æ¶ˆæ¯ç±»å‹ï¼ˆå½¢å¼ï¼‰ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒå’ŒéŸ³é¢‘ã€‚
model
ç±»å‹ï¼šå­—ç¬¦ä¸²
å¿…éœ€ï¼šæ˜¯
è¦ä½¿ç”¨çš„æ¨¡å‹ IDã€‚æœ‰å…³å“ªäº›æ¨¡å‹é€‚ç”¨äº Chat API çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ¨¡å‹ç«¯ç‚¹å…¼å®¹æ€§è¡¨ã€‚
store
ç±»å‹ï¼šå¸ƒå°”å€¼æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šfalse
æ˜¯å¦å­˜å‚¨æ­¤èŠå¤©è¡¥å…¨è¯·æ±‚çš„è¾“å‡ºä»¥ç”¨äºæˆ‘ä»¬çš„æ¨¡å‹è’¸é¦æˆ–è¯„ä¼°äº§å“ã€‚
reasoning_effort
ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šmedium
ä»…é€‚ç”¨äº o1 å’Œ o3-mini æ¨¡å‹
çº¦æŸæ¨ç†æ¨¡å‹çš„æ¨ç†å·¥ä½œã€‚å½“å‰æ”¯æŒçš„å€¼ä¸º lowã€medium å’Œ highã€‚å‡å°‘æ¨ç†å·¥ä½œå¯ä»¥åŠ å¿«å“åº”é€Ÿåº¦å¹¶å‡å°‘å“åº”ä¸­ç”¨äºæ¨ç†çš„æ ‡è®°æ•°ã€‚
metadata
ç±»å‹ï¼šmap
å¿…éœ€ï¼šå¦
å¯ä»¥é™„åŠ åˆ°å¯¹è±¡çš„16ä¸ªé”®å€¼å¯¹é›†åˆã€‚è¿™å¯¹äºä»¥ç»“æ„åŒ–æ ¼å¼å­˜å‚¨å¯¹è±¡çš„å…¶ä»–ä¿¡æ¯å¾ˆæœ‰ç”¨,å¹¶å¯ä»¥é€šè¿‡ API æˆ–ä»ªè¡¨æ¿æŸ¥è¯¢å¯¹è±¡ã€‚
é”®æ˜¯æœ€å¤§é•¿åº¦ä¸º64ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚å€¼æ˜¯æœ€å¤§é•¿åº¦ä¸º512ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚
modalities
ç±»å‹ï¼šæ•°ç»„æˆ– null
å¿…éœ€ï¼šå¦
æ‚¨å¸Œæœ›æ¨¡å‹ä¸ºæ­¤è¯·æ±‚ç”Ÿæˆçš„è¾“å‡ºç±»å‹ã€‚å¤§å¤šæ•°æ¨¡å‹éƒ½èƒ½ç”Ÿæˆæ–‡æœ¬,è¿™æ˜¯é»˜è®¤è®¾ç½®: ["text"]
è¯¥æ¨¡å‹è¿˜å¯ä»¥ç”¨äºç”ŸæˆéŸ³é¢‘ã€‚è¦è¯·æ±‚æ­¤æ¨¡å‹åŒæ—¶ç”Ÿæˆæ–‡æœ¬å’ŒéŸ³é¢‘å“åº”,æ‚¨å¯ä»¥ä½¿ç”¨: ["text", "audio"]
prediction
ç±»å‹ï¼šå¯¹è±¡
å¿…éœ€ï¼šå¦
é¢„æµ‹è¾“å‡ºçš„é…ç½®,å½“æå‰çŸ¥é“æ¨¡å‹å“åº”çš„å¤§éƒ¨åˆ†å†…å®¹æ—¶,å¯ä»¥å¤§å¤§æé«˜å“åº”æ—¶é—´ã€‚è¿™åœ¨æ‚¨åªå¯¹æ–‡ä»¶è¿›è¡Œå¾®å°æ›´æ”¹æ—¶æœ€å¸¸è§ã€‚
audio
ç±»å‹ï¼šå¯¹è±¡æˆ– null
å¿…éœ€ï¼šå¦
éŸ³é¢‘è¾“å‡ºçš„å‚æ•°ã€‚å½“ä½¿ç”¨ modalities: ["audio"] è¯·æ±‚éŸ³é¢‘è¾“å‡ºæ—¶éœ€è¦ã€‚
temperature
ç±»å‹ï¼šæ•°å­—æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼š1
è¦ä½¿ç”¨çš„é‡‡æ ·æ¸©åº¦ï¼Œä»‹äº 0 å’Œ 2 ä¹‹é—´ã€‚è¾ƒé«˜çš„å€¼ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿è¾“å‡ºæ›´åŠ éšæœºï¼Œè€Œè¾ƒä½çš„å€¼ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿å…¶æ›´åŠ é›†ä¸­å’Œç¡®å®šæ€§ã€‚æˆ‘ä»¬é€šå¸¸å»ºè®®æ›´æ”¹æ­¤å€¼æˆ– top_pï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ã€‚
top_p
ç±»å‹ï¼šæ•°å­—æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼š1
ä¸€ç§æ›¿ä»£é‡‡æ ·æ¸©åº¦çš„æ–¹æ³•ï¼Œç§°ä¸ºæ ¸é‡‡æ ·ï¼Œå…¶ä¸­æ¨¡å‹è€ƒè™‘å…·æœ‰ top_p æ¦‚ç‡è´¨é‡çš„æ ‡è®°ç»“æœã€‚å› æ­¤ï¼Œ0.1 æ„å‘³ç€åªè€ƒè™‘åŒ…å«å‰ 10% æ¦‚ç‡è´¨é‡çš„æ ‡è®°ã€‚
æˆ‘ä»¬é€šå¸¸å»ºè®®æ›´æ”¹æ­¤å€¼æˆ– temperatureï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ã€‚
n
ç±»å‹ï¼šæ•´æ•°æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼š1
ä¸ºæ¯ä¸ªè¾“å…¥æ¶ˆæ¯ç”Ÿæˆå¤šå°‘ä¸ªèŠå¤©è¡¥å…¨é€‰æ‹©ã€‚è¯·æ³¨æ„ï¼Œæ‚¨å°†æ ¹æ®æ‰€æœ‰é€‰æ‹©ç”Ÿæˆçš„æ ‡è®°æ•°é‡æ”¶è´¹ã€‚ä¿æŒ n ä¸º 1 å¯æœ€å¤§é™åº¦åœ°é™ä½æˆæœ¬ã€‚
stop
ç±»å‹ï¼šå­—ç¬¦ä¸²/æ•°ç»„/null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šnull
API å°†åœæ­¢ç”Ÿæˆæ›´å¤šæ ‡è®°çš„æœ€å¤š 4 ä¸ªåºåˆ—ã€‚
max_tokens
ç±»å‹ï¼šæ•´æ•°æˆ– null
å¿…éœ€ï¼šå¦
èŠå¤©è¡¥å…¨ä¸­å¯ä»¥ç”Ÿæˆçš„æœ€å¤§æ ‡è®°æ•°ã€‚æ­¤å€¼å¯ç”¨äºæ§åˆ¶é€šè¿‡ API ç”Ÿæˆçš„æ–‡æœ¬æˆæœ¬ã€‚
è¯¥å€¼ç°å·²å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ max_completion_tokensï¼Œå¹¶ä¸”ä¸ o1 ç³»åˆ—æ¨¡å‹ä¸å…¼å®¹ã€‚
presence_penalty
ç±»å‹ï¼šæ•°å­—æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼š0
ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚æ­£å€¼æ ¹æ®æ–°æ ‡è®°åˆ°ç›®å‰ä¸ºæ­¢åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„æƒ…å†µæ¥æƒ©ç½šå®ƒä»¬ï¼Œä»è€Œå¢åŠ æ¨¡å‹è®¨è®ºæ–°ä¸»é¢˜çš„å¯èƒ½æ€§ã€‚
frequency_penalty
ç±»å‹ï¼šæ•°å­—æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼š0
ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚æ­£å€¼æ ¹æ®æ–°æ ‡è®°åˆ°ç›®å‰ä¸ºæ­¢åœ¨æ–‡æœ¬ä¸­çš„ç°æœ‰é¢‘ç‡æ¥æƒ©ç½šå®ƒä»¬ï¼Œä»è€Œé™ä½æ¨¡å‹é€å­—é‡å¤åŒä¸€è¡Œçš„å¯èƒ½æ€§ã€‚
logit_bias
ç±»å‹ï¼šmap
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šnull
ä¿®æ”¹æŒ‡å®šæ ‡è®°å‡ºç°åœ¨è¡¥å…¨ä¸­çš„å¯èƒ½æ€§ã€‚
æ¥å—ä¸€ä¸ª JSON å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æ ‡è®°ï¼ˆç”±åˆ†è¯å™¨ä¸­çš„æ ‡è®° ID æŒ‡å®šï¼‰æ˜ å°„åˆ°ä» -100 åˆ° 100 çš„å…³è”åå·®å€¼ã€‚åœ¨æ•°å­¦ä¸Šï¼Œåå·®è¢«æ·»åŠ åˆ°æ¨¡å‹åœ¨é‡‡æ ·ä¹‹å‰ç”Ÿæˆçš„å¯¹æ•°ä¸­ã€‚ç¡®åˆ‡çš„æ•ˆæœä¼šå› æ¨¡å‹è€Œå¼‚ï¼Œä½†ä»‹äº -1 å’Œ 1 ä¹‹é—´çš„å€¼åº”è¯¥ä¼šå‡å°‘æˆ–å¢åŠ é€‰æ‹©çš„å¯èƒ½æ€§ï¼›åƒ -100 æˆ– 100 è¿™æ ·çš„å€¼åº”è¯¥å¯¼è‡´ç›¸å…³æ ‡è®°è¢«ç¦æ­¢æˆ–ç‹¬å é€‰æ‹©ã€‚
user
ç±»å‹ï¼šå­—ç¬¦ä¸²
å¿…éœ€ï¼šå¦
è¡¨ç¤ºæœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥å¸®åŠ© OpenAI ç›‘æ§å’Œæ£€æµ‹æ»¥ç”¨è¡Œä¸ºã€‚äº†è§£æ›´å¤šã€‚
service_tier
ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šauto
æŒ‡å®šç”¨äºå¤„ç†è¯·æ±‚çš„å»¶è¿Ÿå±‚çº§ã€‚æ­¤å‚æ•°ä¸è®¢é˜…äº† scale tier æœåŠ¡çš„å®¢æˆ·ç›¸å…³ï¼š
å¦‚æœè®¾ç½®ä¸º 'auto'ï¼Œä¸”é¡¹ç›®å¯ç”¨äº† Scale tierï¼Œç³»ç»Ÿå°†ä½¿ç”¨ scale tier ä¿¡ç”¨ç›´åˆ°ç”¨å®Œ
å¦‚æœè®¾ç½®ä¸º 'auto'ï¼Œä¸”é¡¹ç›®æœªå¯ç”¨ Scale tierï¼Œè¯·æ±‚å°†ä½¿ç”¨é»˜è®¤æœåŠ¡å±‚çº§å¤„ç†ï¼Œå…·æœ‰è¾ƒä½çš„æ­£å¸¸è¿è¡Œæ—¶é—´ SLA ä¸”æ— å»¶è¿Ÿä¿è¯
å¦‚æœè®¾ç½®ä¸º 'default'ï¼Œè¯·æ±‚å°†ä½¿ç”¨é»˜è®¤æœåŠ¡å±‚çº§å¤„ç†ï¼Œå…·æœ‰è¾ƒä½çš„æ­£å¸¸è¿è¡Œæ—¶é—´ SLA ä¸”æ— å»¶è¿Ÿä¿è¯
æœªè®¾ç½®æ—¶ï¼Œé»˜è®¤è¡Œä¸ºä¸º 'auto'
stream_options
ç±»å‹ï¼šå¯¹è±¡æˆ– null
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼šnull
æµå¼å“åº”çš„é€‰é¡¹ã€‚ä»…åœ¨è®¾ç½® stream: true æ—¶ä½¿ç”¨ã€‚
response_format
ç±»å‹ï¼šå¯¹è±¡
å¿…éœ€ï¼šå¦
æŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ã€‚
è®¾ç½®ä¸º { "type": "json_schema", "json_schema": {...} } å¯ç”¨ç»“æ„åŒ–è¾“å‡ºï¼Œç¡®ä¿æ¨¡å‹å°†åŒ¹é…æ‚¨æä¾›çš„ JSON schemaã€‚
è®¾ç½®ä¸º { "type": "json_object" } å¯ç”¨ JSON æ¨¡å¼ï¼Œç¡®ä¿æ¨¡å‹ç”Ÿæˆçš„æ¶ˆæ¯æ˜¯æœ‰æ•ˆçš„ JSONã€‚
é‡è¦æç¤ºï¼šä½¿ç”¨ JSON æ¨¡å¼æ—¶ï¼Œæ‚¨è¿˜å¿…é¡»é€šè¿‡ç³»ç»Ÿæˆ–ç”¨æˆ·æ¶ˆæ¯è‡ªè¡ŒæŒ‡ç¤ºæ¨¡å‹ç”Ÿæˆ JSONã€‚å¦åˆ™ï¼Œæ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆæ— å°½çš„ç©ºç™½ç›´åˆ°ç”Ÿæˆè¾¾åˆ°ä»¤ç‰Œé™åˆ¶ã€‚
seed
ç±»å‹ï¼šæ•´æ•°æˆ– null
å¿…éœ€ï¼šå¦
Beta åŠŸèƒ½ã€‚å¦‚æœæŒ‡å®šï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå°†å°½æœ€å¤§åŠªåŠ›è¿›è¡Œç¡®å®šæ€§é‡‡æ ·ï¼Œä½¿å¾—å…·æœ‰ç›¸åŒ seed å’Œå‚æ•°çš„é‡å¤è¯·æ±‚åº”è¿”å›ç›¸åŒçš„ç»“æœã€‚ä¸ä¿è¯ç¡®å®šæ€§ï¼Œæ‚¨åº”å‚è€ƒå“åº”å‚æ•°ä»¥ç›‘æ§åç«¯çš„å˜åŒ–ã€‚
tools
ç±»å‹ï¼šæ•°ç»„
å¿…éœ€ï¼šå¦
æ¨¡å‹å¯èƒ½è°ƒç”¨çš„å·¥å…·åˆ—è¡¨ã€‚ç›®å‰ä»…æ”¯æŒå‡½æ•°ä½œä¸ºå·¥å…·ã€‚ä½¿ç”¨æ­¤å‚æ•°æä¾›æ¨¡å‹å¯èƒ½ç”Ÿæˆ JSON è¾“å…¥çš„å‡½æ•°åˆ—è¡¨ã€‚æœ€å¤šæ”¯æŒ 128 ä¸ªå‡½æ•°ã€‚
tool_choice
ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ–å¯¹è±¡
å¿…éœ€ï¼šå¦
æ§åˆ¶æ¨¡å‹è°ƒç”¨å“ªä¸ªå·¥å…·ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š - noneï¼šæ¨¡å‹ä¸ä¼šè°ƒç”¨ä»»ä½•å·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆæ¶ˆæ¯ - autoï¼šæ¨¡å‹å¯ä»¥åœ¨ç”Ÿæˆæ¶ˆæ¯æˆ–è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·ä¹‹é—´é€‰æ‹© - requiredï¼šæ¨¡å‹å¿…é¡»è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…· - {"type": "function", "function": {"name": "my_function"}}ï¼šå¼ºåˆ¶æ¨¡å‹è°ƒç”¨ç‰¹å®šå·¥å…·
å½“æ²¡æœ‰å·¥å…·æ—¶é»˜è®¤ä¸º noneï¼Œæœ‰å·¥å…·æ—¶é»˜è®¤ä¸º autoã€‚
parallel_tool_calls
ç±»å‹ï¼šå¸ƒå°”å€¼
å¿…éœ€ï¼šå¦
é»˜è®¤å€¼ï¼štrue
æ˜¯å¦åœ¨å·¥å…·ä½¿ç”¨æœŸé—´å¯ç”¨å¹¶è¡Œå‡½æ•°è°ƒç”¨ã€‚
ğŸ“¥ å“åº”
æˆåŠŸå“åº”
è¿”å›ä¸€ä¸ªèŠå¤©è¡¥å…¨å¯¹è±¡,å¦‚æœè¯·æ±‚è¢«æµå¼ä¼ è¾“,åˆ™è¿”å›èŠå¤©è¡¥å…¨å—å¯¹è±¡çš„æµå¼åºåˆ—ã€‚
id
ç±»å‹ï¼šå­—ç¬¦ä¸²
è¯´æ˜ï¼šå“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦
object
ç±»å‹ï¼šå­—ç¬¦ä¸²
è¯´æ˜ï¼šå¯¹è±¡ç±»å‹,å€¼ä¸º "chat.completion"
created
ç±»å‹ï¼šæ•´æ•°
è¯´æ˜ï¼šå“åº”åˆ›å»ºæ—¶é—´æˆ³
model
ç±»å‹ï¼šå­—ç¬¦ä¸²
è¯´æ˜ï¼šä½¿ç”¨çš„æ¨¡å‹åç§°
system_fingerprint
ç±»å‹ï¼šå­—ç¬¦ä¸²
è¯´æ˜ï¼šç³»ç»ŸæŒ‡çº¹æ ‡è¯†ç¬¦
choices
ç±»å‹ï¼šæ•°ç»„
è¯´æ˜ï¼šåŒ…å«ç”Ÿæˆçš„å›å¤é€‰é¡¹
å±æ€§:
index: é€‰é¡¹ç´¢å¼•
message: åŒ…å«è§’è‰²å’Œå†…å®¹çš„æ¶ˆæ¯å¯¹è±¡
logprobs: æ—¥å¿—æ¦‚ç‡ä¿¡æ¯
finish_reason: å®ŒæˆåŸå› 
usage
ç±»å‹ï¼šå¯¹è±¡
è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
å±æ€§:
prompt_tokens: æç¤ºä½¿ç”¨çš„ token æ•°
completion_tokens: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
total_tokens: æ€» token æ•°
completion_tokens_details: token è¯¦ç»†ä¿¡æ¯
# Anthropic å¯¹è¯æ ¼å¼ï¼ˆMessagesï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> - [Anthropic Messages](https://docs.anthropic.com/en/api/messages)
> - [Anthropic Streaming Messages](https://docs.anthropic.com/en/api/messages-streaming)

## ğŸ“ ç®€ä»‹

ç»™å®šä¸€ç»„åŒ…å«æ–‡æœ¬å’Œ/æˆ–å›¾åƒå†…å®¹çš„ç»“æ„åŒ–è¾“å…¥æ¶ˆæ¯åˆ—è¡¨ï¼Œæ¨¡å‹å°†ç”Ÿæˆå¯¹è¯ä¸­çš„ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚Messages API å¯ç”¨äºå•æ¬¡æŸ¥è¯¢æˆ–æ— çŠ¶æ€çš„å¤šè½®å¯¹è¯ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€æ–‡æœ¬å¯¹è¯ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/messages \
     --header "anthropic-version: 2023-06-01" \
     --header "content-type: application/json" \
     --header "x-api-key: $NEWAPI_API_KEY" \
     --data \
'{
    "model": "claude-3-5-sonnet-20241022",
    "max_tokens": 1024,
    "messages": [
        {"role": "user", "content": "Hello, world"}
    ]
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "content": [
    {
      "text": "Hi! My name is Claude.",
      "type": "text"
    }
  ],
  "id": "msg_013Zva2CMHLNnXjNJKqJ2EF",
  "model": "claude-3-5-sonnet-20241022", 
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "input_tokens": 2095,
    "output_tokens": 503
  }
}
```

### å›¾åƒåˆ†æå¯¹è¯ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/messages \
     --header "anthropic-version: 2023-06-01" \
     --header "content-type: application/json" \
     --header "x-api-key: $NEWAPI_API_KEY" \
     --data \
'{
    "model": "claude-3-5-sonnet-20241022",
    "messages": [
        {
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "base64",
                        "media_type": "image/jpeg",
                        "data": "/9j/4AAQSkZJRg..."
                    }
                },
                {
                    "type": "text",
                    "text": "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆ?"
                }
            ]
        }
    ]
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "content": [
    {
      "text": "è¿™å¼ å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€åªæ©™è‰²çš„çŒ«å’ªæ­£åœ¨çª—å°ä¸Šæ™’å¤ªé˜³ã€‚çŒ«å’ªçœ‹èµ·æ¥å¾ˆæ”¾æ¾ï¼Œçœ¯ç€çœ¼ç›äº«å—é˜³å…‰ã€‚çª—å¤–å¯ä»¥çœ‹åˆ°ä¸€äº›ç»¿è‰²çš„æ¤ç‰©ã€‚",
      "type": "text"
    }
  ],
  "id": "msg_013Zva2CMHLNnXjNJKqJ2EF",
  "model": "claude-3-5-sonnet-20241022",
  "role": "assistant",
  "stop_reason": "end_turn",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "input_tokens": 3050,
    "output_tokens": 892
  }
}
```

### å·¥å…·è°ƒç”¨ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/messages \
     --header "anthropic-version: 2023-06-01" \
     --header "content-type: application/json" \
     --header "x-api-key: $NEWAPI_API_KEY" \
     --data \
'{
    "model": "claude-3-5-sonnet-20241022",
    "messages": [
        {
            "role": "user", 
            "content": "ä»Šå¤©åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·?"
        }
    ],
    "tools": [
        {
            "name": "get_weather",
            "description": "è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”",
            "input_schema": {
                "type": "object",
                "properties": {
                    "location": {
                        "type": "string",
                        "description": "åŸå¸‚åç§°,å¦‚:åŒ—äº¬"
                    }
                },
                "required": ["location"]
            }
        }
    ]
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "content": [
    {
      "type": "tool_use",
      "id": "toolu_01D7FLrfh4GYq7yT1ULFeyMV",
      "name": "get_weather",
      "input": { "location": "åŒ—äº¬" }
    }
  ],
  "id": "msg_013Zva2CMHLNnXjNJKqJ2EF",
  "model": "claude-3-5-sonnet-20241022",
  "role": "assistant",
  "stop_reason": "tool_use",
  "stop_sequence": null,
  "type": "message",
  "usage": {
    "input_tokens": 2156,
    "output_tokens": 468
  }
}
```

### æµå¼å“åº” âœ…

```javascript
curl https://sg.uiuiapi.com/v1/messages \
     --header "anthropic-version: 2023-06-01" \
     --header "content-type: application/json" \
     --header "x-api-key: $NEWAPI_API_KEY" \
     --data \
'{
    "model": "claude-3-5-sonnet-20241022",
    "messages": [
        {
            "role": "user",
            "content": "è®²ä¸ªæ•…äº‹"
        }
    ],
    "stream": true
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "type": "message_start",
  "message": {
    "id": "msg_013Zva2CMHLNnXjNJKqJ2EF",
    "model": "claude-3-5-sonnet-20241022",
    "role": "assistant",
    "type": "message"
  }
}
{
  "type": "content_block_start",
  "index": 0,
  "content_block": {
    "type": "text"
  }
}
{
  "type": "content_block_delta",
  "index": 0,
  "delta": {
    "text": "ä»å‰"
  }
}
{
  "type": "content_block_delta",
  "index": 0,
  "delta": {
    "text": "æœ‰ä¸€åª"
  }
}
{
  "type": "content_block_delta",
  "index": 0,
  "delta": {
    "text": "å°å…”å­..."
  }
}
{
  "type": "content_block_stop",
  "index": 0
}
{
  "type": "message_delta",
  "delta": {
    "stop_reason": "end_turn",
    "usage": {
      "input_tokens": 2045,
      "output_tokens": 628
    }
  }
}
{
  "type": "message_stop"
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```javascript
POST /v1/messages
```

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
x-api-key: $NEWAPI_API_KEY
```

å…¶ä¸­ `$NEWAPI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚æ‚¨å¯ä»¥é€šè¿‡æ§åˆ¶å°è·å– API å¯†é’¥ï¼Œæ¯ä¸ªå¯†é’¥ä»…é™äºä¸€ä¸ªå·¥ä½œåŒºä½¿ç”¨ã€‚

### è¯·æ±‚å¤´å‚æ•°

#### `anthropic-beta`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦

æŒ‡å®šè¦ä½¿ç”¨çš„ beta ç‰ˆæœ¬ï¼Œæ”¯æŒç”¨é€—å·åˆ†éš”çš„åˆ—è¡¨å¦‚ `beta1,beta2`ï¼Œæˆ–å¤šæ¬¡æŒ‡å®šè¯¥è¯·æ±‚å¤´ã€‚

#### `anthropic-version`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯

æŒ‡å®šè¦ä½¿ç”¨çš„ API ç‰ˆæœ¬ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `max_tokens`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šæ˜¯

ç”Ÿæˆçš„æœ€å¤§ token æ•°é‡ã€‚ä¸åŒæ¨¡å‹æœ‰ä¸åŒçš„é™åˆ¶ï¼Œè¯¦è§æ¨¡å‹æ–‡æ¡£ã€‚èŒƒå›´ `x > 1`ã€‚

#### `messages`

- ç±»å‹ï¼šå¯¹è±¡æ•°ç»„
- å¿…éœ€ï¼šæ˜¯

è¾“å…¥æ¶ˆæ¯åˆ—è¡¨ã€‚æ¨¡å‹è¢«è®­ç»ƒä¸ºåœ¨ç”¨æˆ·å’ŒåŠ©æ‰‹ä¹‹é—´äº¤æ›¿è¿›è¡Œå¯¹è¯ã€‚åˆ›å»ºæ–°æ¶ˆæ¯æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ messages å‚æ•°æŒ‡å®šä¹‹å‰çš„å¯¹è¯è½®æ¬¡ï¼Œæ¨¡å‹å°†ç”Ÿæˆå¯¹è¯ä¸­çš„ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚è¿ç»­çš„ç”¨æˆ·æˆ–åŠ©æ‰‹æ¶ˆæ¯ä¼šè¢«åˆå¹¶ä¸ºå•ä¸ªè½®æ¬¡ã€‚

æ¯ä¸ªæ¶ˆæ¯å¿…é¡»åŒ…å« `role` å’Œ `content` å­—æ®µã€‚æ‚¨å¯ä»¥æŒ‡å®šå•ä¸ªç”¨æˆ·è§’è‰²æ¶ˆæ¯ï¼Œæˆ–åŒ…å«å¤šä¸ªç”¨æˆ·å’ŒåŠ©æ‰‹æ¶ˆæ¯ã€‚å¦‚æœæœ€åä¸€æ¡æ¶ˆæ¯ä½¿ç”¨åŠ©æ‰‹è§’è‰²ï¼Œå“åº”å†…å®¹å°†ç›´æ¥ä»è¯¥æ¶ˆæ¯çš„å†…å®¹ç»§ç»­ï¼Œè¿™å¯ä»¥ç”¨æ¥çº¦æŸæ¨¡å‹çš„å“åº”ã€‚

**å•æ¡ç”¨æˆ·æ¶ˆæ¯ç¤ºä¾‹:**

```javascript
[{"role": "user", "content": "Hello, Claude"}]
```

**å¤šè½®å¯¹è¯ç¤ºä¾‹:**

```javascript
[
  {"role": "user", "content": "ä½ å¥½ã€‚"},
  {"role": "assistant", "content": "ä½ å¥½ï¼æˆ‘æ˜¯ Claudeã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿ"},
  {"role": "user", "content": "è¯·ç”¨ç®€å•çš„è¯è§£é‡Šä»€ä¹ˆæ˜¯ LLMï¼Ÿ"}
]
```

**éƒ¨åˆ†å¡«å……çš„å“åº”ç¤ºä¾‹:**

```javascript
[
  {"role": "user", "content": "å¤ªé˜³çš„å¸Œè…Šè¯­åå­—æ˜¯ä»€ä¹ˆ? (A) Sol (B) Helios (C) Sun"},
  {"role": "assistant", "content": "æ­£ç¡®ç­”æ¡ˆæ˜¯ ("}
]
```

æ¯ä¸ªæ¶ˆæ¯çš„ content å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å†…å®¹å—æ•°ç»„ã€‚ä½¿ç”¨å­—ç¬¦ä¸²ç›¸å½“äºä¸€ä¸ª "text" ç±»å‹çš„å†…å®¹å—æ•°ç»„çš„ç®€å†™ã€‚ä»¥ä¸‹ä¸¤ç§å†™æ³•ç­‰æ•ˆï¼š

```javascript
{"role": "user", "content": "Hello, Claude"}
```

```javascript
{
  "role": "user", 
  "content": [{"type": "text", "text": "Hello, Claude"}]
}
```

ä» Claude 3 æ¨¡å‹å¼€å§‹ï¼Œæ‚¨è¿˜å¯ä»¥å‘é€å›¾ç‰‡å†…å®¹å—ï¼š

```javascript
{
  "role": "user",
  "content": [
    {
      "type": "image",
      "source": {
        "type": "base64",
        "media_type": "image/jpeg",
        "data": "/9j/4AAQSkZJRg..."
      }
    },
    {
      "type": "text",
      "text": "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆ?"
    }
  ]
}
```

> ç›®å‰æ”¯æŒçš„å›¾ç‰‡æ ¼å¼åŒ…æ‹¬: base64, image/jpegã€image/pngã€image/gif å’Œ image/webpã€‚

##### `messages.role`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å¯é€‰å€¼ï¼šuser, assistant

æ³¨æ„ï¼šMessages API ä¸­æ²¡æœ‰ "system" è§’è‰²ï¼Œå¦‚æœéœ€è¦ç³»ç»Ÿæç¤ºï¼Œè¯·ä½¿ç”¨é¡¶å±‚çš„ system å‚æ•°ã€‚

##### `messages.content`[

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ–å¯¹è±¡æ•°ç»„
- å¿…éœ€ï¼šæ˜¯

æ¶ˆæ¯å†…å®¹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ä¹‹ä¸€ï¼š

###### æ–‡æœ¬å†…å®¹ (Text)

```javascript
{
  "type": "text",          // å¿…éœ€ï¼Œæšä¸¾å€¼: "text"
  "text": "Hello, Claude", // å¿…éœ€ï¼Œæœ€å°é•¿åº¦: 1
  "cache_control": {
    "type": "ephemeral"    // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
  }
}
```

###### å›¾ç‰‡å†…å®¹ (Image)

```javascript
{
  "type": "image",         // å¿…éœ€ï¼Œæšä¸¾å€¼: "image"
  "source": {             // å¿…éœ€
    "type": "base64",     // å¿…éœ€ï¼Œæšä¸¾å€¼: "base64"
    "media_type": "image/jpeg", // å¿…éœ€ï¼Œæ”¯æŒ: image/jpeg, image/png, image/gif, image/webp
    "data": "/9j/4AAQSkZJRg..."  // å¿…éœ€ï¼Œbase64 ç¼–ç çš„å›¾ç‰‡æ•°æ®
  },
  "cache_control": {
    "type": "ephemeral"    // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
  }
}
```

###### å·¥å…·ä½¿ç”¨ (Tool Use)

```javascript
{
  "type": "tool_use",      // å¿…éœ€ï¼Œæšä¸¾å€¼: "tool_use"ï¼Œé»˜è®¤å€¼
  "id": "toolu_xyz...",    // å¿…éœ€ï¼Œå·¥å…·ä½¿ç”¨çš„å”¯ä¸€æ ‡è¯†ç¬¦
  "name": "get_weather",   // å¿…éœ€ï¼Œå·¥å…·åç§°ï¼Œæœ€å°é•¿åº¦: 1
  "input": {              // å¿…éœ€ï¼Œå·¥å…·çš„è¾“å…¥å‚æ•°å¯¹è±¡
    // å·¥å…·è¾“å…¥å‚æ•°ï¼Œå…·ä½“æ ¼å¼ç”±å·¥å…·çš„ input_schema å®šä¹‰
  },
  "cache_control": {
    "type": "ephemeral"    // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
  }
}
```

###### å·¥å…·ç»“æœ (Tool Result)

```javascript
{
  "type": "tool_result",   // å¿…éœ€ï¼Œæšä¸¾å€¼: "tool_result"
  "tool_use_id": "toolu_xyz...",  // å¿…éœ€
  "content": "ç»“æœå†…å®¹",   // å¿…éœ€ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å†…å®¹å—æ•°ç»„
  "is_error": false,      // å¯é€‰ï¼Œå¸ƒå°”å€¼
  "cache_control": {
    "type": "ephemeral"    // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
  }
}
```

å½“ content ä¸ºå†…å®¹å—æ•°ç»„æ—¶ï¼Œæ¯ä¸ªå†…å®¹å—å¯ä»¥æ˜¯æ–‡æœ¬æˆ–å›¾ç‰‡ï¼š

```javascript
{
  "type": "tool_result",
  "tool_use_id": "toolu_xyz...",
  "content": [
    {
      "type": "text",      // å¿…éœ€ï¼Œæšä¸¾å€¼: "text"
      "text": "åˆ†æç»“æœ",   // å¿…éœ€ï¼Œæœ€å°é•¿åº¦: 1
      "cache_control": {
        "type": "ephemeral" // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
      }
    },
    {
      "type": "image",     // å¿…éœ€ï¼Œæšä¸¾å€¼: "image"
      "source": {         // å¿…éœ€
        "type": "base64", // å¿…éœ€ï¼Œæšä¸¾å€¼: "base64"
        "media_type": "image/jpeg",
        "data": "..."
      },
      "cache_control": {
        "type": "ephemeral"
      }
    }
  ]
}
```

###### æ–‡æ¡£ (Document)

```javascript
{
  "type": "document",      // å¿…éœ€ï¼Œæšä¸¾å€¼: "document"
  "source": {             // å¿…éœ€
    // æ–‡æ¡£æºæ•°æ®
  },
  "cache_control": {
    "type": "ephemeral"    // å¯é€‰ï¼Œæšä¸¾å€¼: "ephemeral"
  }
}
```

æ³¨æ„ï¼š 1. æ¯ç§ç±»å‹éƒ½å¯ä»¥åŒ…å«å¯é€‰çš„ `cache_control` å­—æ®µï¼Œç”¨äºæ§åˆ¶å†…å®¹çš„ç¼“å­˜è¡Œä¸º 2. æ–‡æœ¬å†…å®¹çš„æœ€å°é•¿åº¦ä¸º 1 3. æ‰€æœ‰ç±»å‹çš„ type å­—æ®µéƒ½æ˜¯å¿…éœ€çš„æšä¸¾å­—ç¬¦ä¸² 4. å·¥å…·ç»“æœçš„ content å­—æ®µæ”¯æŒå­—ç¬¦ä¸²æˆ–åŒ…å«æ–‡æœ¬/å›¾ç‰‡çš„å†…å®¹å—æ•°ç»„

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯

è¦ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼Œè¯¦è§æ¨¡å‹æ–‡æ¡£ã€‚èŒƒå›´ `1 - 256` ä¸ªå­—ç¬¦ã€‚

#### `metadata`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦

æè¿°è¯·æ±‚å…ƒæ•°æ®çš„å¯¹è±¡ã€‚åŒ…å«ä»¥ä¸‹å¯é€‰å­—æ®µï¼š

- `user_id`: ä¸è¯·æ±‚å…³è”çš„ç”¨æˆ·çš„å¤–éƒ¨æ ‡è¯†ç¬¦ã€‚åº”è¯¥æ˜¯ uuidã€å“ˆå¸Œå€¼æˆ–å…¶ä»–ä¸é€æ˜æ ‡è¯†ç¬¦ã€‚ä¸è¦åŒ…å«ä»»ä½•æ ‡è¯†ä¿¡æ¯å¦‚å§“åã€é‚®ç®±æˆ–ç”µè¯å·ç ã€‚æœ€å¤§é•¿åº¦ï¼š256ã€‚

#### `stop_sequences`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šå¦

è‡ªå®šä¹‰çš„åœæ­¢ç”Ÿæˆçš„æ–‡æœ¬åºåˆ—ã€‚

#### `stream`

- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦

æ˜¯å¦ä½¿ç”¨æœåŠ¡å™¨å‘é€äº‹ä»¶ (SSE) æ¥å¢é‡è¿”å›å“åº”å†…å®¹ã€‚

#### `system`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦

ç³»ç»Ÿ promptï¼Œä¸º Claude æä¾›èƒŒæ™¯å’ŒæŒ‡ä»¤ã€‚è¿™æ˜¯ä¸€ç§ä¸ºæ¨¡å‹æä¾›ä¸Šä¸‹æ–‡å’Œç‰¹å®šç›®æ ‡æˆ–è§’è‰²çš„æ–¹å¼ã€‚æ³¨æ„è¿™ä¸æ¶ˆæ¯ä¸­çš„ role ä¸åŒï¼ŒMessages API ä¸­æ²¡æœ‰ "system" è§’è‰²ã€‚

#### `temperature`

- ç±»å‹ï¼šæ•°å­—
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1.0

æ§åˆ¶ç”Ÿæˆéšæœºæ€§ï¼Œ0.0 - 1.0ã€‚èŒƒå›´ `0 < x < 1`ã€‚å»ºè®®å¯¹äºåˆ†ææ€§/é€‰æ‹©é¢˜ç±»ä»»åŠ¡ä½¿ç”¨æ¥è¿‘ 0.0 çš„å€¼ï¼Œå¯¹äºåˆ›é€ æ€§å’Œç”Ÿæˆæ€§ä»»åŠ¡ä½¿ç”¨æ¥è¿‘ 1.0 çš„å€¼ã€‚

æ³¨æ„ï¼šå³ä½¿ temperature è®¾ç½®ä¸º 0.0ï¼Œç»“æœä¹Ÿä¸ä¼šå®Œå…¨ç¡®å®šã€‚

#### ğŸ†• `thinking`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦

é…ç½® Claude çš„æ‰©å±•æ€è€ƒåŠŸèƒ½ã€‚å¯ç”¨æ—¶ï¼Œå“åº”å°†åŒ…å«å±•ç¤º Claude åœ¨ç»™å‡ºæœ€ç»ˆç­”æ¡ˆå‰çš„æ€è€ƒè¿‡ç¨‹çš„å†…å®¹å—ã€‚éœ€è¦è‡³å°‘ 1,024 ä¸ª token çš„é¢„ç®—ï¼Œå¹¶è®¡å…¥æ‚¨çš„ max\_tokens é™åˆ¶ã€‚

å¯ä»¥è®¾ç½®ä¸ºä»¥ä¸‹ä¸¤ç§æ¨¡å¼ä¹‹ä¸€ï¼š

##### 1. å¯ç”¨æ¨¡å¼

```javascript
{
  "type": "enabled",
  "budget_tokens": 2048
}
```

- `type`: å¿…éœ€ï¼Œæšä¸¾å€¼: "enabled"
- `budget_tokens`: å¿…éœ€ï¼Œæ•´æ•°ã€‚å†³å®š Claude å¯ä»¥ç”¨äºå†…éƒ¨æ¨ç†è¿‡ç¨‹çš„ token æ•°é‡ã€‚æ›´å¤§çš„é¢„ç®—å¯ä»¥è®©æ¨¡å‹å¯¹å¤æ‚é—®é¢˜è¿›è¡Œæ›´æ·±å…¥çš„åˆ†æï¼Œæé«˜å“åº”è´¨é‡ã€‚å¿…é¡» â‰¥1024 ä¸”å°äº max\_tokensã€‚èŒƒå›´ `x > 1024`ã€‚

##### 2. ç¦ç”¨æ¨¡å¼

```javascript
{
  "type": "disabled"
}
```

- `type`: å¿…éœ€ï¼Œæšä¸¾å€¼: "disabled"

#### `tool_choice`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦

æ§åˆ¶æ¨¡å‹å¦‚ä½•ä½¿ç”¨æä¾›çš„å·¥å…·ã€‚å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ç§ç±»å‹ä¹‹ä¸€ï¼š

##### 1. Auto æ¨¡å¼ (è‡ªåŠ¨é€‰æ‹©)

```javascript
{
  "type": "auto",  // å¿…éœ€ï¼Œæšä¸¾å€¼: "auto"
  "disable_parallel_tool_use": false  // å¯é€‰ï¼Œé»˜è®¤ falseã€‚å¦‚æœä¸º trueï¼Œæ¨¡å‹æœ€å¤šåªä¼šä½¿ç”¨ä¸€ä¸ªå·¥å…·
}
```

##### 2. Any æ¨¡å¼ (ä»»æ„å·¥å…·)

```javascript
{
  "type": "any",  // å¿…éœ€ï¼Œæšä¸¾å€¼: "any"
  "disable_parallel_tool_use": false  // å¯é€‰ï¼Œé»˜è®¤ falseã€‚å¦‚æœä¸º trueï¼Œæ¨¡å‹å°†æ°å¥½ä½¿ç”¨ä¸€ä¸ªå·¥å…·
}
```

##### 3. Tool æ¨¡å¼ (æŒ‡å®šå·¥å…·)

```javascript
{
  "type": "tool",  // å¿…éœ€ï¼Œæšä¸¾å€¼: "tool"
  "name": "get_weather",  // å¿…éœ€ï¼ŒæŒ‡å®šè¦ä½¿ç”¨çš„å·¥å…·åç§°
  "disable_parallel_tool_use": false  // å¯é€‰ï¼Œé»˜è®¤ falseã€‚å¦‚æœä¸º trueï¼Œæ¨¡å‹å°†æ°å¥½ä½¿ç”¨ä¸€ä¸ªå·¥å…·
}
```

æ³¨æ„ï¼š 1. Auto æ¨¡å¼ï¼šæ¨¡å‹å¯ä»¥è‡ªè¡Œå†³å®šæ˜¯å¦ä½¿ç”¨å·¥å…· 2. Any æ¨¡å¼ï¼šæ¨¡å‹å¿…é¡»ä½¿ç”¨å·¥å…·ï¼Œä½†å¯ä»¥é€‰æ‹©ä»»ä½•å¯ç”¨çš„å·¥å…· 3. Tool æ¨¡å¼ï¼šæ¨¡å‹å¿…é¡»ä½¿ç”¨æŒ‡å®šçš„å·¥å…·

#### `tools`

- ç±»å‹ï¼šå¯¹è±¡æ•°ç»„
- å¿…éœ€ï¼šå¦

å®šä¹‰æ¨¡å‹å¯èƒ½ä½¿ç”¨çš„å·¥å…·ã€‚å·¥å…·å¯ä»¥æ˜¯è‡ªå®šä¹‰å·¥å…·æˆ–å†…ç½®å·¥å…·ç±»å‹ï¼š

##### 1. è‡ªå®šä¹‰å·¥å…·ï¼ˆToolï¼‰

æ¯ä¸ªè‡ªå®šä¹‰å·¥å…·å®šä¹‰åŒ…å«ï¼š

- `type`: å¯é€‰ï¼Œæšä¸¾å€¼: "custom"
- `name`: å·¥å…·åç§°ï¼Œå¿…éœ€ï¼Œ1-64 ä¸ªå­—ç¬¦
- `description`: å·¥å…·æè¿°ï¼Œå»ºè®®å°½å¯èƒ½è¯¦ç»†
- `input_schema`: å·¥å…·è¾“å…¥çš„ JSON Schema å®šä¹‰ï¼Œå¿…éœ€
- `cache_control`: ç¼“å­˜æ§åˆ¶ï¼Œå¯é€‰ï¼Œtype ä¸º "ephemeral"

ç¤ºä¾‹ï¼š

```javascript
[
  {
    "type": "custom",
    "name": "get_weather",
    "description": "è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”",
    "input_schema": {
      "type": "object",
      "properties": {
        "location": {
          "type": "string",
          "description": "åŸå¸‚åç§°,å¦‚:åŒ—äº¬"
        }
      },
      "required": ["location"]
    }
  }
]
```

##### 2. è®¡ç®—æœºå·¥å…· (ComputerUseTool)

```javascript
{
  "type": "computer_20241022",  // å¿…éœ€
  "name": "computer",           // å¿…éœ€ï¼Œæšä¸¾å€¼: "computer"
  "display_width_px": 1024,     // å¿…éœ€ï¼Œæ˜¾ç¤ºå®½åº¦(åƒç´ )
  "display_height_px": 768,     // å¿…éœ€ï¼Œæ˜¾ç¤ºé«˜åº¦(åƒç´ )
  "display_number": 0,          // å¯é€‰ï¼ŒX11 æ˜¾ç¤ºç¼–å·
  "cache_control": {
    "type": "ephemeral"         // å¯é€‰
  }
}
```

##### 3. Bash å·¥å…· (BashTool)

```javascript
{
  "type": "bash_20241022",      // å¿…éœ€
  "name": "bash",               // å¿…éœ€ï¼Œæšä¸¾å€¼: "bash"
  "cache_control": {
    "type": "ephemeral"         // å¯é€‰
  }
}
```

##### 4. æ–‡æœ¬ç¼–è¾‘å™¨å·¥å…· (TextEditor)

```javascript
{
  "type": "text_editor_20241022", // å¿…éœ€
  "name": "str_replace_editor",   // å¿…éœ€ï¼Œæšä¸¾å€¼: "str_replace_editor"
  "cache_control": {
    "type": "ephemeral"           // å¯é€‰
  }
}
```

å½“æ¨¡å‹ä½¿ç”¨å·¥å…·æ—¶ï¼Œä¼šè¿”å› tool\_use å†…å®¹å—ï¼š

```javascript
[
  {
    "type": "tool_use",
    "id": "toolu_01D7FLrfh4GYq7yT1ULFeyMV",
    "name": "get_weather",
    "input": { "location": "åŒ—äº¬" }
  }
]
```

æ‚¨å¯ä»¥æ‰§è¡Œå·¥å…·å¹¶é€šè¿‡ tool\_result å†…å®¹å—è¿”å›ç»“æœï¼š

```javascript
[
  {
    "type": "tool_result",
    "tool_use_id": "toolu_01D7FLrfh4GYq7yT1ULFeyMV",
    "content": "åŒ—äº¬å½“å‰å¤©æ°”æ™´æœ—ï¼Œæ¸©åº¦ 25Â°C"
  }
]
```

#### `top_k`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šå¦
- èŒƒå›´ï¼šx > 0

ä» token çš„å‰ K ä¸ªé€‰é¡¹ä¸­é‡‡æ ·ã€‚ç”¨äºç§»é™¤ä½æ¦‚ç‡çš„"é•¿å°¾"å“åº”ã€‚å»ºè®®ä»…åœ¨é«˜çº§ç”¨ä¾‹ä¸­ä½¿ç”¨ï¼Œé€šå¸¸åªéœ€è¦è°ƒæ•´ temperatureã€‚

#### `top_p`

- ç±»å‹ï¼šæ•°å­—
- å¿…éœ€ï¼šå¦
- èŒƒå›´ï¼š0 < x < 1

ä½¿ç”¨ nucleus é‡‡æ ·ã€‚è®¡ç®—æ¯ä¸ªåç»­ token æŒ‰æ¦‚ç‡é™åºæ’åˆ—çš„ç´¯ç§¯åˆ†å¸ƒï¼Œåœ¨è¾¾åˆ° top\_p æŒ‡å®šçš„æ¦‚ç‡æ—¶æˆªæ–­ã€‚å»ºè®®ä»…è°ƒæ•´ temperature æˆ– top\_p å…¶ä¸­ä¹‹ä¸€ï¼Œä¸è¦åŒæ—¶ä½¿ç”¨ã€‚

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

è¿”å›ä¸€ä¸ªèŠå¤©è¡¥å…¨å¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

#### `content`

- ç±»å‹ï¼šå¯¹è±¡æ•°ç»„
- å¿…éœ€ï¼šæ˜¯

æ¨¡å‹ç”Ÿæˆçš„å†…å®¹ï¼Œç”±å¤šä¸ªå†…å®¹å—ç»„æˆã€‚æ¯ä¸ªå†…å®¹å—éƒ½æœ‰ä¸€ä¸ªç¡®å®šå…¶å½¢çŠ¶çš„ typeã€‚å†…å®¹å—å¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š

##### æ–‡æœ¬å†…å®¹å— (Text)

```javascript
{
  "type": "text",          // å¿…éœ€ï¼Œæšä¸¾å€¼: "text"ï¼Œé»˜è®¤å€¼
  "text": "ä½ å¥½ï¼Œæˆ‘æ˜¯ Claudeã€‚" // å¿…éœ€ï¼Œæœ€å¤§é•¿åº¦: 5000000ï¼Œæœ€å°é•¿åº¦: 1
}
```

##### å·¥å…·ä½¿ç”¨å†…å®¹å— (Tool Use)

```javascript
{
  "type": "tool_use",      // å¿…éœ€ï¼Œæšä¸¾å€¼: "tool_use"ï¼Œé»˜è®¤å€¼
  "id": "toolu_xyz...",    // å¿…éœ€ï¼Œå·¥å…·ä½¿ç”¨çš„å”¯ä¸€æ ‡è¯†ç¬¦
  "name": "get_weather",   // å¿…éœ€ï¼Œå·¥å…·åç§°ï¼Œæœ€å°é•¿åº¦: 1
  "input": {              // å¿…éœ€ï¼Œå·¥å…·çš„è¾“å…¥å‚æ•°å¯¹è±¡
    // å·¥å…·è¾“å…¥å‚æ•°ï¼Œå…·ä½“æ ¼å¼ç”±å·¥å…·çš„ input_schema å®šä¹‰
  }
}
```

ç¤ºä¾‹ï¼š

```javascript
// æ–‡æœ¬å†…å®¹ç¤ºä¾‹
[{"type": "text", "text": "ä½ å¥½ï¼Œæˆ‘æ˜¯ Claudeã€‚"}]

// å·¥å…·ä½¿ç”¨ç¤ºä¾‹
[{
  "type": "tool_use",
  "id": "toolu_xyz...",
  "name": "get_weather",
  "input": { "location": "åŒ—äº¬" }
}]

// æ··åˆå†…å®¹ç¤ºä¾‹
[
  {"type": "text", "text": "æ ¹æ®å¤©æ°”æŸ¥è¯¢ç»“æœï¼š"},
  {
    "type": "tool_use",
    "id": "toolu_xyz...",
    "name": "get_weather",
    "input": { "location": "åŒ—äº¬" }
  }
]
```

å¦‚æœè¯·æ±‚çš„æœ€åä¸€æ¡æ¶ˆæ¯æ˜¯åŠ©æ‰‹è§’è‰²ï¼Œå“åº”å†…å®¹ä¼šç›´æ¥ä»è¯¥æ¶ˆæ¯ç»§ç»­ã€‚ä¾‹å¦‚ï¼š

```javascript
// è¯·æ±‚
[
  {"role": "user", "content": "å¤ªé˜³çš„å¸Œè…Šè¯­åå­—æ˜¯ä»€ä¹ˆ? (A) Sol (B) Helios (C) Sun"},
  {"role": "assistant", "content": "æ­£ç¡®ç­”æ¡ˆæ˜¯ ("}
]

// å“åº”
[{"type": "text", "text": "B)"}]
```

#### `id`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯

å“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯

ä½¿ç”¨çš„æ¨¡å‹åç§°ã€‚

#### `role`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- é»˜è®¤å€¼ï¼šassistant

ç”Ÿæˆæ¶ˆæ¯çš„ä¼šè¯è§’è‰²ï¼Œå§‹ç»ˆä¸º "assistant"ã€‚

#### `stop_reason`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šæ˜¯

åœæ­¢ç”Ÿæˆçš„åŸå› ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š

- `"end_turn"`: æ¨¡å‹è¾¾åˆ°è‡ªç„¶åœæ­¢ç‚¹
- `"max_tokens"`: è¶…è¿‡è¯·æ±‚çš„ max\_tokens æˆ–æ¨¡å‹çš„æœ€å¤§é™åˆ¶
- `"stop_sequence"`: ç”Ÿæˆäº†è‡ªå®šä¹‰åœæ­¢åºåˆ—ä¹‹ä¸€
- `"tool_use"`: æ¨¡å‹è°ƒç”¨äº†ä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·

åœ¨éæµå¼æ¨¡å¼ä¸‹ï¼Œæ­¤å€¼å§‹ç»ˆéç©ºã€‚åœ¨æµå¼æ¨¡å¼ä¸‹ï¼Œåœ¨ message\_start äº‹ä»¶ä¸­ä¸º nullï¼Œå…¶ä»–æƒ…å†µä¸‹éç©ºã€‚

#### `stop_sequence`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šæ˜¯

ç”Ÿæˆçš„è‡ªå®šä¹‰åœæ­¢åºåˆ—ã€‚å¦‚æœæ¨¡å‹é‡åˆ°äº† stop\_sequences å‚æ•°ä¸­æŒ‡å®šçš„æŸä¸ªåºåˆ—ï¼Œè¿™ä¸ªå­—æ®µå°†åŒ…å«è¯¥åŒ¹é…çš„åœæ­¢åºåˆ—ã€‚å¦‚æœä¸æ˜¯å› ä¸ºåœæ­¢åºåˆ—è€Œåœæ­¢ï¼Œåˆ™ä¸º nullã€‚

#### `type`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- é»˜è®¤å€¼ï¼šmessage
- å¯é€‰å€¼ï¼šmessage

å¯¹è±¡ç±»å‹ï¼Œå¯¹äº Messages å§‹ç»ˆä¸º "message"ã€‚

#### `usage`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šæ˜¯

è®¡è´¹å’Œé™æµç›¸å…³çš„ä½¿ç”¨é‡ç»Ÿè®¡ã€‚åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- `input_tokens`: ä½¿ç”¨çš„è¾“å…¥ token æ•°é‡ï¼Œå¿…éœ€ï¼ŒèŒƒå›´ x > 0
- `output_tokens`: ä½¿ç”¨çš„è¾“å‡º token æ•°é‡ï¼Œå¿…éœ€ï¼ŒèŒƒå›´ x > 0
- `cache_creation_input_tokens`: åˆ›å»ºç¼“å­˜æ¡ç›®ä½¿ç”¨çš„è¾“å…¥ token æ•°é‡(å¦‚æœé€‚ç”¨)ï¼Œå¿…éœ€ï¼ŒèŒƒå›´ x > 0
- `cache_read_input_tokens`: ä»ç¼“å­˜è¯»å–çš„è¾“å…¥ token æ•°é‡(å¦‚æœé€‚ç”¨)ï¼Œå¿…éœ€ï¼ŒèŒƒå›´ x > 0

æ³¨æ„ï¼šç”±äº API åœ¨å†…éƒ¨ä¼šå¯¹è¯·æ±‚è¿›è¡Œè½¬æ¢å’Œè§£æï¼Œtoken è®¡æ•°å¯èƒ½ä¸è¯·æ±‚å’Œå“åº”çš„å®é™…å¯è§å†…å®¹ä¸å®Œå…¨å¯¹åº”ã€‚ä¾‹å¦‚ï¼Œå³ä½¿æ˜¯ç©ºå­—ç¬¦ä¸²å“åº”ï¼Œoutput\_tokens ä¹Ÿä¼šæ˜¯éé›¶å€¼ã€‚

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›ä¸€ä¸ªé”™è¯¯å“åº”å¯¹è±¡ï¼ŒHTTP çŠ¶æ€ç åœ¨ 4XX-5XX èŒƒå›´å†…ã€‚

#### å¸¸è§é”™è¯¯çŠ¶æ€ç 

- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `429 Too Many Requests`: è¶…å‡º API è°ƒç”¨é™åˆ¶
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

é”™è¯¯å“åº”ç¤ºä¾‹:

```javascript
{
  "error": {
    "type": "invalid_request_error",
    "message": "Invalid API key provided",
    "code": "invalid_api_key"
  }
}
```

ä¸»è¦é”™è¯¯ç±»å‹:

- `invalid_request_error`: è¯·æ±‚å‚æ•°é”™è¯¯
- `authentication_error`: è®¤è¯ç›¸å…³é”™è¯¯
- `rate_limit_error`: è¯·æ±‚é¢‘ç‡è¶…é™
- `server_error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
# Deepseek reasoning å¯¹è¯æ ¼å¼ï¼ˆç±»Chat Completionsï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> [æ¨ç†æ¨¡å‹ (deepseek-reasoner)](https://api-docs.deepseek.com/zh-cn/guides/reasoning_model)

## ğŸ“ ç®€ä»‹

Deepseek-reasoner æ˜¯ DeepSeek æ¨å‡ºçš„æ¨ç†æ¨¡å‹ã€‚åœ¨è¾“å‡ºæœ€ç»ˆå›ç­”ä¹‹å‰ï¼Œæ¨¡å‹ä¼šå…ˆè¾“å‡ºä¸€æ®µæ€ç»´é“¾å†…å®¹ï¼Œä»¥æå‡æœ€ç»ˆç­”æ¡ˆçš„å‡†ç¡®æ€§ã€‚API å‘ç”¨æˆ·å¼€æ”¾ deepseek-reasoner æ€ç»´é“¾çš„å†…å®¹ï¼Œä»¥ä¾›ç”¨æˆ·æŸ¥çœ‹ã€å±•ç¤ºã€è’¸é¦ä½¿ç”¨ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€æ–‡æœ¬å¯¹è¯ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "deepseek-reasoner",
    "messages": [
      {
        "role": "user",
        "content": "9.11 and 9.8, which is greater?"
      }
    ],
    "max_tokens": 4096
  }'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "deepseek-reasoner",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "reasoning_content": "è®©æˆ‘ä¸€æ­¥æ­¥æ€è€ƒ:\n1. æˆ‘ä»¬éœ€è¦æ¯”è¾ƒ9.11å’Œ9.8çš„å¤§å°\n2. ä¸¤ä¸ªæ•°éƒ½æ˜¯å°æ•°,æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¯”è¾ƒ\n3. 9.8 = 9.80\n4. 9.11 < 9.80\n5. æ‰€ä»¥9.8æ›´å¤§",
      "content": "9.8 is greater than 9.11."
    },
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 15,
    "total_tokens": 25
  }
}
```

### æµå¼å“åº” âœ…

```javascript
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "deepseek-reasoner",
    "messages": [
      {
        "role": "user",
        "content": "9.11 and 9.8, which is greater?"
      }
    ],
    "stream": true
  }'
```

**æµå¼å“åº”ç¤ºä¾‹:**

```javascript
{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"role":"assistant","reasoning_content":"è®©æˆ‘"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"reasoning_content":"ä¸€æ­¥æ­¥"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"reasoning_content":"æ€è€ƒ:"},"finish_reason":null}]}

// ... æ›´å¤šæ€ç»´é“¾å†…å®¹ ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"content":"9.8"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"content":" is greater"},"finish_reason":null}]}

// ... æ›´å¤šæœ€ç»ˆç­”æ¡ˆå†…å®¹ ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{},"finish_reason":"stop"}]}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```javascript
POST /v1/chat/completions
```

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$DEEPSEEK_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `messages`

- ç±»å‹ï¼šæ•°ç»„
- å¿…éœ€ï¼šæ˜¯

åˆ°ç›®å‰ä¸ºæ­¢åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ã€‚è¯·æ³¨æ„,å¦‚æœæ‚¨åœ¨è¾“å…¥çš„ messages åºåˆ—ä¸­ä¼ å…¥äº† reasoning\_contentï¼ŒAPI ä¼šè¿”å› 400 é”™è¯¯ã€‚

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å€¼ï¼šdeepseek-reasoner

è¦ä½¿ç”¨çš„æ¨¡å‹ IDã€‚ç›®å‰ä»…æ”¯æŒ deepseek-reasonerã€‚

#### `max_tokens`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š4096
- æœ€å¤§å€¼ï¼š8192

æœ€ç»ˆå›ç­”çš„æœ€å¤§é•¿åº¦ï¼ˆä¸å«æ€ç»´é“¾è¾“å‡ºï¼‰ã€‚è¯·æ³¨æ„ï¼Œæ€ç»´é“¾çš„è¾“å‡ºæœ€å¤šå¯ä»¥è¾¾åˆ° 32K tokensã€‚

#### `stream`

- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šfalse

æ˜¯å¦ä½¿ç”¨æµå¼å“åº”ã€‚

### ä¸æ”¯æŒçš„å‚æ•°

ä»¥ä¸‹å‚æ•°å½“å‰ä¸æ”¯æŒ:

- temperature
- top\_p
- presence\_penalty
- frequency\_penalty
- logprobs
- top\_logprobs

æ³¨æ„:ä¸ºäº†å…¼å®¹å·²æœ‰è½¯ä»¶,è®¾ç½® temperatureã€top\_pã€presence\_penaltyã€frequency\_penalty å‚æ•°ä¸ä¼šæŠ¥é”™,ä½†ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚è®¾ç½® logprobsã€top\_logprobs ä¼šæŠ¥é”™ã€‚

### æ”¯æŒçš„åŠŸèƒ½

- å¯¹è¯è¡¥å…¨
- å¯¹è¯å‰ç¼€ç»­å†™ (Beta)

### ä¸æ”¯æŒçš„åŠŸèƒ½

- Function Call
- Json Output
- FIM è¡¥å…¨ (Beta)

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

è¿”å›ä¸€ä¸ªèŠå¤©è¡¥å…¨å¯¹è±¡ï¼Œå¦‚æœè¯·æ±‚è¢«æµå¼ä¼ è¾“ï¼Œåˆ™è¿”å›èŠå¤©è¡¥å…¨å—å¯¹è±¡çš„æµå¼åºåˆ—ã€‚

#### `id`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦

#### `object`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå¯¹è±¡ç±»å‹,å€¼ä¸º "chat.completion"

#### `created`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šå“åº”åˆ›å»ºæ—¶é—´æˆ³

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä½¿ç”¨çš„æ¨¡å‹åç§°,å€¼ä¸º "deepseek-reasoner"

#### `choices`

- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šåŒ…å«ç”Ÿæˆçš„å›å¤é€‰é¡¹
- å±æ€§:
- `index`: é€‰é¡¹ç´¢å¼•
- `message`: åŒ…å«è§’è‰²ã€æ€ç»´é“¾å†…å®¹å’Œæœ€ç»ˆå›ç­”çš„æ¶ˆæ¯å¯¹è±¡
    - `role`: è§’è‰²,å€¼ä¸º "assistant"
    - `reasoning_content`: æ€ç»´é“¾å†…å®¹
    - `content`: æœ€ç»ˆå›ç­”å†…å®¹
- `finish_reason`: å®ŒæˆåŸå› 

#### `usage`

- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
- å±æ€§:
- `prompt_tokens`: æç¤ºä½¿ç”¨çš„ token æ•°
- `completion_tokens`: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
- `total_tokens`: æ€» token æ•°

## ğŸ“ ä¸Šä¸‹æ–‡æ‹¼æ¥è¯´æ˜

åœ¨æ¯ä¸€è½®å¯¹è¯è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šè¾“å‡ºæ€ç»´é“¾å†…å®¹ï¼ˆreasoning\_contentï¼‰å’Œæœ€ç»ˆå›ç­”ï¼ˆcontentï¼‰ã€‚åœ¨ä¸‹ä¸€è½®å¯¹è¯ä¸­ï¼Œä¹‹å‰è½®è¾“å‡ºçš„æ€ç»´é“¾å†…å®¹ä¸ä¼šè¢«æ‹¼æ¥åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Deepseek reasoning ä¸Šä¸‹æ–‡æ‹¼æ¥ç¤ºæ„å›¾](https://docs.newapi.pro/assets/deepseek_r1_multiround_example_cn.png?qc_blockWidth=609&qc_blockHeight=569)

æ³¨æ„

å¦‚æœæ‚¨åœ¨è¾“å…¥çš„ messages åºåˆ—ä¸­ï¼Œä¼ å…¥äº†reasoning\_contentï¼ŒAPI ä¼šè¿”å› 400 é”™è¯¯ã€‚å› æ­¤ï¼Œè¯·åˆ é™¤ API å“åº”ä¸­çš„ reasoning\_content å­—æ®µï¼Œå†å‘èµ· API è¯·æ±‚ï¼Œæ–¹æ³•å¦‚ä¸‹æ–¹ä½¿ç”¨ç¤ºä¾‹æ‰€ç¤ºã€‚

ä½¿ç”¨ç¤ºä¾‹:

```javascript
from openai import OpenAI
client = OpenAI(api_key="<DeepSeek API Key>", base_url="https://sg.uiuiapi.com")

# ç¬¬ä¸€è½®å¯¹è¯
messages = [{"role": "user", "content": "9.11 and 9.8, which is greater?"}]
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages
)

reasoning_content = response.choices[0].message.reasoning_content
content = response.choices[0].message.content

# ç¬¬äºŒè½®å¯¹è¯ - åªæ‹¼æ¥æœ€ç»ˆå›ç­”content
messages.append({'role': 'assistant', 'content': content})
messages.append({'role': 'user', 'content': "How many Rs are there in the word 'strawberry'?"})
response = client.chat.completions.create(
    model="deepseek-reasoner", 
    messages=messages
)
```

æµå¼å“åº”ç¤ºä¾‹:

```javascript
# ç¬¬ä¸€è½®å¯¹è¯
messages = [{"role": "user", "content": "9.11 and 9.8, which is greater?"}]
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages,
    stream=True
)

reasoning_content = ""
content = ""

for chunk in response:
    if chunk.choices[0].delta.reasoning_content:
        reasoning_content += chunk.choices[0].delta.reasoning_content
    else:
        content += chunk.choices[0].delta.content

# ç¬¬äºŒè½®å¯¹è¯ - åªæ‹¼æ¥æœ€ç»ˆå›ç­”content
messages.append({"role": "assistant", "content": content})
messages.append({'role': 'user', 'content': "How many Rs are there in the word 'strawberry'?"})
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages,
    stream=True
)
```
# Deepseek reasoning å¯¹è¯æ ¼å¼ï¼ˆç±»Chat Completionsï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> [æ¨ç†æ¨¡å‹ (deepseek-reasoner)](https://api-docs.deepseek.com/zh-cn/guides/reasoning_model)

## ğŸ“ ç®€ä»‹

Deepseek-reasoner æ˜¯ DeepSeek æ¨å‡ºçš„æ¨ç†æ¨¡å‹ã€‚åœ¨è¾“å‡ºæœ€ç»ˆå›ç­”ä¹‹å‰ï¼Œæ¨¡å‹ä¼šå…ˆè¾“å‡ºä¸€æ®µæ€ç»´é“¾å†…å®¹ï¼Œä»¥æå‡æœ€ç»ˆç­”æ¡ˆçš„å‡†ç¡®æ€§ã€‚API å‘ç”¨æˆ·å¼€æ”¾ deepseek-reasoner æ€ç»´é“¾çš„å†…å®¹ï¼Œä»¥ä¾›ç”¨æˆ·æŸ¥çœ‹ã€å±•ç¤ºã€è’¸é¦ä½¿ç”¨ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€æ–‡æœ¬å¯¹è¯ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "deepseek-reasoner",
    "messages": [
      {
        "role": "user",
        "content": "9.11 and 9.8, which is greater?"
      }
    ],
    "max_tokens": 4096
  }'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "deepseek-reasoner",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "reasoning_content": "è®©æˆ‘ä¸€æ­¥æ­¥æ€è€ƒ:\n1. æˆ‘ä»¬éœ€è¦æ¯”è¾ƒ9.11å’Œ9.8çš„å¤§å°\n2. ä¸¤ä¸ªæ•°éƒ½æ˜¯å°æ•°,æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¯”è¾ƒ\n3. 9.8 = 9.80\n4. 9.11 < 9.80\n5. æ‰€ä»¥9.8æ›´å¤§",
      "content": "9.8 is greater than 9.11."
    },
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 15,
    "total_tokens": 25
  }
}
```

### æµå¼å“åº” âœ…

```javascript
curl https://sg.uiuiapi.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "deepseek-reasoner",
    "messages": [
      {
        "role": "user",
        "content": "9.11 and 9.8, which is greater?"
      }
    ],
    "stream": true
  }'
```

**æµå¼å“åº”ç¤ºä¾‹:**

```javascript
{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"role":"assistant","reasoning_content":"è®©æˆ‘"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"reasoning_content":"ä¸€æ­¥æ­¥"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"reasoning_content":"æ€è€ƒ:"},"finish_reason":null}]}

// ... æ›´å¤šæ€ç»´é“¾å†…å®¹ ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"content":"9.8"},"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{"content":" is greater"},"finish_reason":null}]}

// ... æ›´å¤šæœ€ç»ˆç­”æ¡ˆå†…å®¹ ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"deepseek-reasoner","choices":[{"index":0,"delta":{},"finish_reason":"stop"}]}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```javascript
POST /v1/chat/completions
```

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$DEEPSEEK_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `messages`

- ç±»å‹ï¼šæ•°ç»„
- å¿…éœ€ï¼šæ˜¯

åˆ°ç›®å‰ä¸ºæ­¢åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ã€‚è¯·æ³¨æ„,å¦‚æœæ‚¨åœ¨è¾“å…¥çš„ messages åºåˆ—ä¸­ä¼ å…¥äº† reasoning\_contentï¼ŒAPI ä¼šè¿”å› 400 é”™è¯¯ã€‚

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å€¼ï¼šdeepseek-reasoner

è¦ä½¿ç”¨çš„æ¨¡å‹ IDã€‚ç›®å‰ä»…æ”¯æŒ deepseek-reasonerã€‚

#### `max_tokens`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š4096
- æœ€å¤§å€¼ï¼š8192

æœ€ç»ˆå›ç­”çš„æœ€å¤§é•¿åº¦ï¼ˆä¸å«æ€ç»´é“¾è¾“å‡ºï¼‰ã€‚è¯·æ³¨æ„ï¼Œæ€ç»´é“¾çš„è¾“å‡ºæœ€å¤šå¯ä»¥è¾¾åˆ° 32K tokensã€‚

#### `stream`

- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šfalse

æ˜¯å¦ä½¿ç”¨æµå¼å“åº”ã€‚

### ä¸æ”¯æŒçš„å‚æ•°

ä»¥ä¸‹å‚æ•°å½“å‰ä¸æ”¯æŒ:

- temperature
- top\_p
- presence\_penalty
- frequency\_penalty
- logprobs
- top\_logprobs

æ³¨æ„:ä¸ºäº†å…¼å®¹å·²æœ‰è½¯ä»¶,è®¾ç½® temperatureã€top\_pã€presence\_penaltyã€frequency\_penalty å‚æ•°ä¸ä¼šæŠ¥é”™,ä½†ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚è®¾ç½® logprobsã€top\_logprobs ä¼šæŠ¥é”™ã€‚

### æ”¯æŒçš„åŠŸèƒ½

- å¯¹è¯è¡¥å…¨
- å¯¹è¯å‰ç¼€ç»­å†™ (Beta)

### ä¸æ”¯æŒçš„åŠŸèƒ½

- Function Call
- Json Output
- FIM è¡¥å…¨ (Beta)

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

è¿”å›ä¸€ä¸ªèŠå¤©è¡¥å…¨å¯¹è±¡ï¼Œå¦‚æœè¯·æ±‚è¢«æµå¼ä¼ è¾“ï¼Œåˆ™è¿”å›èŠå¤©è¡¥å…¨å—å¯¹è±¡çš„æµå¼åºåˆ—ã€‚

#### `id`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦

#### `object`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå¯¹è±¡ç±»å‹,å€¼ä¸º "chat.completion"

#### `created`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šå“åº”åˆ›å»ºæ—¶é—´æˆ³

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä½¿ç”¨çš„æ¨¡å‹åç§°,å€¼ä¸º "deepseek-reasoner"

#### `choices`

- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šåŒ…å«ç”Ÿæˆçš„å›å¤é€‰é¡¹
- å±æ€§:
- `index`: é€‰é¡¹ç´¢å¼•
- `message`: åŒ…å«è§’è‰²ã€æ€ç»´é“¾å†…å®¹å’Œæœ€ç»ˆå›ç­”çš„æ¶ˆæ¯å¯¹è±¡
    - `role`: è§’è‰²,å€¼ä¸º "assistant"
    - `reasoning_content`: æ€ç»´é“¾å†…å®¹
    - `content`: æœ€ç»ˆå›ç­”å†…å®¹
- `finish_reason`: å®ŒæˆåŸå› 

#### `usage`

- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
- å±æ€§:
- `prompt_tokens`: æç¤ºä½¿ç”¨çš„ token æ•°
- `completion_tokens`: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
- `total_tokens`: æ€» token æ•°

## ğŸ“ ä¸Šä¸‹æ–‡æ‹¼æ¥è¯´æ˜

åœ¨æ¯ä¸€è½®å¯¹è¯è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šè¾“å‡ºæ€ç»´é“¾å†…å®¹ï¼ˆreasoning\_contentï¼‰å’Œæœ€ç»ˆå›ç­”ï¼ˆcontentï¼‰ã€‚åœ¨ä¸‹ä¸€è½®å¯¹è¯ä¸­ï¼Œä¹‹å‰è½®è¾“å‡ºçš„æ€ç»´é“¾å†…å®¹ä¸ä¼šè¢«æ‹¼æ¥åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Deepseek reasoning ä¸Šä¸‹æ–‡æ‹¼æ¥ç¤ºæ„å›¾](https://docs.newapi.pro/assets/deepseek_r1_multiround_example_cn.png?qc_blockWidth=609&qc_blockHeight=569)

æ³¨æ„

å¦‚æœæ‚¨åœ¨è¾“å…¥çš„ messages åºåˆ—ä¸­ï¼Œä¼ å…¥äº†reasoning\_contentï¼ŒAPI ä¼šè¿”å› 400 é”™è¯¯ã€‚å› æ­¤ï¼Œè¯·åˆ é™¤ API å“åº”ä¸­çš„ reasoning\_content å­—æ®µï¼Œå†å‘èµ· API è¯·æ±‚ï¼Œæ–¹æ³•å¦‚ä¸‹æ–¹ä½¿ç”¨ç¤ºä¾‹æ‰€ç¤ºã€‚

ä½¿ç”¨ç¤ºä¾‹:

```javascript
from openai import OpenAI
client = OpenAI(api_key="<DeepSeek API Key>", base_url="https://sg.uiuiapi.com")

# ç¬¬ä¸€è½®å¯¹è¯
messages = [{"role": "user", "content": "9.11 and 9.8, which is greater?"}]
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages
)

reasoning_content = response.choices[0].message.reasoning_content
content = response.choices[0].message.content

# ç¬¬äºŒè½®å¯¹è¯ - åªæ‹¼æ¥æœ€ç»ˆå›ç­”content
messages.append({'role': 'assistant', 'content': content})
messages.append({'role': 'user', 'content': "How many Rs are there in the word 'strawberry'?"})
response = client.chat.completions.create(
    model="deepseek-reasoner", 
    messages=messages
)
```

æµå¼å“åº”ç¤ºä¾‹:

```javascript
# ç¬¬ä¸€è½®å¯¹è¯
messages = [{"role": "user", "content": "9.11 and 9.8, which is greater?"}]
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages,
    stream=True
)

reasoning_content = ""
content = ""

for chunk in response:
    if chunk.choices[0].delta.reasoning_content:
        reasoning_content += chunk.choices[0].delta.reasoning_content
    else:
        content += chunk.choices[0].delta.content

# ç¬¬äºŒè½®å¯¹è¯ - åªæ‹¼æ¥æœ€ç»ˆå›ç­”content
messages.append({"role": "assistant", "content": content})
messages.append({'role': 'user', 'content': "How many Rs are there in the word 'strawberry'?"})
response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=messages,
    stream=True
)
```
# Jina AI é‡æ’åºæ ¼å¼ï¼ˆRerankï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> [Jina AI Rerank](https://jina.ai/reranker)
> 
**æ ‡å‡†æ ¼å¼**

åœ¨New APIä¸­ï¼ŒJina AIçš„rerankæ ¼å¼è¢«é‡‡ç”¨ä¸ºæ ‡å‡†æ ¼å¼ã€‚æ‰€æœ‰å…¶ä»–ä¾›åº”å•†ï¼ˆå¦‚Xinferenceã€Cohereç­‰ï¼‰çš„rerankå“åº”éƒ½ä¼šè¢«æ ¼å¼åŒ–ä¸ºJina AIçš„æ ¼å¼ï¼Œä»¥æä¾›ç»Ÿä¸€çš„å¼€å‘ä½“éªŒã€‚

## ğŸ“ ç®€ä»‹

Jina AI Rerank æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬é‡æ’åºæ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®æŸ¥è¯¢å¯¹æ–‡æ¡£åˆ—è¡¨è¿›è¡Œç›¸å…³æ€§æ’åºã€‚è¯¥æ¨¡å‹æ”¯æŒå¤šè¯­è¨€ï¼Œå¯ä»¥å¤„ç†ä¸åŒè¯­è¨€çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡æ¡£åˆ†é…ç›¸å…³æ€§åˆ†æ•°ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€é‡æ’åºè¯·æ±‚ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/rerank \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "jina-reranker-v2-base-multilingual",
    "query": "Organic skincare products for sensitive skin",
    "top_n": 3,
    "documents": [
      "Organic skincare for sensitive skin with aloe vera and chamomile...",
      "New makeup trends focus on bold colors and innovative techniques...",
      "Bio-Hautpflege fÃ¼r empfindliche Haut mit Aloe Vera und Kamille..."
    ]
  }'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "results": [
    {
      "document": {
        "text": "Organic skincare for sensitive skin with aloe vera and chamomile..."
      },
      "index": 0,
      "relevance_score": 0.8783142566680908
    },
    {
      "document": {
        "text": "Bio-Hautpflege fÃ¼r empfindliche Haut mit Aloe Vera und Kamille..."
      },
      "index": 2,
      "relevance_score": 0.7624675869941711
    }
  ],
  "usage": {
    "prompt_tokens": 815,
    "completion_tokens": 0,
    "total_tokens": 815
  }
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```javascript
POST /v1/rerank
```

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$NEWAPI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šjina-reranker-v2-base-multilingual
- è¯´æ˜ï¼šè¦ä½¿ç”¨çš„é‡æ’åºæ¨¡å‹

#### `query`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šç”¨äºå¯¹æ–‡æ¡£è¿›è¡Œç›¸å…³æ€§æ’åºçš„æŸ¥è¯¢æ–‡æœ¬

#### `top_n`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šæ— é™åˆ¶
- è¯´æ˜ï¼šè¿”å›æ’åºåçš„å‰ N ä¸ªæ–‡æ¡£

#### `documents`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦è¿›è¡Œé‡æ’åºçš„æ–‡æ¡£åˆ—è¡¨
- é™åˆ¶ï¼šæ¯ä¸ªæ–‡æ¡£çš„é•¿åº¦ä¸åº”è¶…è¿‡æ¨¡å‹çš„æœ€å¤§tokené™åˆ¶

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

#### `results`

- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šé‡æ’åºåçš„æ–‡æ¡£åˆ—è¡¨
- å±æ€§ï¼š
- `document`: åŒ…å«æ–‡æ¡£æ–‡æœ¬çš„å¯¹è±¡
- `index`: æ–‡æ¡£åœ¨åŸå§‹åˆ—è¡¨ä¸­çš„ç´¢å¼•
- `relevance_score`: ç›¸å…³æ€§åˆ†æ•°(0-1ä¹‹é—´)

#### `usage`

- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
- å±æ€§ï¼š
- `prompt_tokens`: æç¤ºä½¿ç”¨çš„ token æ•°
- `completion_tokens`: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
- `total_tokens`: æ€» token æ•°
- `prompt_tokens_details`: æç¤º token è¯¦ç»†ä¿¡æ¯
    - `cached_tokens`: ç¼“å­˜çš„ token æ•°
    - `audio_tokens`: éŸ³é¢‘ token æ•°
- `completion_tokens_details`: è¡¥å…¨ token è¯¦ç»†ä¿¡æ¯
    - `reasoning_tokens`: æ¨ç† token æ•°
    - `audio_tokens`: éŸ³é¢‘ token æ•°
    - `accepted_prediction_tokens`: æ¥å—çš„é¢„æµ‹ token æ•°
    - `rejected_prediction_tokens`: æ‹’ç»çš„é¢„æµ‹ token æ•°

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›é”™è¯¯å“åº”ï¼š

- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `429 Too Many Requests`: è¯·æ±‚é¢‘ç‡è¶…é™
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ’¡ æœ€ä½³å®è·µ

### æŸ¥è¯¢ä¼˜åŒ–å»ºè®®

1. ä½¿ç”¨æ¸…æ™°å…·ä½“çš„æŸ¥è¯¢æ–‡æœ¬
2. é¿å…è¿‡äºå®½æ³›æˆ–æ¨¡ç³Šçš„æŸ¥è¯¢
3. ç¡®ä¿æŸ¥è¯¢ä¸æ–‡æ¡£ä½¿ç”¨ç›¸åŒçš„è¯­è¨€é£æ ¼

### æ–‡æ¡£å¤„ç†å»ºè®®

1. ä¿æŒæ–‡æ¡£é•¿åº¦é€‚ä¸­ï¼Œä¸è¦è¶…è¿‡æ¨¡å‹é™åˆ¶
2. ç¡®ä¿æ–‡æ¡£å†…å®¹å®Œæ•´ä¸”æœ‰æ„ä¹‰
3. å¯ä»¥åŒ…å«å¤šè¯­è¨€æ–‡æ¡£ï¼Œæ¨¡å‹æ”¯æŒè·¨è¯­è¨€åŒ¹é…

### æ€§èƒ½ä¼˜åŒ–

1. åˆç†è®¾ç½® top\_n å‚æ•°ä»¥å‡å°‘ä¸å¿…è¦çš„è®¡ç®—
2. å¯¹äºå¤§é‡æ–‡æ¡£ï¼Œè€ƒè™‘åˆ†æ‰¹å¤„ç†
3. å¯ä»¥ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢çš„ç»“æœ

### å¤šè¯­è¨€æ”¯æŒ

è¯¥æ¨¡å‹æ”¯æŒå¤šç§è¯­è¨€çš„æ–‡æ¡£é‡æ’åºï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- è‹±è¯­
- ä¸­æ–‡
- å¾·è¯­
- è¥¿ç­ç‰™è¯­
- æ—¥è¯­
- æ³•è¯­

æ— éœ€æŒ‡å®šè¯­è¨€å‚æ•°ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨è¯†åˆ«å’Œå¤„ç†ä¸åŒè¯­è¨€çš„å†…å®¹ã€‚

â€‹# Jina AI é‡æ’åºæ ¼å¼ï¼ˆRerankï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> [Jina AI Rerank](https://jina.ai/reranker)
> 
**æ ‡å‡†æ ¼å¼**

åœ¨New APIä¸­ï¼ŒJina AIçš„rerankæ ¼å¼è¢«é‡‡ç”¨ä¸ºæ ‡å‡†æ ¼å¼ã€‚æ‰€æœ‰å…¶ä»–ä¾›åº”å•†ï¼ˆå¦‚Xinferenceã€Cohereç­‰ï¼‰çš„rerankå“åº”éƒ½ä¼šè¢«æ ¼å¼åŒ–ä¸ºJina AIçš„æ ¼å¼ï¼Œä»¥æä¾›ç»Ÿä¸€çš„å¼€å‘ä½“éªŒã€‚

## ğŸ“ ç®€ä»‹

Jina AI Rerank æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬é‡æ’åºæ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®æŸ¥è¯¢å¯¹æ–‡æ¡£åˆ—è¡¨è¿›è¡Œç›¸å…³æ€§æ’åºã€‚è¯¥æ¨¡å‹æ”¯æŒå¤šè¯­è¨€ï¼Œå¯ä»¥å¤„ç†ä¸åŒè¯­è¨€çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡æ¡£åˆ†é…ç›¸å…³æ€§åˆ†æ•°ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€é‡æ’åºè¯·æ±‚ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/rerank \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "jina-reranker-v2-base-multilingual",
    "query": "Organic skincare products for sensitive skin",
    "top_n": 3,
    "documents": [
      "Organic skincare for sensitive skin with aloe vera and chamomile...",
      "New makeup trends focus on bold colors and innovative techniques...",
      "Bio-Hautpflege fÃ¼r empfindliche Haut mit Aloe Vera und Kamille..."
    ]
  }'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "results": [
    {
      "document": {
        "text": "Organic skincare for sensitive skin with aloe vera and chamomile..."
      },
      "index": 0,
      "relevance_score": 0.8783142566680908
    },
    {
      "document": {
        "text": "Bio-Hautpflege fÃ¼r empfindliche Haut mit Aloe Vera und Kamille..."
      },
      "index": 2,
      "relevance_score": 0.7624675869941711
    }
  ],
  "usage": {
    "prompt_tokens": 815,
    "completion_tokens": 0,
    "total_tokens": 815
  }
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```javascript
POST /v1/rerank
```

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$NEWAPI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šjina-reranker-v2-base-multilingual
- è¯´æ˜ï¼šè¦ä½¿ç”¨çš„é‡æ’åºæ¨¡å‹

#### `query`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šç”¨äºå¯¹æ–‡æ¡£è¿›è¡Œç›¸å…³æ€§æ’åºçš„æŸ¥è¯¢æ–‡æœ¬

#### `top_n`

- ç±»å‹ï¼šæ•´æ•°
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šæ— é™åˆ¶
- è¯´æ˜ï¼šè¿”å›æ’åºåçš„å‰ N ä¸ªæ–‡æ¡£

#### `documents`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦è¿›è¡Œé‡æ’åºçš„æ–‡æ¡£åˆ—è¡¨
- é™åˆ¶ï¼šæ¯ä¸ªæ–‡æ¡£çš„é•¿åº¦ä¸åº”è¶…è¿‡æ¨¡å‹çš„æœ€å¤§tokené™åˆ¶

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

#### `results`

- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šé‡æ’åºåçš„æ–‡æ¡£åˆ—è¡¨
- å±æ€§ï¼š
- `document`: åŒ…å«æ–‡æ¡£æ–‡æœ¬çš„å¯¹è±¡
- `index`: æ–‡æ¡£åœ¨åŸå§‹åˆ—è¡¨ä¸­çš„ç´¢å¼•
- `relevance_score`: ç›¸å…³æ€§åˆ†æ•°(0-1ä¹‹é—´)

#### `usage`

- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
- å±æ€§ï¼š
- `prompt_tokens`: æç¤ºä½¿ç”¨çš„ token æ•°
- `completion_tokens`: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
- `total_tokens`: æ€» token æ•°
- `prompt_tokens_details`: æç¤º token è¯¦ç»†ä¿¡æ¯
    - `cached_tokens`: ç¼“å­˜çš„ token æ•°
    - `audio_tokens`: éŸ³é¢‘ token æ•°
- `completion_tokens_details`: è¡¥å…¨ token è¯¦ç»†ä¿¡æ¯
    - `reasoning_tokens`: æ¨ç† token æ•°
    - `audio_tokens`: éŸ³é¢‘ token æ•°
    - `accepted_prediction_tokens`: æ¥å—çš„é¢„æµ‹ token æ•°
    - `rejected_prediction_tokens`: æ‹’ç»çš„é¢„æµ‹ token æ•°

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›é”™è¯¯å“åº”ï¼š

- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `429 Too Many Requests`: è¯·æ±‚é¢‘ç‡è¶…é™
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ’¡ æœ€ä½³å®è·µ

### æŸ¥è¯¢ä¼˜åŒ–å»ºè®®

1. ä½¿ç”¨æ¸…æ™°å…·ä½“çš„æŸ¥è¯¢æ–‡æœ¬
2. é¿å…è¿‡äºå®½æ³›æˆ–æ¨¡ç³Šçš„æŸ¥è¯¢
3. ç¡®ä¿æŸ¥è¯¢ä¸æ–‡æ¡£ä½¿ç”¨ç›¸åŒçš„è¯­è¨€é£æ ¼

### æ–‡æ¡£å¤„ç†å»ºè®®

1. ä¿æŒæ–‡æ¡£é•¿åº¦é€‚ä¸­ï¼Œä¸è¦è¶…è¿‡æ¨¡å‹é™åˆ¶
2. ç¡®ä¿æ–‡æ¡£å†…å®¹å®Œæ•´ä¸”æœ‰æ„ä¹‰
3. å¯ä»¥åŒ…å«å¤šè¯­è¨€æ–‡æ¡£ï¼Œæ¨¡å‹æ”¯æŒè·¨è¯­è¨€åŒ¹é…

### æ€§èƒ½ä¼˜åŒ–

1. åˆç†è®¾ç½® top\_n å‚æ•°ä»¥å‡å°‘ä¸å¿…è¦çš„è®¡ç®—
2. å¯¹äºå¤§é‡æ–‡æ¡£ï¼Œè€ƒè™‘åˆ†æ‰¹å¤„ç†
3. å¯ä»¥ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢çš„ç»“æœ

### å¤šè¯­è¨€æ”¯æŒ

è¯¥æ¨¡å‹æ”¯æŒå¤šç§è¯­è¨€çš„æ–‡æ¡£é‡æ’åºï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- è‹±è¯­
- ä¸­æ–‡
- å¾·è¯­
- è¥¿ç­ç‰™è¯­
- æ—¥è¯­
- æ³•è¯­

æ— éœ€æŒ‡å®šè¯­è¨€å‚æ•°ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨è¯†åˆ«å’Œå¤„ç†ä¸åŒè¯­è¨€çš„å†…å®¹ã€‚

â€‹# Xinference é‡æ’åºæ ¼å¼ï¼ˆRerankï¼‰

> é‡è¦æç¤º
> 
> åœ¨New APIä¸­ï¼ŒXinferenceçš„rerankå“åº”ç»“æ„å°†è¢«æ ¼å¼åŒ–ä¸ºJinaçš„rerankå“åº”ç»“æ„ï¼Œä½¿ç”¨æ–¹å¼å’ŒJinaçš„rerankç›¸åŒã€‚**å¯¹äºDifyç­‰å®¢æˆ·ç«¯ç”¨æˆ·**ï¼šåœ¨é…ç½®æ—¶è¯·é€‰æ‹© **Jina AI** ä½œä¸ºä¾›åº”å•†ç±»å‹ï¼Œè€Œä¸æ˜¯Xinferenceï¼Œå¹¶ä½¿ç”¨Xinferenceæ”¯æŒçš„æ¨¡å‹åç§°ã€‚

## ğŸ“ ç®€ä»‹

Xinferenceçš„é‡æ’åºAPIä¸Jina AIçš„é‡æ’åºAPIå®Œå…¨å…¼å®¹ã€‚è¯·å‚è€ƒ[Jina AI é‡æ’åºæ ¼å¼ï¼ˆRerankï¼‰](https://7sqmooerpq.apifox.cn/6510023m0)æ–‡æ¡£äº†è§£è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•ã€è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼ã€‚

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

ä½¿ç”¨Xinferenceé‡æ’åºAPIæ—¶ï¼Œåªéœ€å°†`model`å‚æ•°è®¾ç½®ä¸ºXinferenceæ”¯æŒçš„é‡æ’åºæ¨¡å‹å³å¯ï¼Œå…¶ä½™å‚æ•°å’Œä½¿ç”¨æ–¹å¼ä¸Jina AIé‡æ’åºAPIç›¸åŒã€‚

### ç¤ºä¾‹è¯·æ±‚

```javascript
curl https://sg.uiuiapi.com/v1/rerank \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "jina-reranker-v2",
    "query": "ä»€ä¹ˆæ˜¯ç¾å›½çš„é¦–éƒ½ï¼Ÿ",
    "documents": [
      "å†…åè¾¾å·çš„é¦–åºœæ˜¯å¡æ£®åŸã€‚",
      "åŒ—é©¬é‡Œäºšçº³ç¾¤å²›æ˜¯å¤ªå¹³æ´‹ä¸Šçš„ä¸€ç»„å²›å±¿ï¼Œå…¶é¦–éƒ½æ˜¯å¡ç­å²›ã€‚",
      "åç››é¡¿ç‰¹åŒºï¼ˆä¹Ÿç§°ä¸ºåç››é¡¿æˆ–ç‰¹åŒºï¼Œæ­£å¼åç§°ä¸ºå“¥ä¼¦æ¯”äºšç‰¹åŒºï¼‰æ˜¯ç¾å›½çš„é¦–éƒ½ã€‚",
      "è‹±è¯­è¯­æ³•ä¸­çš„å¤§å†™æ˜¯åœ¨å•è¯å¼€å¤´ä½¿ç”¨å¤§å†™å­—æ¯ã€‚è‹±è¯­ç”¨æ³•ä¸å…¶ä»–è¯­è¨€çš„å¤§å†™ä¸åŒã€‚",
      "è‡ªç¾å›½æˆä¸ºä¸€ä¸ªå›½å®¶ä¹‹å‰ï¼Œç¾å›½å°±å­˜åœ¨æ­»åˆ‘ã€‚æˆªè‡³2017å¹´ï¼Œåœ¨50ä¸ªå·ä¸­æœ‰30ä¸ªå·æ­»åˆ‘åˆæ³•ã€‚"
    ],
    "top_n": 3
  }'
```

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ[Jina AI é‡æ’åºæ ¼å¼ï¼ˆRerankï¼‰](https://7sqmooerpq.apifox.cn/6510023m0)æ–‡æ¡£ã€‚
# OpenAI å®æ—¶å¯¹è¯æ¥å£

> å®˜æ–¹æ–‡æ¡£
> 
> - [OpenAI Realtime WebRTC](https://platform.openai.com/docs/guides/realtime-webrtc)
> - [OpenAI Realtime WebSocket](https://platform.openai.com/docs/guides/realtime-websocket)

## ğŸ“ æ¦‚è¿°

### ç®€ä»‹âœ…

OpenAI Realtime API æä¾›ä¸¤ç§è¿æ¥æ–¹å¼ï¼š

1. WebRTC - é€‚ç”¨äºæµè§ˆå™¨å’Œç§»åŠ¨å®¢æˆ·ç«¯çš„å®æ—¶éŸ³è§†é¢‘äº¤äº’
2. WebSocket - é€‚ç”¨äºæœåŠ¡å™¨åˆ°æœåŠ¡å™¨çš„åº”ç”¨ç¨‹åºé›†æˆ

### ä½¿ç”¨åœºæ™¯âœ…

- å®æ—¶è¯­éŸ³å¯¹è¯
- éŸ³è§†é¢‘ä¼šè®®
- å®æ—¶ç¿»è¯‘
- è¯­éŸ³è½¬å†™
- å®æ—¶ä»£ç ç”Ÿæˆ
- æœåŠ¡å™¨ç«¯å®æ—¶é›†æˆ

### ä¸»è¦ç‰¹æ€§âœ…

- åŒå‘éŸ³é¢‘æµä¼ è¾“
- æ–‡æœ¬å’ŒéŸ³é¢‘æ··åˆå¯¹è¯
- å‡½æ•°è°ƒç”¨æ”¯æŒ
- è‡ªåŠ¨è¯­éŸ³æ£€æµ‹(VAD)
- éŸ³é¢‘è½¬å†™åŠŸèƒ½
- WebSocket æœåŠ¡å™¨ç«¯é›†æˆ

## ğŸ” è®¤è¯ä¸å®‰å…¨âœ…

### è®¤è¯æ–¹å¼âœ…

1. æ ‡å‡† API å¯†é’¥ (ä»…æœåŠ¡å™¨ç«¯ä½¿ç”¨)
2. ä¸´æ—¶ä»¤ç‰Œ (å®¢æˆ·ç«¯ä½¿ç”¨)

### ä¸´æ—¶ä»¤ç‰Œâœ…

- æœ‰æ•ˆæœŸ: 1åˆ†é’Ÿ
- ä½¿ç”¨é™åˆ¶: å•ä¸ªè¿æ¥
- è·å–æ–¹å¼: é€šè¿‡æœåŠ¡å™¨ç«¯ API åˆ›å»º

```javascript
POST https://sg.uiuiapi.com/v1/realtime/sessions
Content-Type: application/json
Authorization: Bearer $NEW_API_KEY

{
  "model": "gpt-4o-realtime-preview-2024-12-17",
  "voice": "verse"
}
```

### å®‰å…¨å»ºè®®âœ…

- æ°¸è¿œä¸è¦åœ¨å®¢æˆ·ç«¯æš´éœ²æ ‡å‡† API å¯†é’¥
- ä½¿ç”¨ HTTPS/WSS è¿›è¡Œé€šä¿¡
- å®ç°é€‚å½“çš„è®¿é—®æ§åˆ¶
- ç›‘æ§å¼‚å¸¸æ´»åŠ¨

## ğŸ”Œ è¿æ¥å»ºç«‹âœ…

### WebRTC è¿æ¥âœ…

- URL: `https://sg.uiuiapi.com/v1/realtime`
- æŸ¥è¯¢å‚æ•°: `model`
- è¯·æ±‚å¤´:
- `Authorization: Bearer EPHEMERAL_KEY`
- `Content-Type: application/sdp`

### WebSocket è¿æ¥

- URL: `wss://sg.uiuiapi.com/v1/realtime`
- æŸ¥è¯¢å‚æ•°: `model`
- è¯·æ±‚å¤´:
- `Authorization: Bearer YOUR_API_KEY`
- `OpenAI-Beta: realtime=v1`

### è¿æ¥æµç¨‹âœ…


![22181243.png](https://api.apifox.com/api/v1/projects/6270118/resources/516954/image-preview)

### æ•°æ®é€šé“âœ…

- åç§°: `oai-events`
- ç”¨é€”: äº‹ä»¶ä¼ è¾“
- æ ¼å¼: JSON

### éŸ³é¢‘æµâœ…

- è¾“å…¥: `addTrack()`
- è¾“å‡º: `ontrack` äº‹ä»¶

## ğŸ’¬ å¯¹è¯äº¤äº’

### å¯¹è¯æ¨¡å¼âœ…

1. çº¯æ–‡æœ¬å¯¹è¯
2. è¯­éŸ³å¯¹è¯
3. æ··åˆå¯¹è¯

### ä¼šè¯ç®¡ç†âœ…

- åˆ›å»ºä¼šè¯
- æ›´æ–°ä¼šè¯
- ç»“æŸä¼šè¯
- ä¼šè¯é…ç½®

### äº‹ä»¶ç±»å‹âœ…

- æ–‡æœ¬äº‹ä»¶
- éŸ³é¢‘äº‹ä»¶
- å‡½æ•°è°ƒç”¨
- çŠ¶æ€æ›´æ–°
- é”™è¯¯äº‹ä»¶

## âš™ï¸ é…ç½®é€‰é¡¹âœ…

### éŸ³é¢‘é…ç½®[Â¶]âœ…

- è¾“å…¥æ ¼å¼
- `pcm16`
- `g711_ulaw`
- `g711_alaw`
- è¾“å‡ºæ ¼å¼
- `pcm16`
- `g711_ulaw`
- `g711_alaw`
- è¯­éŸ³ç±»å‹
- `alloy`
- `echo`
- `shimmer`

### æ¨¡å‹é…ç½®âœ…

- æ¸©åº¦
- æœ€å¤§è¾“å‡ºé•¿åº¦
- ç³»ç»Ÿæç¤ºè¯
- å·¥å…·é…ç½®

### VAD é…ç½®âœ…

- é˜ˆå€¼
- é™éŸ³æ—¶é•¿
- å‰ç¼€å¡«å……

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹âœ…

### WebRTC è¿æ¥ âŒ

#### å®¢æˆ·ç«¯å®ç° (æµè§ˆå™¨)âœ…

```javascript
async function init() {
  // ä»æœåŠ¡å™¨è·å–ä¸´æ—¶å¯†é’¥ - å‚è§ä¸‹æ–¹æœåŠ¡å™¨ä»£ç 
  const tokenResponse = await fetch("/session");
  const data = await tokenResponse.json();
  const EPHEMERAL_KEY = data.client_secret.value;

  // åˆ›å»ºå¯¹ç­‰è¿æ¥
  const pc = new RTCPeerConnection();

  // è®¾ç½®æ’­æ”¾æ¨¡å‹è¿”å›çš„è¿œç¨‹éŸ³é¢‘
  const audioEl = document.createElement("audio");
  audioEl.autoplay = true;
  pc.ontrack = e => audioEl.srcObject = e.streams[0];

  // æ·»åŠ æµè§ˆå™¨éº¦å…‹é£è¾“å…¥çš„æœ¬åœ°éŸ³é¢‘è½¨é“
  const ms = await navigator.mediaDevices.getUserMedia({
    audio: true
  });
  pc.addTrack(ms.getTracks()[0]);

  // è®¾ç½®ç”¨äºå‘é€å’Œæ¥æ”¶äº‹ä»¶çš„æ•°æ®é€šé“
  const dc = pc.createDataChannel("oai-events");
  dc.addEventListener("message", (e) => {
    // è¿™é‡Œæ¥æ”¶å®æ—¶æœåŠ¡å™¨äº‹ä»¶ï¼
    console.log(e);
  });

  // ä½¿ç”¨ä¼šè¯æè¿°åè®®(SDP)å¯åŠ¨ä¼šè¯
  const offer = await pc.createOffer();
  await pc.setLocalDescription(offer);

  const baseUrl = "https://sg.uiuiapi.com/v1/realtime";
  const model = "gpt-4o-realtime-preview-2024-12-17";
  const sdpResponse = await fetch(`${baseUrl}?model=${model}`, {
    method: "POST",
    body: offer.sdp,
    headers: {
      Authorization: `Bearer ${EPHEMERAL_KEY}`,
      "Content-Type": "application/sdp"
    },
  });

  const answer = {
    type: "answer",
    sdp: await sdpResponse.text(),
  };
  await pc.setRemoteDescription(answer);
}

init();
```

#### æœåŠ¡å™¨ç«¯å®ç° (Node.js)âœ…

```javascript
import express from "express";

const app = express();

// åˆ›å»ºä¸€ä¸ªç«¯ç‚¹ç”¨äºç”Ÿæˆä¸´æ—¶ä»¤ç‰Œ
// è¯¥ç«¯ç‚¹ä¸ä¸Šé¢çš„å®¢æˆ·ç«¯ä»£ç é…åˆä½¿ç”¨
app.get("/session", async (req, res) => {
  const r = await fetch("https://sg.uiuiapi.com/v1/realtime/sessions", {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${process.env.NEW_API_KEY}`,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      model: "gpt-4o-realtime-preview-2024-12-17",
      voice: "verse",
    }),
  });
  const data = await r.json();

  // å°†ä»OpenAI REST APIæ”¶åˆ°çš„JSONå‘é€å›å®¢æˆ·ç«¯
  res.send(data);
});

app.listen(3000);
```

#### WebRTC äº‹ä»¶æ”¶å‘ç¤ºä¾‹âœ…

```javascript
// ä»å¯¹ç­‰è¿æ¥åˆ›å»ºæ•°æ®é€šé“
const dc = pc.createDataChannel("oai-events");

// ç›‘å¬æ•°æ®é€šé“ä¸Šçš„æœåŠ¡å™¨äº‹ä»¶
// äº‹ä»¶æ•°æ®éœ€è¦ä»JSONå­—ç¬¦ä¸²è§£æ
dc.addEventListener("message", (e) => {
  const realtimeEvent = JSON.parse(e.data);
  console.log(realtimeEvent);
});

// å‘é€å®¢æˆ·ç«¯äº‹ä»¶ï¼šå°†æœ‰æ•ˆçš„å®¢æˆ·ç«¯äº‹ä»¶åºåˆ—åŒ–ä¸º
// JSONï¼Œå¹¶é€šè¿‡æ•°æ®é€šé“å‘é€
const responseCreate = {
  type: "response.create",
  response: {
    modalities: ["text"],
    instructions: "Write a haiku about code",
  },
};
dc.send(JSON.stringify(responseCreate));
```

### WebSocket è¿æ¥ âœ…

#### Node.js (wsæ¨¡å—)âœ…

```javascript
import WebSocket from "ws";

const url = "wss://sg.uiuiapi.com/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17";
const ws = new WebSocket(url, {
  headers: {
    "Authorization": "Bearer " + process.env.NEW_API_KEY,
    "OpenAI-Beta": "realtime=v1",
  },
});

ws.on("open", function open() {
  console.log("Connected to server.");
});

ws.on("message", function incoming(message) {
  console.log(JSON.parse(message.toString()));
});
```

#### Python (websocket-client)âœ…

```javascript
# éœ€è¦å®‰è£… websocket-client åº“:
# pip install websocket-client

import os
import json
import websocket

NEW_API_KEY = os.environ.get("NEW_API_KEY")

url = "wss://sg.uiuiapi.com/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17"
headers = [
    "Authorization: Bearer " + NEW_API_KEY,
    "OpenAI-Beta: realtime=v1"
]

def on_open(ws):
    print("Connected to server.")

def on_message(ws, message):
    data = json.loads(message)
    print("Received event:", json.dumps(data, indent=2))

ws = websocket.WebSocketApp(
    url,
    header=headers,
    on_open=on_open,
    on_message=on_message,
)

ws.run_forever()
```

#### æµè§ˆå™¨ (æ ‡å‡†WebSocket)âœ…

```javascript
/*
æ³¨æ„ï¼šåœ¨æµè§ˆå™¨ç­‰å®¢æˆ·ç«¯ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨WebRTCã€‚
ä½†åœ¨Denoå’ŒCloudflare Workersç­‰ç±»æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œ
ä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡å‡†WebSocketæ¥å£ã€‚
*/

const ws = new WebSocket(
  "wss://sg.uiuiapi.com/v1/realtime?model=gpt-4o-realtime-preview-2024-12-17",
  [
    "realtime",
    // è®¤è¯
    "openai-insecure-api-key." + NEW_API_KEY, 
    // å¯é€‰
    "openai-organization." + OPENAI_ORG_ID,
    "openai-project." + OPENAI_PROJECT_ID,
    // Betaåè®®ï¼Œå¿…éœ€
    "openai-beta.realtime-v1"
  ]
);

ws.on("open", function open() {
  console.log("Connected to server.");
});

ws.on("message", function incoming(message) {
  console.log(message.data);
});
```

#### æ¶ˆæ¯æ”¶å‘ç¤ºä¾‹âœ…

##### Node.js/æµè§ˆå™¨âœ…

```javascript
// æ¥æ”¶æœåŠ¡å™¨äº‹ä»¶
ws.on("message", function incoming(message) {
  // éœ€è¦ä»JSONè§£ææ¶ˆæ¯æ•°æ®
  const serverEvent = JSON.parse(message.data)
  console.log(serverEvent);
});

// å‘é€äº‹ä»¶ï¼Œåˆ›å»ºç¬¦åˆå®¢æˆ·ç«¯äº‹ä»¶æ ¼å¼çš„JSONæ•°æ®ç»“æ„
const event = {
  type: "response.create",
  response: {
    modalities: ["audio", "text"],
    instructions: "Give me a haiku about code.",
  }
};
ws.send(JSON.stringify(event));
```

##### Pythonâœ…

```javascript
# å‘é€å®¢æˆ·ç«¯äº‹ä»¶ï¼Œå°†å­—å…¸åºåˆ—åŒ–ä¸ºJSON
def on_open(ws):
    print("Connected to server.")

    event = {
        "type": "response.create",
        "response": {
            "modalities": ["text"],
            "instructions": "Please assist the user."
        }
    }
    ws.send(json.dumps(event))

# æ¥æ”¶æ¶ˆæ¯éœ€è¦ä»JSONè§£ææ¶ˆæ¯è´Ÿè½½
def on_message(ws, message):
    data = json.loads(message)
    print("Received event:", json.dumps(data, indent=2))
```

## âš ï¸ é”™è¯¯å¤„ç†âœ…

### å¸¸è§é”™è¯¯âœ…

1. è¿æ¥é”™è¯¯
2. ç½‘ç»œé—®é¢˜
3. è®¤è¯å¤±è´¥
4. é…ç½®é”™è¯¯
5. éŸ³é¢‘é”™è¯¯
6. è®¾å¤‡æƒé™
7. æ ¼å¼ä¸æ”¯æŒ
8. ç¼–è§£ç é—®é¢˜
9. ä¼šè¯é”™è¯¯
10. ä»¤ç‰Œè¿‡æœŸ
11. ä¼šè¯è¶…æ—¶
12. å¹¶å‘é™åˆ¶

### é”™è¯¯æ¢å¤âœ…

1. è‡ªåŠ¨é‡è¿
2. ä¼šè¯æ¢å¤
3. é”™è¯¯é‡è¯•
4. é™çº§å¤„ç†

## ğŸ“ äº‹ä»¶å‚è€ƒâœ…

### é€šç”¨è¯·æ±‚å¤´âœ…

æ‰€æœ‰äº‹ä»¶éƒ½éœ€è¦åŒ…å«ä»¥ä¸‹è¯·æ±‚å¤´:

| è¯·æ±‚å¤´ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|
| Authorization | å­—ç¬¦ä¸² | è®¤è¯ä»¤ç‰Œ | Bearer $NEW\_API\_KEY |
| OpenAI-Beta | å­—ç¬¦ä¸² | API ç‰ˆæœ¬ | realtime=v1 |


### å®¢æˆ·ç«¯äº‹ä»¶âœ…

#### session.updateâœ…
æ›´æ–°ä¼šè¯çš„é»˜è®¤é…ç½®ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼/å¯é€‰å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_123 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | session.update |
| modalities | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | æ¨¡å‹å¯ä»¥å“åº”çš„æ¨¡æ€ç±»å‹ | ["text", "audio"] |
| instructions | å­—ç¬¦ä¸² | å¦ | é¢„ç½®åˆ°æ¨¡å‹è°ƒç”¨å‰çš„ç³»ç»ŸæŒ‡ä»¤ | "Your knowledge cutoff is 2023-10..." |
| voice | å­—ç¬¦ä¸² | å¦ | æ¨¡å‹ä½¿ç”¨çš„è¯­éŸ³ç±»å‹ | alloyã€echoã€shimmer |
| input\_audio\_format | å­—ç¬¦ä¸² | å¦ | è¾“å…¥éŸ³é¢‘æ ¼å¼ | pcm16ã€g711\_ulawã€g711\_alaw |
| output\_audio\_format | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºéŸ³é¢‘æ ¼å¼ | pcm16ã€g711\_ulawã€g711\_alaw |
| input\_audio\_transcription.model | å­—ç¬¦ä¸² | å¦ | ç”¨äºè½¬å†™çš„æ¨¡å‹ | whisper-1 |
| turn\_detection.type | å­—ç¬¦ä¸² | å¦ | è¯­éŸ³æ£€æµ‹ç±»å‹ | server\_vad |
| turn\_detection.threshold | æ•°å­— | å¦ | VAD æ¿€æ´»é˜ˆå€¼(0.0-1.0) | 0.8 |
| turn\_detection.prefix\_padding\_ms | æ•´æ•° | å¦ | è¯­éŸ³å¼€å§‹å‰åŒ…å«çš„éŸ³é¢‘æ—¶é•¿ | 500 |
| turn\_detection.silence\_duration\_ms | æ•´æ•° | å¦ | æ£€æµ‹è¯­éŸ³åœæ­¢çš„é™éŸ³æŒç»­æ—¶é—´ | 1000 |
| tools | æ•°ç»„ | å¦ | æ¨¡å‹å¯ç”¨çš„å·¥å…·åˆ—è¡¨ | [] |
| tool\_choice | å­—ç¬¦ä¸² | å¦ | æ¨¡å‹é€‰æ‹©å·¥å…·çš„æ–¹å¼ | auto/none/required |
| temperature | æ•°å­— | å¦ | æ¨¡å‹é‡‡æ ·æ¸©åº¦ | 0.8 |
| max\_output\_tokens | å­—ç¬¦ä¸²/æ•´æ•° | å¦ | å•æ¬¡å“åº”æœ€å¤§tokenæ•° | "inf"/4096 |


#### input\_audio\_buffer.appendâœ…

å‘è¾“å…¥éŸ³é¢‘ç¼“å†²åŒºè¿½åŠ éŸ³é¢‘æ•°æ®ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_456 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.append |
| audio | å­—ç¬¦ä¸² | å¦ | Base64ç¼–ç çš„éŸ³é¢‘æ•°æ® | Base64EncodedAudioData |


#### input\_audio\_buffer.commitâœ…

å°†ç¼“å†²åŒºä¸­çš„éŸ³é¢‘æ•°æ®æäº¤ä¸ºç”¨æˆ·æ¶ˆæ¯ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_789 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.commit |


#### input\_audio\_buffer.clearâœ…

æ¸…ç©ºè¾“å…¥éŸ³é¢‘ç¼“å†²åŒºä¸­çš„æ‰€æœ‰éŸ³é¢‘æ•°æ®ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_012 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.clear |


#### conversation.item.createâœ…

å‘å¯¹è¯ä¸­æ·»åŠ æ–°çš„å¯¹è¯é¡¹ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_345 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.create |
| previous\_item\_id | å­—ç¬¦ä¸² | å¦ | æ–°å¯¹è¯é¡¹å°†æ’å…¥åœ¨æ­¤IDä¹‹å | null |
| item.id | å­—ç¬¦ä¸² | å¦ | å¯¹è¯é¡¹çš„å”¯ä¸€æ ‡è¯†ç¬¦ | msg\_001 |
| item.type | å­—ç¬¦ä¸² | å¦ | å¯¹è¯é¡¹ç±»å‹ | message/function\_call/function\_call\_output |
| item.status | å­—ç¬¦ä¸² | å¦ | å¯¹è¯é¡¹çŠ¶æ€ | completed/in\_progress/incomplete |
| item.role | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯å‘é€è€…çš„è§’è‰² | user/assistant/system |
| item.content | æ•°ç»„ | å¦ | æ¶ˆæ¯å†…å®¹ | [text/audio/transcript] |
| item.call\_id | å­—ç¬¦ä¸² | å¦ | å‡½æ•°è°ƒç”¨çš„ID | call\_001 |
| item.name | å­—ç¬¦ä¸² | å¦ | è¢«è°ƒç”¨çš„å‡½æ•°åç§° | function\_name |
| item.arguments | å­—ç¬¦ä¸² | å¦ | å‡½æ•°è°ƒç”¨çš„å‚æ•° | {"param": "value"} |
| item.output | å­—ç¬¦ä¸² | å¦ | å‡½æ•°è°ƒç”¨çš„è¾“å‡ºç»“æœ | {"result": "value"} |


#### conversation.item.truncateâœ…
æˆªæ–­åŠ©æ‰‹æ¶ˆæ¯ä¸­çš„éŸ³é¢‘å†…å®¹ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_678 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.truncate |
| item\_id | å­—ç¬¦ä¸² | å¦ | è¦æˆªæ–­çš„åŠ©æ‰‹æ¶ˆæ¯é¡¹çš„ID | msg\_002 |
| content\_index | æ•´æ•° | å¦ | è¦æˆªæ–­çš„å†…å®¹éƒ¨åˆ†çš„ç´¢å¼• | 0 |
| audio\_end\_ms | æ•´æ•° | å¦ | éŸ³é¢‘æˆªæ–­çš„ç»“æŸæ—¶é—´ç‚¹ | 1500 |


#### conversation.item.deleteâœ…

ä»å¯¹è¯å†å²ä¸­åˆ é™¤æŒ‡å®šçš„å¯¹è¯é¡¹ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_901 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.delete |
| item\_id | å­—ç¬¦ä¸² | å¦ | è¦åˆ é™¤çš„å¯¹è¯é¡¹çš„ID | msg\_003 |


#### response.createâœ…

è§¦å‘å“åº”ç”Ÿæˆã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_234 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.create |
| response.modalities | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | å“åº”çš„æ¨¡æ€ç±»å‹ | ["text", "audio"] |
| response.instructions | å­—ç¬¦ä¸² | å¦ | ç»™æ¨¡å‹çš„æŒ‡ä»¤ | "Please assist the user." |
| response.voice | å­—ç¬¦ä¸² | å¦ | æ¨¡å‹ä½¿ç”¨çš„è¯­éŸ³ç±»å‹ | alloy/echo/shimmer |
| response.output\_audio\_format | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºéŸ³é¢‘æ ¼å¼ | pcm16 |
| response.tools | æ•°ç»„ | å¦ | æ¨¡å‹å¯ç”¨çš„å·¥å…·åˆ—è¡¨ | ["type", "name", "description"] |
| response.tool\_choice | å­—ç¬¦ä¸² | å¦ | æ¨¡å‹é€‰æ‹©å·¥å…·çš„æ–¹å¼ | auto |
| response.temperature | æ•°å­— | å¦ | é‡‡æ ·æ¸©åº¦ | 0.7 |
| response.max\_output\_tokens | æ•´æ•°/å­—ç¬¦ä¸² | å¦ | æœ€å¤§è¾“å‡ºtokenæ•° | 150/"inf" |


#### response.cancelâœ…

å–æ¶ˆæ­£åœ¨è¿›è¡Œä¸­çš„å“åº”ç”Ÿæˆã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | å®¢æˆ·ç«¯ç”Ÿæˆçš„äº‹ä»¶æ ‡è¯†ç¬¦ | event\_567 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.cancel |


### æœåŠ¡ç«¯äº‹ä»¶âœ…

#### errorâœ…

å½“å‘ç”Ÿé”™è¯¯æ—¶è¿”å›çš„äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | ["event\_890"] |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | error |
| error.type | å­—ç¬¦ä¸² | å¦ | é”™è¯¯ç±»å‹ | invalid\_request\_error/server\_error |
| error.code | å­—ç¬¦ä¸² | å¦ | é”™è¯¯ä»£ç  | invalid\_event |
| error.message | å­—ç¬¦ä¸² | å¦ | äººç±»å¯è¯»çš„é”™è¯¯æ¶ˆæ¯ | "The 'type' field is missing." |
| error.param | å­—ç¬¦ä¸² | å¦ | ä¸é”™è¯¯ç›¸å…³çš„å‚æ•° | null |
| error.event\_id | å­—ç¬¦ä¸² | å¦ | ç›¸å…³äº‹ä»¶çš„ID | event\_567 |


#### conversation.item.input\_audio\_transcription.completedâœ…

å½“å¯ç”¨è¾“å…¥éŸ³é¢‘è½¬å†™åŠŸèƒ½å¹¶ä¸”è½¬å†™æˆåŠŸæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_2122 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.input\_audio\_transcription.completed |
| item\_id | å­—ç¬¦ä¸² | å¦ | ç”¨æˆ·æ¶ˆæ¯é¡¹çš„ID | msg\_003 |
| content\_index | æ•´æ•° | å¦ | åŒ…å«éŸ³é¢‘çš„å†…å®¹éƒ¨åˆ†çš„ç´¢å¼• | 0 |
| transcript | å­—ç¬¦ä¸² | å¦ | è½¬å†™çš„æ–‡æœ¬å†…å®¹ | "Hello, how are you?" |


#### conversation.item.input\_audio\_transcription.failedâœ…
å½“é…ç½®äº†è¾“å…¥éŸ³é¢‘è½¬å†™åŠŸèƒ½,ä½†ç”¨æˆ·æ¶ˆæ¯çš„è½¬å†™è¯·æ±‚å¤±è´¥æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_2324 |
| type | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | äº‹ä»¶ç±»å‹ | ["conversation.item.input\_audio\_transcription.failed"] |
| item\_id | å­—ç¬¦ä¸² | å¦ | ç”¨æˆ·æ¶ˆæ¯é¡¹çš„ID | msg\_003 |
| content\_index | æ•´æ•° | å¦ | åŒ…å«éŸ³é¢‘çš„å†…å®¹éƒ¨åˆ†çš„ç´¢å¼• | 0 |
| error.type | å­—ç¬¦ä¸² | å¦ | é”™è¯¯ç±»å‹ | transcription\_error |
| error.code | å­—ç¬¦ä¸² | å¦ | é”™è¯¯ä»£ç  | audio\_unintelligible |
| error.message | å­—ç¬¦ä¸² | å¦ | äººç±»å¯è¯»çš„é”™è¯¯æ¶ˆæ¯ | "The audio could not be transcribed." |
| error.param | å­—ç¬¦ä¸² | å¦ | ä¸é”™è¯¯ç›¸å…³çš„å‚æ•° | null |


#### conversation.item.truncatedâœ…

å½“å®¢æˆ·ç«¯æˆªæ–­äº†ä¹‹å‰çš„åŠ©æ‰‹éŸ³é¢‘æ¶ˆæ¯é¡¹æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_2526 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.truncated |
| item\_id | å­—ç¬¦ä¸² | å¦ | è¢«æˆªæ–­çš„åŠ©æ‰‹æ¶ˆæ¯é¡¹çš„ID | msg\_004 |
| content\_index | æ•´æ•° | å¦ | è¢«æˆªæ–­çš„å†…å®¹éƒ¨åˆ†çš„ç´¢å¼• | 0 |
| audio\_end\_ms | æ•´æ•° | å¦ | éŸ³é¢‘è¢«æˆªæ–­çš„æ—¶é—´ç‚¹(æ¯«ç§’) | 1500 |


#### conversation.item.deletedâœ…

å½“å¯¹è¯ä¸­çš„æŸä¸ªé¡¹ç›®è¢«åˆ é™¤æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_2728 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.deleted |
| item\_id | å­—ç¬¦ä¸² | å¦ | è¢«åˆ é™¤çš„å¯¹è¯é¡¹çš„ID | msg\_005 |


#### input\_audio\_buffer.committedâœ…

å½“éŸ³é¢‘ç¼“å†²åŒºä¸­çš„æ•°æ®è¢«æäº¤æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1121 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.committed |
| previous\_item\_id | å­—ç¬¦ä¸² | å¦ | æ–°å¯¹è¯é¡¹å°†æ’å…¥åœ¨æ­¤IDå¯¹åº”çš„å¯¹è¯é¡¹ä¹‹å | msg\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | å°†è¦åˆ›å»ºçš„ç”¨æˆ·æ¶ˆæ¯é¡¹çš„ID | msg\_002 |


#### input\_audio\_buffer.clearedâœ…

å½“å®¢æˆ·ç«¯æ¸…ç©ºè¾“å…¥éŸ³é¢‘ç¼“å†²åŒºæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1314 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.cleared |


#### input\_audio\_buffer.speech\_startedâœ…

åœ¨æœåŠ¡å™¨è¯­éŸ³æ£€æµ‹æ¨¡å¼ä¸‹ï¼Œå½“æ£€æµ‹åˆ°è¯­éŸ³è¾“å…¥æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1516 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.speech\_started |
| audio\_start\_ms | æ•´æ•° | å¦ | ä»ä¼šè¯å¼€å§‹åˆ°æ£€æµ‹åˆ°è¯­éŸ³çš„æ¯«ç§’æ•° | 1000 |
| item\_id | å­—ç¬¦ä¸² | å¦ | è¯­éŸ³åœæ­¢æ—¶å°†åˆ›å»ºçš„ç”¨æˆ·æ¶ˆæ¯é¡¹çš„ID | msg\_003 |


#### input\_audio\_buffer.speech\_stoppedâœ…

åœ¨æœåŠ¡å™¨è¯­éŸ³æ£€æµ‹æ¨¡å¼ä¸‹ï¼Œå½“æ£€æµ‹åˆ°è¯­éŸ³è¾“å…¥åœæ­¢æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1718 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | input\_audio\_buffer.speech\_stopped |
| audio\_start\_ms | æ•´æ•° | å¦ | ä»ä¼šè¯å¼€å§‹åˆ°æ£€æµ‹åˆ°è¯­éŸ³åœæ­¢çš„æ¯«ç§’æ•° | 2000 |
| item\_id | å­—ç¬¦ä¸² | å¦ | å°†è¦åˆ›å»ºçš„ç”¨æˆ·æ¶ˆæ¯é¡¹çš„ID | msg\_003 |


#### response.createdâœ…

å½“åˆ›å»ºæ–°çš„å“åº”æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_2930 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.created |
| response.id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦ | resp\_001 |
| response.object | å­—ç¬¦ä¸² | å¦ | å¯¹è±¡ç±»å‹ | realtime.response |
| response.status | å­—ç¬¦ä¸² | å¦ | å“åº”çš„çŠ¶æ€ | in\_progress |
| response.status\_details | å¯¹è±¡ | å¦ | çŠ¶æ€çš„é™„åŠ è¯¦ç»†ä¿¡æ¯ | null |
| response.output | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | å“åº”ç”Ÿæˆçš„è¾“å‡ºé¡¹åˆ—è¡¨ | ["[]"] |
| response.usage | å¯¹è±¡ | å¦ | å“åº”çš„ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ | null |


#### response.doneâœ…

å½“å“åº”å®Œæˆæµå¼ä¼ è¾“æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_3132 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.done |
| response.id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦ | resp\_001 |
| response.object | å­—ç¬¦ä¸² | å¦ | å¯¹è±¡ç±»å‹ | realtime.response |
| response.status | å­—ç¬¦ä¸² | å¦ | å“åº”çš„æœ€ç»ˆçŠ¶æ€ | completed/cancelled/failed/incomplete |
| response.status\_details | å¯¹è±¡ | å¦ | çŠ¶æ€çš„é™„åŠ è¯¦ç»†ä¿¡æ¯ | null |
| response.output | å­—ç¬¦ä¸²æ•°ç»„ | å¦ | å“åº”ç”Ÿæˆçš„è¾“å‡ºé¡¹åˆ—è¡¨ | ["[...]"] |
| response.usage.total\_tokens | æ•´æ•° | å¦ | æ€»tokenæ•° | 50 |
| response.usage.input\_tokens | æ•´æ•° | å¦ | è¾“å…¥tokenæ•° | 20 |
| response.usage.output\_tokens | æ•´æ•° | å¦ | è¾“å‡ºtokenæ•° | 30 |


#### response.output\_item.addedâœ…

å½“å“åº”ç”Ÿæˆè¿‡ç¨‹ä¸­åˆ›å»ºæ–°çš„è¾“å‡ºé¡¹æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_3334 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.output\_item.added |
| response\_id | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹æ‰€å±çš„å“åº”ID | resp\_001 |
| output\_index | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| item.id | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹çš„å”¯ä¸€æ ‡è¯†ç¬¦ | msg\_007 |
| item.object | å­—ç¬¦ä¸² | å¦ | å¯¹è±¡ç±»å‹ | realtime.item |
| item.type | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹ç±»å‹ | message/function\_call/function\_call\_output |
| item.status | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹çŠ¶æ€ | in\_progress/completed |
| item.role | å­—ç¬¦ä¸² | å¦ | ä¸è¾“å‡ºé¡¹å…³è”çš„è§’è‰² | assistant |
| item.content | æ•°ç»„ | å¦ | è¾“å‡ºé¡¹çš„å†…å®¹ | ["type", "text", "audio", "transcript"] |


#### response.output\_item.doneâœ…

å½“è¾“å‡ºé¡¹å®Œæˆæµå¼ä¼ è¾“æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_3536 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.output\_item.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹æ‰€å±çš„å“åº”ID | resp\_001 |
| output\_index | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| item.id | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹çš„å”¯ä¸€æ ‡è¯†ç¬¦ | msg\_007 |
| item.object | å­—ç¬¦ä¸² | å¦ | å¯¹è±¡ç±»å‹ | realtime.item |
| item.type | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹ç±»å‹ | message/function\_call/function\_call\_output |
| item.status | å­—ç¬¦ä¸² | å¦ | è¾“å‡ºé¡¹çš„æœ€ç»ˆçŠ¶æ€ | completed/incomplete |
| item.role | å­—ç¬¦ä¸² | å¦ | ä¸è¾“å‡ºé¡¹å…³è”çš„è§’è‰² | assistant |
| item.content | æ•°ç»„ | å¦ | è¾“å‡ºé¡¹çš„å†…å®¹ | ["type", "text", "audio", "transcript"] |


#### response.content\_part.addedâœ…

å½“å“åº”ç”Ÿæˆè¿‡ç¨‹ä¸­å‘åŠ©æ‰‹æ¶ˆæ¯é¡¹æ·»åŠ æ–°çš„å†…å®¹éƒ¨åˆ†æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_3738 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.content\_part.added |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ·»åŠ å†…å®¹éƒ¨åˆ†çš„æ¶ˆæ¯é¡¹ID | msg\_007 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| part.type | å­—ç¬¦ä¸² | å¦ | å†…å®¹ç±»å‹ | text/audio |
| part.text | å­—ç¬¦ä¸² | å¦ | æ–‡æœ¬å†…å®¹ | "Hello" |
| part.audio | å­—ç¬¦ä¸² | å¦ | Base64ç¼–ç çš„éŸ³é¢‘æ•°æ® | "base64\_encoded\_audio\_data" |
| part.transcript | å­—ç¬¦ä¸² | å¦ | éŸ³é¢‘çš„è½¬å†™æ–‡æœ¬ | "Hello" |


#### response.content\_part.doneâœ…

å½“åŠ©æ‰‹æ¶ˆæ¯é¡¹ä¸­çš„å†…å®¹éƒ¨åˆ†å®Œæˆæµå¼ä¼ è¾“æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_3940 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.content\_part.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ·»åŠ å†…å®¹éƒ¨åˆ†çš„æ¶ˆæ¯é¡¹ID | msg\_007 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| part.type | å­—ç¬¦ä¸² | å¦ | å†…å®¹ç±»å‹ | text/audio |
| part.text | å­—ç¬¦ä¸² | å¦ | æ–‡æœ¬å†…å®¹ | "Hello" |
| part.audio | å­—ç¬¦ä¸² | å¦ | Base64ç¼–ç çš„éŸ³é¢‘æ•°æ® | "base64\_encoded\_audio\_data" |
| part.transcript | å­—ç¬¦ä¸² | å¦ | éŸ³é¢‘çš„è½¬å†™æ–‡æœ¬ | "Hello" |


#### response.text.deltaâœ…

å½“"text"ç±»å‹å†…å®¹éƒ¨åˆ†çš„æ–‡æœ¬å€¼æ›´æ–°æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_4142 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.text.delta |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_007 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| delta | å­—ç¬¦ä¸² | å¦ | æ–‡æœ¬å¢é‡æ›´æ–°å†…å®¹ | "Sure, I can h" |


#### response.text.doneâœ…

å½“"text"ç±»å‹å†…å®¹éƒ¨åˆ†çš„æ–‡æœ¬æµå¼ä¼ è¾“å®Œæˆæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_4344 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.text.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_007 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| delta | å­—ç¬¦ä¸² | å¦ | æœ€ç»ˆçš„å®Œæ•´æ–‡æœ¬å†…å®¹ | "Sure, I can help with that." |


#### response.audio\_transcript.deltaâœ…
å½“æ¨¡å‹ç”Ÿæˆçš„éŸ³é¢‘è¾“å‡ºè½¬å†™å†…å®¹æ›´æ–°æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_4546 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.audio\_transcript.delta |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_008 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| delta | å­—ç¬¦ä¸² | å¦ | è½¬å†™æ–‡æœ¬çš„å¢é‡æ›´æ–°å†…å®¹ | "Hello, how can I a" |


#### response.audio\_transcript.doneâœ…

å½“æ¨¡å‹ç”Ÿæˆçš„éŸ³é¢‘è¾“å‡ºè½¬å†™å®Œæˆæµå¼ä¼ è¾“æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_4748 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.audio\_transcript.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_008 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| transcript | å­—ç¬¦ä¸² | å¦ | éŸ³é¢‘çš„æœ€ç»ˆå®Œæ•´è½¬å†™æ–‡æœ¬ | "Hello, how can I assist you today?" |


#### response.audio.deltaâœ…

å½“æ¨¡å‹ç”Ÿæˆçš„éŸ³é¢‘å†…å®¹æ›´æ–°æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_4950 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.audio.delta |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_008 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |
| delta | å­—ç¬¦ä¸² | å¦ | Base64ç¼–ç çš„éŸ³é¢‘æ•°æ®å¢é‡ | "Base64EncodedAudioDelta" |


#### response.audio.doneâœ…

å½“æ¨¡å‹ç”Ÿæˆçš„éŸ³é¢‘å®Œæˆæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_5152 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.audio.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_001 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | msg\_008 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| content\_index | æ•´æ•° | å¦ | å†…å®¹éƒ¨åˆ†åœ¨æ¶ˆæ¯é¡¹å†…å®¹æ•°ç»„ä¸­çš„ç´¢å¼• | 0 |


### å‡½æ•°è°ƒç”¨âœ…

#### response.function\_call\_arguments.deltaâœ…

å½“æ¨¡å‹ç”Ÿæˆçš„å‡½æ•°è°ƒç”¨å‚æ•°æ›´æ–°æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_5354 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.function\_call\_arguments.delta |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_002 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | fc\_001 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| call\_id | å­—ç¬¦ä¸² | å¦ | å‡½æ•°è°ƒç”¨çš„ID | call\_001 |
| delta | å­—ç¬¦ä¸² | å¦ | JSONæ ¼å¼çš„å‡½æ•°è°ƒç”¨å‚æ•°å¢é‡ | "{\"location\": \"San\"" |


#### response.function\_call\_arguments.doneâœ…

å½“æ¨¡å‹ç”Ÿæˆçš„å‡½æ•°è°ƒç”¨å‚æ•°å®Œæˆæµå¼ä¼ è¾“æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_5556 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | response.function\_call\_arguments.done |
| response\_id | å­—ç¬¦ä¸² | å¦ | å“åº”çš„ID | resp\_002 |
| item\_id | å­—ç¬¦ä¸² | å¦ | æ¶ˆæ¯é¡¹çš„ID | fc\_001 |
| output\_index | æ•´æ•° | å¦ | è¾“å‡ºé¡¹åœ¨å“åº”ä¸­çš„ç´¢å¼• | 0 |
| call\_id | å­—ç¬¦ä¸² | å¦ | å‡½æ•°è°ƒç”¨çš„ID | call\_001 |
| arguments | å­—ç¬¦ä¸² | å¦ | æœ€ç»ˆçš„å®Œæ•´å‡½æ•°è°ƒç”¨å‚æ•°(JSONæ ¼å¼) | "{\"location\": \"San Francisco\"}" |


### å…¶ä»–çŠ¶æ€æ›´æ–°âœ…

#### rate\_limits.updatedâœ…
åœ¨æ¯ä¸ª "response.done" äº‹ä»¶ä¹‹åè§¦å‘,ç”¨äºæŒ‡ç¤ºæ›´æ–°åçš„é€Ÿç‡é™åˆ¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_5758 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | rate\_limits.updated |
| rate\_limits | å¯¹è±¡æ•°ç»„ | å¦ | é€Ÿç‡é™åˆ¶ä¿¡æ¯åˆ—è¡¨ | [{"name": "requests\_per\_min", "limit": 60, "remaining": 45, "reset\_seconds": 35}] |


#### conversation.createdâœ…

å½“å¯¹è¯åˆ›å»ºæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_9101 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.created |
| conversation | å¯¹è±¡ | å¦ | å¯¹è¯èµ„æºå¯¹è±¡ | {"id": "conv\_001", "object": "realtime.conversation"} |


#### conversation.item.createdâœ…
å½“å¯¹è¯é¡¹åˆ›å»ºæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1920 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | conversation.item.created |
| previous\_item\_id | å­—ç¬¦ä¸² | å¦ | å‰ä¸€ä¸ªå¯¹è¯é¡¹çš„ID | msg\_002 |
| item | å¯¹è±¡ | å¦ | å¯¹è¯é¡¹å¯¹è±¡ | {"id": "msg\_003", "object": "realtime.item", "type": "message", "status": "completed", "role": "user", "content": [{"type": "text", "text": "Hello"}]} |


#### session.createdâœ…

å½“ä¼šè¯åˆ›å»ºæ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_1234 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | session.created |
| session | å¯¹è±¡ | å¦ | ä¼šè¯å¯¹è±¡ | {"id": "sess\_001", "object": "realtime.session", "model": "gpt-4", "modalities": ["text", "audio"]} |


#### session.updatedâœ…

å½“ä¼šè¯æ›´æ–°æ—¶è¿”å›æ­¤äº‹ä»¶ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | å¦ | æœåŠ¡ç«¯äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_5678 |
| type | å­—ç¬¦ä¸² | å¦ | äº‹ä»¶ç±»å‹ | session.updated |
| session | å¯¹è±¡ | å¦ | æ›´æ–°åçš„ä¼šè¯å¯¹è±¡ | {"id": "sess\_001", "object": "realtime.session", "model": "gpt-4", "modalities": ["text", "audio"]} |


### é€Ÿç‡é™åˆ¶äº‹ä»¶å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| name | å­—ç¬¦ä¸² | æ˜¯ | é™åˆ¶åç§° | requests\_per\_min |
| limit | æ•´æ•° | æ˜¯ | é™åˆ¶å€¼ | 60 |
| remaining | æ•´æ•° | æ˜¯ | å‰©ä½™å¯ç”¨é‡ | 45 |
| reset\_seconds | æ•´æ•° | æ˜¯ | é‡ç½®æ—¶é—´(ç§’) | 35 |


### å‡½æ•°è°ƒç”¨å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| type | å­—ç¬¦ä¸² | æ˜¯ | å‡½æ•°ç±»å‹ | function |
| name | å­—ç¬¦ä¸² | æ˜¯ | å‡½æ•°åç§° | get\_weather |
| description | å­—ç¬¦ä¸² | å¦ | å‡½æ•°æè¿° | Get the current weather |
| parameters | å¯¹è±¡ | æ˜¯ | å‡½æ•°å‚æ•°å®šä¹‰ | {"type": "object", "properties": {...}} |


### éŸ³é¢‘æ ¼å¼å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| sample\_rate | æ•´æ•° | é‡‡æ ·ç‡ | 8000, 16000, 24000, 44100, 48000 |
| channels | æ•´æ•° | å£°é“æ•° | 1 (å•å£°é“), 2 (ç«‹ä½“å£°) |
| bits\_per\_sample | æ•´æ•° | é‡‡æ ·ä½æ•° | 16 (pcm16), 8 (g711) |
| encoding | å­—ç¬¦ä¸² | ç¼–ç æ–¹å¼ | pcm16, g711\_ulaw, g711\_alaw |


### è¯­éŸ³æ£€æµ‹å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ | èŒƒå›´ |
|:----|:----|:----|:----|:----|
| threshold | æµ®ç‚¹æ•° | VAD æ¿€æ´»é˜ˆå€¼ | 0.5 | 0.0-1.0 |
| prefix\_padding\_ms | æ•´æ•° | è¯­éŸ³å‰ç¼€å¡«å……(æ¯«ç§’) | 500 | 0-5000 |
| silence\_duration\_ms | æ•´æ•° | é™éŸ³æ£€æµ‹æ—¶é•¿(æ¯«ç§’) | 1000 | 100-10000 |


### å·¥å…·é€‰æ‹©å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| tool\_choice | å­—ç¬¦ä¸² | å·¥å…·é€‰æ‹©æ–¹å¼ | auto, none, required |
| tools | æ•°ç»„ | å¯ç”¨å·¥å…·åˆ—è¡¨ | [{type, name, description, parameters}] |


### æ¨¡å‹é…ç½®å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | èŒƒå›´/å¯é€‰å€¼ | é»˜è®¤å€¼ |
|:----|:----|:----|:----|:----|
| temperature | æµ®ç‚¹æ•° | é‡‡æ ·æ¸©åº¦ | 0.0-2.0 | 1.0 |
| max\_output\_tokens | æ•´æ•°/å­—ç¬¦ä¸² | æœ€å¤§è¾“å‡ºé•¿åº¦ | 1-4096/"inf" | "inf" |
| modalities | å­—ç¬¦ä¸²æ•°ç»„ | å“åº”æ¨¡æ€ | ["text", "audio"] | ["text"] |
| voice | å­—ç¬¦ä¸² | è¯­éŸ³ç±»å‹ | alloy, echo, shimmer | alloy |


### äº‹ä»¶é€šç”¨å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|:----|
| event\_id | å­—ç¬¦ä¸² | æ˜¯ | äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ | event\_123 |
| type | å­—ç¬¦ä¸² | æ˜¯ | äº‹ä»¶ç±»å‹ | session.update |
| timestamp | æ•´æ•° | å¦ | äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³(æ¯«ç§’) | 1677649363000 |


### ä¼šè¯çŠ¶æ€å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| status | å­—ç¬¦ä¸² | ä¼šè¯çŠ¶æ€ | active, ended, error |
| error | å¯¹è±¡ | é”™è¯¯ä¿¡æ¯ | {"type": "error\_type", "message": "error message"} |
| metadata | å¯¹è±¡ | ä¼šè¯å…ƒæ•°æ® | {"client\_id": "web", "session\_type": "chat"} |


### å¯¹è¯é¡¹çŠ¶æ€å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| status | å­—ç¬¦ä¸² | å¯¹è¯é¡¹çŠ¶æ€ | completed, in\_progress, incomplete |
| role | å­—ç¬¦ä¸² | å‘é€è€…è§’è‰² | user, assistant, system |
| type | å­—ç¬¦ä¸² | å¯¹è¯é¡¹ç±»å‹ | message, function\_call, function\_call\_output |


### å†…å®¹ç±»å‹å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| type | å­—ç¬¦ä¸² | å†…å®¹ç±»å‹ | text, audio, transcript |
| format | å­—ç¬¦ä¸² | å†…å®¹æ ¼å¼ | plain, markdown, html |
| encoding | å­—ç¬¦ä¸² | ç¼–ç æ–¹å¼ | utf-8, base64 |


### å“åº”çŠ¶æ€å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| status | å­—ç¬¦ä¸² | å“åº”çŠ¶æ€ | completed, cancelled, failed, incomplete |
| status\_details | å¯¹è±¡ | çŠ¶æ€è¯¦æƒ… | {"reason": "user\_cancelled"} |
| usage | å¯¹è±¡ | ä½¿ç”¨ç»Ÿè®¡ | {"total\_tokens": 50, "input\_tokens": 20, "output\_tokens": 30} |


### éŸ³é¢‘è½¬å†™å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|:----|:----|:----|:----|
| enabled | å¸ƒå°”å€¼ | æ˜¯å¦å¯ç”¨è½¬å†™ | true |
| model | å­—ç¬¦ä¸² | è½¬å†™æ¨¡å‹ | whisper-1 |
| language | å­—ç¬¦ä¸² | è½¬å†™è¯­è¨€ | en, zh, auto |
| prompt | å­—ç¬¦ä¸² | è½¬å†™æç¤ºè¯ | "Transcript of a conversation" |


### éŸ³é¢‘æµå‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼ |
|:----|:----|:----|:----|
| chunk\_size | æ•´æ•° | éŸ³é¢‘å—å¤§å°(å­—èŠ‚) | 1024, 2048, 4096 |
| latency | å­—ç¬¦ä¸² | å»¶è¿Ÿæ¨¡å¼ | low, balanced, high |
| compression | å­—ç¬¦ä¸² | å‹ç¼©æ–¹å¼ | none, opus, mp3 |


### WebRTC é…ç½®å‚æ•°è¡¨âœ…

| å‚æ•° | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|:----|:----|:----|:----|
| ice\_servers | æ•°ç»„ | ICE æœåŠ¡å™¨åˆ—è¡¨ | [{"urls": "stun:stun.l.google.com:19302"}] |
| audio\_constraints | å¯¹è±¡ | éŸ³é¢‘çº¦æŸ | {"echoCancellation": true} |
| connection\_timeout | æ•´æ•° | è¿æ¥è¶…æ—¶(æ¯«ç§’) | 30000 |
# OpenAI å›¾åƒæ ¼å¼ï¼ˆDallÂ·Eï¼‰

> å®˜æ–¹æ–‡æ¡£
> 
> [OpenAI Images](https://platform.openai.com/docs/api-reference/images)

## ğŸ“ ç®€ä»‹

ç»™å®šæ–‡æœ¬æç¤ºå’Œ/æˆ–è¾“å…¥å›¾ç‰‡ï¼Œæ¨¡å‹å°†ç”Ÿæˆæ–°çš„å›¾ç‰‡ã€‚DALLÂ·E æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°åˆ›å»ºã€ç¼–è¾‘å’Œä¿®æ”¹å›¾åƒã€‚ç›®å‰æ”¯æŒ DALLÂ·E 2 å’Œ DALLÂ·E 3 ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå®ƒä»¬åœ¨å›¾åƒè´¨é‡ã€åˆ›æ„è¡¨ç°å’Œç²¾ç¡®åº¦ä¸Šéƒ½æœ‰æ˜¾è‘—å·®å¼‚ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åˆ›å»ºå›¾ç‰‡ âœ…

```javascript
# åŸºç¡€å›¾ç‰‡ç”Ÿæˆ
curl https://sg.uiuiapi.com/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "dall-e-3",
    "prompt": "ä¸€åªå¯çˆ±çš„å°æµ·ç­",
    "n": 1,
    "size": "1024x1024"
  }'

# é«˜è´¨é‡å›¾ç‰‡ç”Ÿæˆ
curl https://sg.uiuiapi.com/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "dall-e-3",
    "prompt": "ä¸€åªå¯çˆ±çš„å°æµ·ç­",
    "quality": "hd",
    "style": "vivid",
    "size": "1024x1024"
  }'

# ä½¿ç”¨ base64 è¿”å›æ ¼å¼
curl https://sg.uiuiapi.com/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "dall-e-3",
    "prompt": "ä¸€åªå¯çˆ±çš„å°æµ·ç­",
    "response_format": "b64_json"
  }'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://...",
      "revised_prompt": "ä¸€åªå¯çˆ±çš„å°æµ·ç­åœ¨æ°´ä¸­å¬‰æˆ,å®ƒæœ‰ç€åœ†åœ†çš„çœ¼ç›å’Œæ¯›èŒ¸èŒ¸çš„çš®æ¯›"
    }
  ]
}
```

### ç¼–è¾‘å›¾ç‰‡ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/images/edits \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -F image="@otter.png" \
  -F mask="@mask.png" \
  -F prompt="ä¸€åªæˆ´ç€è´é›·å¸½çš„å¯çˆ±å°æµ·ç­" \
  -F n=2 \
  -F size="1024x1024"
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```

### ç”Ÿæˆå›¾ç‰‡å˜ä½“ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/images/variations \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -F image="@otter.png" \
  -F n=2 \
  -F size="1024x1024"
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

#### åˆ›å»ºå›¾ç‰‡

```javascript
POST /v1/images/generations
```

æ ¹æ®æ–‡æœ¬æç¤ºåˆ›å»ºå›¾ç‰‡ã€‚

#### ç¼–è¾‘å›¾ç‰‡

```javascript
POST /v1/images/edits
```

æ ¹æ®åŸå§‹å›¾ç‰‡å’Œæç¤ºåˆ›å»ºç¼–è¾‘æˆ–æ‰©å±•çš„å›¾ç‰‡ã€‚

#### ç”Ÿæˆå˜ä½“

```javascript
POST /v1/images/variations
```

åˆ›å»ºç»™å®šå›¾ç‰‡çš„å˜ä½“ã€‚

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$OPENAI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### åˆ›å»ºå›¾ç‰‡

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šæœŸæœ›ç”Ÿæˆå›¾ç‰‡çš„æ–‡æœ¬æè¿°ã€‚
- dall-e-2 æœ€å¤§é•¿åº¦ä¸º 1000 å­—ç¬¦
- dall-e-3 æœ€å¤§é•¿åº¦ä¸º 4000 å­—ç¬¦
- æç¤ºï¼š
- ä½¿ç”¨å…·ä½“å’Œè¯¦ç»†çš„æè¿°
- åŒ…å«å…³é”®çš„è§†è§‰å…ƒç´ 
- æŒ‡å®šæœŸæœ›çš„è‰ºæœ¯é£æ ¼
- æè¿°æ„å›¾å’Œè§†è§’

##### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šdall-e-2
- è¯´æ˜ï¼šç”¨äºå›¾åƒç”Ÿæˆçš„æ¨¡å‹ã€‚

##### `n`

- ç±»å‹ï¼šæ•´æ•°æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1
- è¯´æ˜ï¼šè¦ç”Ÿæˆçš„å›¾ç‰‡æ•°é‡ã€‚å¿…é¡»åœ¨ 1-10 ä¹‹é—´ã€‚dall-e-3 ä»…æ”¯æŒ n=1ã€‚

##### `quality`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šstandard
- è¯´æ˜ï¼šç”Ÿæˆå›¾ç‰‡çš„è´¨é‡ã€‚hd é€‰é¡¹ä¼šç”Ÿæˆæ›´ç»†è‡´å’Œä¸€è‡´çš„å›¾ç‰‡ã€‚ä»… dall-e-3 æ”¯æŒæ­¤å‚æ•°ã€‚

##### `response_format`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šurl
- è¯´æ˜ï¼šè¿”å›ç”Ÿæˆå›¾ç‰‡çš„æ ¼å¼ã€‚å¿…é¡»æ˜¯ url æˆ– b64\_json ä¹‹ä¸€ã€‚URL åœ¨ç”Ÿæˆå 60 åˆ†é’Ÿå†…æœ‰æ•ˆã€‚

##### `size`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1024x1024
- è¯´æ˜ï¼šç”Ÿæˆå›¾ç‰‡çš„å°ºå¯¸ã€‚dall-e-2 å¿…é¡»æ˜¯ 256x256ã€512x512 æˆ– 1024x1024 ä¹‹ä¸€ã€‚dall-e-3 å¿…é¡»æ˜¯ 1024x1024ã€1792x1024 æˆ– 1024x1792 ä¹‹ä¸€ã€‚

##### `style`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼švivid
- è¯´æ˜ï¼šç”Ÿæˆå›¾ç‰‡çš„é£æ ¼ã€‚å¿…é¡»æ˜¯ vivid æˆ– natural ä¹‹ä¸€ã€‚vivid å€¾å‘äºç”Ÿæˆè¶…ç°å®å’Œæˆå‰§æ€§çš„å›¾ç‰‡ï¼Œnatural å€¾å‘äºç”Ÿæˆæ›´è‡ªç„¶ã€ä¸é‚£ä¹ˆè¶…ç°å®çš„å›¾ç‰‡ã€‚ä»… dall-e-3 æ”¯æŒæ­¤å‚æ•°ã€‚

##### `user`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šä»£è¡¨æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯å¸®åŠ© OpenAI ç›‘æ§å’Œæ£€æµ‹æ»¥ç”¨è¡Œä¸ºã€‚

#### ç¼–è¾‘å›¾ç‰‡

##### `image`

- ç±»å‹ï¼šæ–‡ä»¶
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦ç¼–è¾‘çš„å›¾ç‰‡ã€‚å¿…é¡»æ˜¯æœ‰æ•ˆçš„ PNG æ–‡ä»¶ï¼Œå°äº 4MBï¼Œä¸”ä¸ºæ­£æ–¹å½¢ã€‚å¦‚æœæœªæä¾› maskï¼Œå›¾ç‰‡å¿…é¡»å…·æœ‰é€æ˜åº¦ï¼Œè¿™å°†ç”¨ä½œè’™ç‰ˆã€‚

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šæœŸæœ›ç”Ÿæˆå›¾ç‰‡çš„æ–‡æœ¬æè¿°ã€‚æœ€å¤§é•¿åº¦ä¸º 1000 å­—ç¬¦ã€‚

##### `mask`

- ç±»å‹ï¼šæ–‡ä»¶
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šé¢å¤–çš„å›¾ç‰‡ï¼Œå…¶å®Œå…¨é€æ˜åŒºåŸŸï¼ˆå¦‚ alpha ä¸ºé›¶çš„åŒºåŸŸï¼‰æŒ‡ç¤ºåº”è¯¥ç¼–è¾‘çš„ä½ç½®ã€‚å¿…é¡»æ˜¯æœ‰æ•ˆçš„ PNG æ–‡ä»¶ï¼Œå°äº 4MBï¼Œä¸”ä¸ image å…·æœ‰ç›¸åŒå°ºå¯¸ã€‚

å…¶ä»–å‚æ•°ä¸åˆ›å»ºå›¾ç‰‡æ¥å£ç›¸åŒã€‚

#### ç”Ÿæˆå˜ä½“

##### `image`

- ç±»å‹ï¼šæ–‡ä»¶
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šä½œä¸ºå˜ä½“åŸºç¡€çš„å›¾ç‰‡ã€‚å¿…é¡»æ˜¯æœ‰æ•ˆçš„ PNG æ–‡ä»¶ï¼Œå°äº 4MBï¼Œä¸”ä¸ºæ­£æ–¹å½¢ã€‚

å…¶ä»–å‚æ•°ä¸åˆ›å»ºå›¾ç‰‡æ¥å£ç›¸åŒã€‚

## ğŸ“¥ å“åº”Â¶

### æˆåŠŸå“åº”

æ‰€æœ‰ä¸‰ä¸ªç«¯ç‚¹éƒ½è¿”å›åŒ…å«å›¾ç‰‡å¯¹è±¡åˆ—è¡¨çš„å“åº”ã€‚

#### `created`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šå“åº”åˆ›å»ºçš„æ—¶é—´æˆ³

#### `data`

- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šç”Ÿæˆçš„å›¾ç‰‡å¯¹è±¡åˆ—è¡¨

### å›¾ç‰‡å¯¹è±¡

#### `b64_json`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå¦‚æœ response\_format ä¸º b64\_jsonï¼Œåˆ™åŒ…å«ç”Ÿæˆå›¾ç‰‡çš„ base64 ç¼–ç  JSON

#### `url`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå¦‚æœ response\_format ä¸º urlï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™åŒ…å«ç”Ÿæˆå›¾ç‰‡çš„ URL

#### `revised_prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå¦‚æœæç¤ºæœ‰ä»»ä½•ä¿®æ”¹ï¼Œåˆ™åŒ…å«ç”¨äºç”Ÿæˆå›¾ç‰‡çš„ä¿®æ”¹åçš„æç¤º

ç¤ºä¾‹å›¾ç‰‡å¯¹è±¡:

```javascript
{
  "url": "https://...",
  "revised_prompt": "ä¸€åªå¯çˆ±çš„å°æµ·ç­åœ¨æ°´ä¸­å¬‰æˆ,å®ƒæœ‰ç€åœ†åœ†çš„çœ¼ç›å’Œæ¯›èŒ¸èŒ¸çš„çš®æ¯›"
}
```

## ğŸŒŸ æœ€ä½³å®è·µ

### Prompt ç¼–å†™å»ºè®®

1. ä½¿ç”¨æ¸…æ™°å…·ä½“çš„æè¿°
2. æŒ‡å®šé‡è¦çš„è§†è§‰ç»†èŠ‚
3. æè¿°æœŸæœ›çš„è‰ºæœ¯é£æ ¼å’Œæ°›å›´
4. æ³¨æ„æ„å›¾å’Œè§†è§’çš„è¯´æ˜

### å‚æ•°é€‰æ‹©å»ºè®®

1. æ¨¡å‹é€‰æ‹©
2. dall-e-3ï¼šé€‚åˆéœ€è¦é«˜è´¨é‡ã€ç²¾ç¡®ç»†èŠ‚çš„åœºæ™¯
3. dall-e-2ï¼šé€‚åˆå¿«é€ŸåŸå‹æˆ–ç®€å•å›¾åƒç”Ÿæˆ
4. å°ºå¯¸é€‰æ‹©
5. 1024x1024ï¼šé€šç”¨åœºæ™¯çš„æœ€ä½³é€‰æ‹©
6. 1792x1024/1024x1792ï¼šé€‚åˆæ¨ªç‰ˆ/ç«–ç‰ˆåœºæ™¯
7. è¾ƒå°å°ºå¯¸ï¼šé€‚åˆç¼©ç•¥å›¾æˆ–å¿«é€Ÿé¢„è§ˆ
8. è´¨é‡å’Œé£æ ¼
9. quality=hdï¼šç”¨äºéœ€è¦ç²¾ç»†ç»†èŠ‚çš„å›¾åƒ
10. style=vividï¼šé€‚åˆåˆ›æ„å’Œè‰ºæœ¯æ•ˆæœ
11. style=naturalï¼šé€‚åˆçœŸå®åœºæ™¯å†ç°

### å¸¸è§é—®é¢˜

1. å›¾ç‰‡ç”Ÿæˆå¤±è´¥
2. æ£€æŸ¥ prompt æ˜¯å¦ç¬¦åˆå†…å®¹æ”¿ç­–
3. ç¡®è®¤æ–‡ä»¶æ ¼å¼å’Œå¤§å°é™åˆ¶
4. éªŒè¯ API å¯†é’¥æƒé™
5. ç»“æœä¸é¢„æœŸä¸ç¬¦
6. ä¼˜åŒ– prompt æè¿°
7. è°ƒæ•´è´¨é‡å’Œé£æ ¼å‚æ•°
8. è€ƒè™‘ä½¿ç”¨å›¾ç‰‡ç¼–è¾‘æˆ–å˜ä½“åŠŸèƒ½
# Midjourney å›¾åƒæ ¼å¼ï¼ˆMidjourney Proxy/Midjourney Proxy Plusï¼‰

> è¯·ä½ æ³¨æ„
> 
> è¯¥æ¥å£ **éMidjourneyå®˜æ–¹çš„æ¥å£**ï¼Œè€Œæ˜¯åŸºäºä½œè€… **novicezk** çš„å¼€æºé¡¹ç›® [**midjourney-proxy**](https://github.com/novicezk/midjourney-proxy) å®ç°çš„midjourneyä»£ç†æ¥å£ã€‚
> 
è¯¥é¡¹ç›®åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼ŒNew API éƒ½å·²ç»é€‚é…ï¼š

- å¼€æºç‰ˆ [midjourney-proxy](https://github.com/novicezk/midjourney-proxy)
- ä»˜è´¹ç‰ˆ [midjourney-proxy-plus](https://github.com/litter-coder/midjourney-proxy-plus)

è¿™é‡Œéå¸¸æ„Ÿè°¢ä½œè€…çš„è´¡çŒ®ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿ä½¿ç”¨midjourneyçš„å¼ºå¤§åŠŸèƒ½ï¼Œå¦‚æœæœ‰æ—¶é—´ï¼Œè¯·ç»™ä½œè€…ä¸€ä¸ªStarï¼Œå¦‚æœæœ‰èƒ½åŠ›ï¼Œå»ºè®®æ”¯æŒä½œè€…çš„ä»˜è´¹ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬æ”¯æŒæ›´å¤šåŠŸèƒ½ã€‚

| åŠŸèƒ½ç±»åˆ« | å¼€æºç‰ˆ | ä»˜è´¹ç‰ˆ |
|:----|:----|:----|
| åŸºç¡€åŠŸèƒ½ | â€‹ | â€‹ |
| ImagineæŒ‡ä»¤åŠç›¸å…³åŠ¨ä½œ | âœ“ | âœ“ |
| å«å›¾æ”¯æŒ | âœ“ | âœ“ |
| Blend(å›¾ç‰‡æ··åˆ) | âœ“ | âœ“ |
| Describe(å›¾ç”Ÿæ–‡) | âœ“ | âœ“ |
| ä»»åŠ¡å®æ—¶è¿›åº¦ | âœ“ | âœ“ |
| ä¸­æ–‡promptç¿»è¯‘ | âœ“ | âœ“ |
| promptæ•æ„Ÿè¯æ£€æµ‹ | âœ“ | âœ“ |
| user-tokenè¿æ¥wss | âœ“ | âœ“ |
| å¤šè´¦å·é…ç½® | âœ“ | âœ“ |
| é«˜çº§åŠŸèƒ½ | â€‹ | â€‹ |
| Shorten(promptåˆ†æ) | âœ— | âœ“ |
| ç„¦ç‚¹ç§»åŠ¨(Pan) | âœ— | âœ“ |
| å›¾ç‰‡å˜ç„¦(Zoom) | âœ— | âœ“ |
| å±€éƒ¨é‡ç»˜(Vary Region) | âœ— | âœ“ |
| å…³è”æŒ‰é’®åŠ¨ä½œå’ŒRemixæ¨¡å¼ | âœ— | âœ“ |
| è·å–å›¾ç‰‡seedå€¼ | âœ— | âœ“ |
| è´¦å·ç®¡ç† | â€‹ | â€‹ |
| è´¦å·æ± æŒä¹…åŒ– | âœ— | âœ“ |
| å¤šç§å­˜å‚¨æ”¯æŒ(Redis/MySQL) | âœ— | âœ“ |
| è´¦å·ä¿¡æ¯è·å–å’Œè®¾ç½® | âœ— | âœ“ |
| ä»»åŠ¡å–æ¶ˆåŠŸèƒ½ | âœ— | âœ“ |
| å†…ç½®ç®¡ç†åå° | âœ— | âœ“ |
| æ™ºèƒ½ç‰¹æ€§ | â€‹ | â€‹ |
| MJ V6.0æ”¯æŒ | âœ— | âœ“ |
| è´¦å·çŠ¶æ€è‡ªåŠ¨ç›‘æ§ | âœ— | âœ“ |
| æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢ | âœ— | âœ“ |
| nijiãƒ»journey Botæ”¯æŒ | âœ— | âœ“ |
| InsightFaceäººè„¸æœåŠ¡ | âœ— | âœ“ |
| å®‰å…¨æ€§èƒ½ | â€‹ | â€‹ |
| åŠ¨æ€é…ç½®æ”¯æŒ | âœ— | âœ“ |
| tokenæ‰çº¿é—®é¢˜ä¿®å¤ | âœ— | âœ“ |
| è‡ªåŠ¨éªŒè¯åŠŸèƒ½ | âœ— | âœ“ |
| è¿ç¦è¯è‡ªåŠ¨ç”³è¯‰ | âœ— | âœ“ |


## ğŸ“ ç®€ä»‹

Midjourneyæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾åƒç”Ÿæˆå’Œå¤„ç†æ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°åˆ›å»ºã€ç¼–è¾‘å’Œä¿®æ”¹å›¾åƒã€‚é€šè¿‡æä¾›ä¸åŒçš„æ¥å£ï¼Œå¯ä»¥å®ç°å„ç§å›¾åƒç”Ÿæˆå’Œå¤„ç†ä»»åŠ¡ã€‚

## ğŸ”„ æµç¨‹ç¤ºæ„å›¾


![2181129.png](https://api.apifox.com/api/v1/projects/6270118/resources/516953/image-preview)

### æµç¨‹è¯´æ˜

1. **åˆå§‹ä»»åŠ¡**
2. Imagine: æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡
3. Blend: å¤šå›¾æ··åˆ
4. Describe: å›¾ç‰‡æè¿°
5. Swap Face: äººè„¸æ›¿æ¢
6. **å›¾ç‰‡å¤„ç†**
7. U1-U4: æ”¾å¤§æ“ä½œ
8. V1-V4: å˜ä½“ç”Ÿæˆ
9. Pan: å›¾ç‰‡å¹³ç§»
10. Zoom: å›¾ç‰‡ç¼©æ”¾
11. **ç‰¹æ®Šæµç¨‹**
12. Action + Modal: éœ€è¦å¼¹çª—ç¡®è®¤çš„æ“ä½œ
13. Action ç›´æ¥æ‰§è¡Œ: ä¸éœ€è¦å¼¹çª—çš„æ“ä½œ
14. **ä»»åŠ¡ç®¡ç†**
15. è·å–ä»»åŠ¡è¯¦æƒ…
16. è·å–å›¾ç‰‡ Seed
17. ä¸Šä¼ è‡³ Discord

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### æäº¤Imagineä»»åŠ¡ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/imagine' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "prompt": "Cat",
  "base64Array": [],
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Blendä»»åŠ¡ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/blend' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "base64Array": [
    "data:image/png;base64,xxx1",
    "data:image/png;base64,xxx2"
  ],
  "dimensions": "SQUARE",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Describeä»»åŠ¡ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/describe' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "base64": "data:image/png;base64,xxx",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Modal âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/modal' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "maskBase64": "",
  "prompt": "",
  "taskId": "14001934816969359"
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤swap\_faceä»»åŠ¡ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/insight-face/swap' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "sourceBase64": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RDnYdriP1wsS81kwU8OVs/R3xu8s6bX7+zYnOH8coSqpmRSBjqerjcBlr2OB/lbAf/2Q==",
  "targetBase64": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD849k="
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 0,
  "description": "string",
  "result": "string"
}
```

### æ‰§è¡ŒActionåŠ¨ä½œ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/action' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "chooseSameChannel": true,
  "customId": "MJ::JOB::upsample::1::82c51c9d-bc33-4c07-a471-36c3dcb1a6f0",
  "taskId": "1728781324658687",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### ä¸Šä¼ æ–‡ä»¶åˆ°discord âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/submit/upload-discord-images' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "base64Array": [],
  "filter": {
    "channelId": "",
    "instanceId": "",
    "remark": ""
  }
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 0,
  "description": "string",
  "result": [
    "string"
  ]
}
```

### æ ¹æ®IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡ âœ…

```javascript
curl --location --request POST 'https://sg.uiuiapi.com/mj/task/list-by-condition' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json' \
--data-raw '{
  "ids": []
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
[
  {
    "action": "IMAGINE",
    "buttons": [
      {
        "customId": "string",
        "emoji": "string",
        "label": "string",
        "style": 0,
        "type": 0
      }
    ],
    "description": "string",
    "failReason": "string",
    "finishTime": 0,
    "id": "string",
    "imageUrl": "string",
    "progress": "string",
    "prompt": "string",
    "promptEn": "string",
    "properties": {},
    "startTime": 0,
    "state": "string",
    "status": "NOT_START",
    "submitTime": 0
  }
]
```

### æŒ‡å®šIDè·å–ä»»åŠ¡ âœ…

```javascript
curl --location --request GET 'https://sg.uiuiapi.com/mj/task/{id}/fetch' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "action": "IMAGINE",
  "buttons": [
    {
      "customId": "string",
      "emoji": "string",
      "label": "string",
      "style": 0,
      "type": 0
    }
  ],
  "description": "string", 
  "failReason": "string",
  "finishTime": 0,
  "id": "string",
  "imageUrl": "string",
  "progress": "string",
  "prompt": "string",
  "promptEn": "string",
  "properties": {},
  "startTime": 0,
  "state": "string",
  "status": "NOT_START",
  "submitTime": 0
}
```

### è·å–ä»»åŠ¡å›¾ç‰‡çš„seed âœ…

```javascript
curl --location --request GET 'https://sg.uiuiapi.com/mj/task/{id}/image-seed' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code": 0,
  "description": "string",
  "result": "string"
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

#### æäº¤Imagineä»»åŠ¡

```javascript
POST /mj/submit/imagine
```

æ ¹æ®æ–‡æœ¬æç¤ºåˆ›å»ºå›¾ç‰‡ã€‚

#### æäº¤Blendä»»åŠ¡

```javascript
POST /mj/submit/blend
```

æ ¹æ®å¤šä¸ªè¾“å…¥å›¾ç‰‡èåˆç”Ÿæˆæ–°å›¾ç‰‡ã€‚

#### æäº¤Describeä»»åŠ¡

```javascript
POST /mj/submit/describe
```

æ ¹æ®è¾“å…¥å›¾ç‰‡ç”Ÿæˆæ–‡å­—æè¿°ã€‚

#### æäº¤Modal

```javascript
POST /mj/submit/modal
```

æäº¤æ¨¡æ€ä¿¡æ¯,ç”¨äºè°ƒæ•´å›¾ç‰‡ç”Ÿæˆç»†èŠ‚ã€‚

#### æäº¤swap\_faceä»»åŠ¡

```javascript
POST /mj/insight-face/swap
```

æ ¹æ®æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡è¿›è¡Œäººè„¸äº¤æ¢ã€‚

#### æ‰§è¡ŒActionåŠ¨ä½œ

```javascript
POST /mj/submit/action
```

å¯¹å·²ç”Ÿæˆçš„å›¾ç‰‡è¿›è¡Œåç»­æ“ä½œ,å¦‚æ”¾å¤§ã€è°ƒæ•´ç­‰ã€‚

#### ä¸Šä¼ æ–‡ä»¶åˆ°discord

```javascript
POST /mj/submit/upload-discord-images
```

å°†å›¾ç‰‡ä¸Šä¼ åˆ°discordå¹³å°ã€‚

#### æ ¹æ®IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡

```javascript
POST /mj/task/list-by-condition
```

æ ¹æ®æŒ‡å®šçš„ä»»åŠ¡IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡è¯¦æƒ…ã€‚

#### æŒ‡å®šIDè·å–ä»»åŠ¡

```javascript
GET /mj/task/{id}/fetch
```

æ ¹æ®ä»»åŠ¡IDè·å–ä»»åŠ¡è¯¦æƒ…ã€‚

#### è·å–ä»»åŠ¡å›¾ç‰‡çš„seed

```javascript
GET /mj/task/{id}/image-seed
```

è·å–æŒ‡å®šä»»åŠ¡ç”Ÿæˆå›¾ç‰‡çš„seedå€¼ã€‚

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY$OPENAI_API_KEY
```

å…¶ä¸­ `$OPENAI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### æäº¤ Imagine ä»»åŠ¡

##### `botType`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šMID\_JOURNEY
- å¯é€‰å€¼ï¼š
- `MID_JOURNEY`: Midjourney æ¨¡å‹
- `NIJI_JOURNEY`: Niji Journey æ¨¡å‹
- è¯´æ˜ï¼šé€‰æ‹©ä½¿ç”¨çš„ bot ç±»å‹

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šå›¾åƒç”Ÿæˆçš„æ–‡æœ¬æç¤ºè¯
- æç¤ºï¼š
- ä½¿ç”¨æ¸…æ™°å…·ä½“çš„æè¿°
- å¯ä»¥åŒ…å«è‰ºæœ¯é£æ ¼ã€æ„å›¾ç­‰ç»†èŠ‚
- æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡è¾“å…¥

##### `base64Array`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šå«å›¾çš„ base64 ç¼–ç æ•°ç»„
- æ ¼å¼ï¼šæ¯ä¸ªå…ƒç´ åº”ä¸ºå®Œæ•´çš„ base64 å›¾ç‰‡å­—ç¬¦ä¸²ï¼ŒåŒ…å« MIME ç±»å‹å‰ç¼€

##### `accountFilter`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦
- å±æ€§ï¼š
- `channelId`: é¢‘é“ ID
- `instanceId`: è´¦å·å®ä¾‹ ID
- `modes`: è´¦å·æ¨¡å¼æ•°ç»„ï¼Œå¯é€‰å€¼ï¼šRELAXã€FASTã€TURBO
- `remark`: å¤‡æ³¨åŒ…å«çš„å†…å®¹
- `remix`: è´¦å·æ˜¯å¦æ”¯æŒ remix
- `remixAutoConsidered`: remix è‡ªåŠ¨æäº¤è®¾ç½®

##### `notifyHook`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šä»»åŠ¡å®Œæˆåçš„å›è°ƒåœ°å€ï¼Œä¸ºç©ºæ—¶ä½¿ç”¨å…¨å±€ notifyHook

##### `state`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šè‡ªå®šä¹‰çŠ¶æ€å‚æ•°ï¼Œå¯ç”¨äºè·Ÿè¸ªè¯·æ±‚

#### æäº¤ Blend ä»»åŠ¡

##### `base64Array`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æ··åˆçš„å›¾ç‰‡ base64 ç¼–ç æ•°ç»„
- æ ¼å¼ï¼šå¿…é¡»åŒ…å« 2-5 å¼ å›¾ç‰‡çš„ base64 å­—ç¬¦ä¸²

##### `dimensions`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- å¯é€‰å€¼ï¼š
- `PORTRAIT`: 2:3 æ¯”ä¾‹
- `SQUARE`: 1:1 æ¯”ä¾‹
- `LANDSCAPE`: 3:2 æ¯”ä¾‹
- è¯´æ˜ï¼šè¾“å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”è®¾ç½®

#### æäº¤ Describe ä»»åŠ¡

##### `base64`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šéœ€è¦æè¿°çš„å›¾ç‰‡çš„ base64 ç¼–ç 
- æ ¼å¼ï¼šå®Œæ•´çš„ base64 å­—ç¬¦ä¸²ï¼ŒåŒ…å« MIME ç±»å‹å‰ç¼€

#### æäº¤ Modal ä»»åŠ¡

##### `maskBase64`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šå±€éƒ¨é‡ç»˜çš„è’™ç‰ˆå›¾ç‰‡ base64 ç¼–ç 

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šé‡ç»˜åŒºåŸŸçš„æ–‡æœ¬æç¤ºè¯

##### `taskId`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šåŸå§‹ä»»åŠ¡çš„ ID

#### æäº¤ Swap Face ä»»åŠ¡

##### `sourceBase64`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šäººè„¸æºå›¾ç‰‡çš„ base64 ç¼–ç 
- è¦æ±‚ï¼šå›¾ç‰‡å¿…é¡»åŒ…å«æ¸…æ™°çš„äººè„¸

##### `targetBase64`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šç›®æ ‡å›¾ç‰‡çš„ base64 ç¼–ç 
- è¦æ±‚ï¼šå›¾ç‰‡å¿…é¡»åŒ…å«è¦æ›¿æ¢çš„äººè„¸

#### æ‰§è¡Œ Action åŠ¨ä½œ

##### `chooseSameChannel`

- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šfalse
- è¯´æ˜ï¼šæ˜¯å¦é€‰æ‹©åŒä¸€é¢‘é“ä¸‹çš„è´¦å·

##### `customId`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šåŠ¨ä½œæ ‡è¯†ç¬¦
- æ ¼å¼ï¼šç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚ "MJ::JOB::upsample::1::xxx"

##### `taskId`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æ‰§è¡ŒåŠ¨ä½œçš„ä»»åŠ¡ ID

#### ä¸Šä¼ æ–‡ä»¶åˆ° Discord

##### `base64Array`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦ä¸Šä¼ çš„å›¾ç‰‡ base64 ç¼–ç æ•°ç»„

##### `filter`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦
- å±æ€§ï¼š
- `channelId`: ç›®æ ‡é¢‘é“ ID
- `instanceId`: è´¦å·å®ä¾‹ ID
- `remark`: å¤‡æ³¨ä¿¡æ¯

#### æ ¹æ® ID åˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡

##### `ids`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æŸ¥è¯¢çš„ä»»åŠ¡ ID åˆ—è¡¨

### é€šç”¨å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£éƒ½è¿”å›ç›¸ä¼¼çš„å“åº”ç»“æ„ï¼š

##### `code`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šçŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ |
|:----|:----|
| 1 | æäº¤æˆåŠŸ |
| 22 | ä»»åŠ¡æ’é˜Ÿä¸­ |
| 21 | å‚æ•°é”™è¯¯ |
| 23 | ç³»ç»Ÿé”™è¯¯ |
| 24 | è´¦å·ä¸å¯ç”¨ |
| 25 | ä½™é¢ä¸è¶³ |


##### `description`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå“åº”æè¿°ä¿¡æ¯

##### `properties`

- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼šæ‰©å±•å±æ€§

##### `result`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ–æ•°ç»„
- è¯´æ˜ï¼šè¿”å›ç»“æœï¼Œå¯èƒ½æ˜¯ä»»åŠ¡ ID æˆ–å…¶ä»–æ•°æ®

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

#### `action`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡ç±»å‹

| å­—ç¬¦ä¸²å€¼ | è¯´æ˜ |
|:----|:----|
| IMAGINE | åˆ›å»ºå›¾ç‰‡ |
| UPSCALE | æ”¾å¤§å›¾ç‰‡ |
| VARIATION | å˜ä½“ç”Ÿæˆ |
| ZOOM | ç¼©æ”¾å›¾ç‰‡ |
| PAN | å¹³ç§»å›¾ç‰‡ |
| DESCRIBE | å›¾ç‰‡æè¿° |
| BLEND | å›¾ç‰‡æ··åˆ |
| SHORTEN | ç¼©çŸ­æç¤ºè¯ |
| SWAP\_FACE | äººè„¸æ›¿æ¢ |


#### `buttons`

- ç±»å‹ï¼šå¯¹è±¡æ•°ç»„
- è¯´æ˜ï¼šå¯æ‰§è¡Œçš„æ“ä½œæŒ‰é’®

| æ•°ç»„åŒ…å«å±æ€§ | è¯´æ˜ |
|:----|:----|
| customId | åŠ¨ä½œæ ‡è¯† |
| emoji | æŒ‰é’®å›¾æ ‡ |
| label | æŒ‰é’®æ–‡æœ¬ |
| style | æ ·å¼(2=Primary, 3=Green) |
| type | ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨çš„ç±»å‹ |


#### `description`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡æè¿°ä¿¡æ¯

#### `failReason`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡å¤±è´¥åŸå› 

#### `finishTime`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡å®Œæˆæ—¶é—´æˆ³

#### `id`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡å”¯ä¸€æ ‡è¯†ç¬¦

#### `imageUrl`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šç”Ÿæˆå›¾ç‰‡çš„URL

#### `progress`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡è¿›åº¦ä¿¡æ¯

#### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šåŸå§‹æç¤ºè¯

#### `promptEn`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šè‹±æ–‡æç¤ºè¯

#### `status`

- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡çŠ¶æ€

| å­—ç¬¦ä¸²å€¼ | è¯´æ˜ |
|:----|:----|
| NOT\_START | æœªå¼€å§‹ |
| SUBMITTED | å·²æäº¤ |
| MODAL | æ¨¡æ€æ“ä½œä¸­ |
| IN\_PROGRESS | è¿›è¡Œä¸­ |
| FAILURE | å¤±è´¥ |
| SUCCESS | æˆåŠŸ |
| CANCEL | å·²å–æ¶ˆ |


#### `submitTime`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡æäº¤æ—¶é—´æˆ³

#### `startTime`

- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡å¼€å§‹æ‰§è¡Œæ—¶é—´æˆ³

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›é”™è¯¯å“åº”ï¼š

#### HTTP çŠ¶æ€ç 

- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `403 Forbidden`: æƒé™ä¸è¶³
- `404 Not Found`: èµ„æºä¸å­˜åœ¨
- `429 Too Many Requests`: è¯·æ±‚é¢‘ç‡è¶…é™
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### é”™è¯¯å“åº”æ ¼å¼

```javascript
{
  "code": <é”™è¯¯ç >,
  "description": "é”™è¯¯æè¿°ä¿¡æ¯",
  "result": null
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### Prompt ç¼–å†™å»ºè®®

1. ä½¿ç”¨æ¸…æ™°ç®€æ´çš„è¯­è¨€æè¿°æœŸæœ›çš„å›¾åƒå†…å®¹
2. å¯ä»¥å‚è€ƒMidjourneyæ”¯æŒçš„å„ç§å‚æ•°æ¥æ§åˆ¶å›¾ç‰‡é£æ ¼
3. é€‚å½“ä½¿ç”¨å¦å®šæè¿°ä»¥æ’é™¤ä¸éœ€è¦çš„å…ƒç´ 
4. å¯ä»¥é€šè¿‡å›¾ç‰‡URLä½œä¸ºå‚è€ƒæ¥æŒ‡å¯¼ç”Ÿæˆ

### å›¾ç‰‡ç”Ÿæˆæµç¨‹

1. æäº¤Imagineä»»åŠ¡,è·å¾—åˆæ­¥å›¾ç‰‡
2. å¿…è¦æ—¶é€šè¿‡Blendã€Modalç­‰ä»»åŠ¡è¿›ä¸€æ­¥ä¼˜åŒ–
3. æ‰§è¡ŒActionåŠ¨ä½œè¿›è¡Œå›¾ç‰‡å¾®è°ƒ
4. å°†æ»¡æ„çš„ç»“æœå›¾ç‰‡ä¸Šä¼ ä¿å­˜

### å›¾ç‰‡æ ¼å¼è¦æ±‚

1. æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ï¼š
2. JPEG/JPG
3. PNG
4. GIF (é™æ€)
5. WEBP
6. å›¾ç‰‡å¤§å°é™åˆ¶ï¼š
7. æ–‡ä»¶å¤§å°ï¼šæœ€å¤§ 4MB
8. åˆ†è¾¨ç‡ï¼šå»ºè®® 1024x1024 æˆ–æ›´é«˜
9. å®½é«˜æ¯”ï¼šæ”¯æŒ 1:1ã€2:3ã€3:2

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. Base64 ç¼–ç ï¼š
2. ä½¿ç”¨æ ‡å‡† Base64 ç¼–ç æ ¼å¼
3. åŒ…å«æ­£ç¡®çš„ MIME ç±»å‹å‰ç¼€
4. å‹ç¼©å›¾ç‰‡ä»¥å‡å°‘æ•°æ®ä¼ è¾“
5. ä»»åŠ¡å¤„ç†ï¼š
6. ä½¿ç”¨ webhook æ¥æ”¶ä»»åŠ¡å®Œæˆé€šçŸ¥
7. åˆç†è®¾ç½®é‡è¯•ç­–ç•¥
8. å»ºè®®ä½¿ç”¨å¼‚æ­¥å¤„ç†æ–¹å¼

### é”™è¯¯å¤„ç†

- å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶
- æ·»åŠ é”™è¯¯æ—¥å¿—è®°å½•
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
# OpenAI éŸ³é¢‘æ ¼å¼

> å®˜æ–¹æ–‡æ¡£
> 
> [OpenAI Audio](https://platform.openai.com/docs/api-reference/audio)
> 
## ğŸ“ ç®€ä»‹

OpenAI éŸ³é¢‘ API æä¾›äº†ä¸‰ä¸ªä¸»è¦åŠŸèƒ½:

1. æ–‡æœ¬è½¬è¯­éŸ³(TTS) - å°†æ–‡æœ¬è½¬æ¢ä¸ºè‡ªç„¶çš„è¯­éŸ³
2. è¯­éŸ³è½¬æ–‡æœ¬(STT) - å°†éŸ³é¢‘è½¬å½•ä¸ºæ–‡æœ¬
3. éŸ³é¢‘ç¿»è¯‘ - å°†éè‹±è¯­éŸ³é¢‘ç¿»è¯‘æˆè‹±è¯­æ–‡æœ¬

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### æ–‡æœ¬è½¬è¯­éŸ³ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/audio/speech \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "tts-1",
    "input": "ä½ å¥½,ä¸–ç•Œ!",
    "voice": "alloy"
  }' \
  --output speech.mp3
```

### è¯­éŸ³è½¬æ–‡æœ¬ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/audio/transcriptions \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -H "Content-Type: multipart/form-data" \
  -F file="@/path/to/file/audio.mp3" \
  -F model="whisper-1"
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "text": "ä½ å¥½,ä¸–ç•Œ!"
}
```

### éŸ³é¢‘ç¿»è¯‘ âœ…

```javascript
curl https://sg.uiuiapi.com/v1/audio/translations \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -H "Content-Type: multipart/form-data" \
  -F file="@/path/to/file/chinese.mp3" \
  -F model="whisper-1"
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "text": "Hello, world!"
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

#### æ–‡æœ¬è½¬è¯­éŸ³

```javascript
POST /v1/audio/speech
```

å°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­éŸ³ã€‚

#### è¯­éŸ³è½¬æ–‡æœ¬

```javascript
POST /v1/audio/transcriptions
```

å°†éŸ³é¢‘è½¬å½•ä¸ºè¾“å…¥è¯­è¨€çš„æ–‡æœ¬ã€‚

#### éŸ³é¢‘ç¿»è¯‘

```javascript
POST /v1/audio/translations
```

å°†éŸ³é¢‘ç¿»è¯‘ä¸ºè‹±è¯­æ–‡æœ¬ã€‚

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$NEWAPI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### æ–‡æœ¬è½¬è¯­éŸ³

##### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å¯é€‰å€¼ï¼štts-1, tts-1-hd
- è¯´æ˜ï¼šè¦ä½¿ç”¨çš„ TTS æ¨¡å‹

##### `input`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- æœ€å¤§é•¿åº¦ï¼š4096 å­—ç¬¦
- è¯´æ˜ï¼šè¦è½¬æ¢ä¸ºè¯­éŸ³çš„æ–‡æœ¬

##### `voice`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å¯é€‰å€¼ï¼šalloy, echo, fable, onyx, nova, shimmer
- è¯´æ˜ï¼šç”Ÿæˆè¯­éŸ³æ—¶ä½¿ç”¨çš„å£°éŸ³

##### `response_format`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šmp3
- å¯é€‰å€¼ï¼šmp3, opus, aac, flac, wav, pcm
- è¯´æ˜ï¼šéŸ³é¢‘è¾“å‡ºæ ¼å¼

##### `speed`

- ç±»å‹ï¼šæ•°å­—
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1.0
- èŒƒå›´ï¼š0.25 - 4.0
- è¯´æ˜ï¼šç”Ÿæˆè¯­éŸ³çš„é€Ÿåº¦

#### è¯­éŸ³è½¬æ–‡æœ¬

##### `file`

- ç±»å‹ï¼šæ–‡ä»¶
- å¿…éœ€ï¼šæ˜¯
- æ”¯æŒæ ¼å¼ï¼šflac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, webm
- è¯´æ˜ï¼šè¦è½¬å½•çš„éŸ³é¢‘æ–‡ä»¶

##### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å½“å‰ä»…æ”¯æŒï¼šwhisper-1
- è¯´æ˜ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹ ID

##### `language`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- æ ¼å¼ï¼šISO-639-1 (å¦‚ "en")
- è¯´æ˜ï¼šéŸ³é¢‘çš„è¯­è¨€,æä¾›å¯æé«˜å‡†ç¡®æ€§

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šç”¨äºæŒ‡å¯¼æ¨¡å‹é£æ ¼æˆ–ç»§ç»­å‰ä¸€æ®µéŸ³é¢‘çš„æ–‡æœ¬

##### `response_format`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šjson
- å¯é€‰å€¼ï¼šjson, text, srt, verbose\_json, vtt
- è¯´æ˜ï¼šè¾“å‡ºæ ¼å¼

##### `temperature`

- ç±»å‹ï¼šæ•°å­—
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š0
- èŒƒå›´ï¼š0 - 1
- è¯´æ˜ï¼šé‡‡æ ·æ¸©åº¦,è¾ƒé«˜çš„å€¼ä½¿è¾“å‡ºæ›´éšæœº

##### `timestamp_granularities`

- ç±»å‹ï¼šæ•°ç»„
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šsegment
- å¯é€‰å€¼ï¼šword, segment
- è¯´æ˜ï¼šè½¬å½•çš„æ—¶é—´æˆ³ç²’åº¦

#### éŸ³é¢‘ç¿»è¯‘

##### `file`

- ç±»å‹ï¼šæ–‡ä»¶
- å¿…éœ€ï¼šæ˜¯
- æ”¯æŒæ ¼å¼ï¼šflac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, webm
- è¯´æ˜ï¼šè¦ç¿»è¯‘çš„éŸ³é¢‘æ–‡ä»¶

##### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- å½“å‰ä»…æ”¯æŒï¼šwhisper-1
- è¯´æ˜ï¼šè¦ä½¿ç”¨çš„æ¨¡å‹ ID

##### `prompt`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šç”¨äºæŒ‡å¯¼æ¨¡å‹é£æ ¼çš„è‹±æ–‡æ–‡æœ¬

##### `response_format`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šjson
- å¯é€‰å€¼ï¼šjson, text, srt, verbose\_json, vtt
- è¯´æ˜ï¼šè¾“å‡ºæ ¼å¼

##### `temperature`

- ç±»å‹ï¼šæ•°å­—
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š0
- èŒƒå›´ï¼š0 - 1
- è¯´æ˜ï¼šé‡‡æ ·æ¸©åº¦,è¾ƒé«˜çš„å€¼ä½¿è¾“å‡ºæ›´éšæœº

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

#### æ–‡æœ¬è½¬è¯­éŸ³

è¿”å›äºŒè¿›åˆ¶éŸ³é¢‘æ–‡ä»¶å†…å®¹ã€‚

#### è¯­éŸ³è½¬æ–‡æœ¬

##### åŸºç¡€ JSON æ ¼å¼

```javascript
{
  "text": "è½¬å½•çš„æ–‡æœ¬å†…å®¹"
}
```

##### è¯¦ç»† JSON æ ¼å¼

```javascript
{
  "task": "transcribe",
  "language": "english",
  "duration": 8.47,
  "text": "å®Œæ•´çš„è½¬å½•æ–‡æœ¬",
  "segments": [
    {
      "id": 0,
      "seek": 0,
      "start": 0.0,
      "end": 3.32,
      "text": "åˆ†æ®µçš„è½¬å½•æ–‡æœ¬",
      "tokens": [50364, 440, 7534],
      "temperature": 0.0,
      "avg_logprob": -0.286,
      "compression_ratio": 1.236,
      "no_speech_prob": 0.009
    }
  ]
}
```

#### éŸ³é¢‘ç¿»è¯‘

```javascript
{
  "text": "ç¿»è¯‘åçš„è‹±æ–‡æ–‡æœ¬"
}
```

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›ä¸€ä¸ªé”™è¯¯å“åº”å¯¹è±¡ï¼ŒHTTP çŠ¶æ€ç åœ¨ 4XX-5XX èŒƒå›´å†…ã€‚

#### å¸¸è§é”™è¯¯çŠ¶æ€ç 

- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `429 Too Many Requests`: è¶…å‡º API è°ƒç”¨é™åˆ¶
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

é”™è¯¯å“åº”ç¤ºä¾‹:

```javascript
{
  "error": {
    "message": "æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ",
    "type": "invalid_request_error",
    "param": "file",
    "code": "invalid_file_format"
  }
}
```

â€‹# Suno éŸ³ä¹æ ¼å¼ï¼ˆMusicï¼‰

> è¯·ä½ æ³¨æ„
> 
> è¯¥æ¥å£ **éSunoå®˜æ–¹çš„æ¥å£**ï¼Œè€Œæ˜¯åŸºäºä½œè€… **æŸæ‹‰å›¾** çš„å¼€æºé¡¹ç›® [**Suno-API**](https://github.com/Suno-API/Suno-API) å®ç°çš„Sunoä»£ç†æ¥å£ã€‚
> 
> è¿™é‡Œéå¸¸æ„Ÿè°¢ä½œè€…çš„è´¡çŒ®ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿ä½¿ç”¨Sunoçš„å¼ºå¤§åŠŸèƒ½ï¼Œå¦‚æœæœ‰æ—¶é—´ï¼Œè¯·ç»™ä½œè€…ä¸€ä¸ªStarã€‚

## ğŸ“ ç®€ä»‹

Suno Music API æä¾›äº†ä¸€ç³»åˆ—éŸ³ä¹ç”Ÿæˆå’Œå¤„ç†çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬:

- æ ¹æ®æç¤ºç”Ÿæˆæ­Œæ›²ï¼ˆçµæ„Ÿæ¨¡å¼ã€è‡ªå®šä¹‰æ¨¡å¼ï¼‰
- ç»­å†™å·²æœ‰æ­Œæ›²
- æ‹¼æ¥å¤šä¸ªéŸ³é¢‘ç‰‡æ®µ
- ç”Ÿæˆæ­Œè¯
- ä¸Šä¼ éŸ³é¢‘

é€šè¿‡ API å¯ä»¥æ–¹ä¾¿åœ°å°† AI éŸ³ä¹ç”Ÿæˆèƒ½åŠ›é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­ã€‚

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### ç”Ÿæˆæ­Œæ›² âœ…

```javascript
curl --location 'https://sg.uiuiapi.com/suno/submit/music' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "prompt":"[Verse]\nWalking down the streets\nBeneath the city lights\nNeon signs flickering\nLighting up the night\nHeart beating faster\nLike a drum in my chest\nI'\''m alive in this moment\nFeeling so blessed\n\nStilettos on the pavement\nStepping with grace\nSurrounded by the people\nMoving at their own pace\nThe rhythm of the city\nIt pulses in my veins\nLost in the energy\nAs my worries drain\n\n[Verse 2]\nConcrete jungle shining\nWith its dazzling glow\nEvery corner hiding secrets that only locals know\nA symphony of chaos\nBut it'\''s music to my ears\nThe hustle and the bustle\nWiping away my fears",
    "tags":"emotional punk",
    "mv":"chirp-v4",  
    "title":"City Lights"
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success",
  "message":"",
  "data":"736a6f88-bd29-4b1e-b110-37132a5325ac"
}
```

### ç”Ÿæˆæ­Œè¯ âœ…

```javascript
curl --location 'https://sg.uiuiapi.com/suno/submit/lyrics' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "prompt":"dance"
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success",
  "message":"",
  "data":"736a6f88-bd29-4b1e-b110-37132a5325ac" 
}
```

### ä¸Šä¼ éŸ³é¢‘ âŒ

```javascript
curl --location 'https://sg.uiuiapi.com/suno/uploads/audio-url' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \  
--header 'Content-Type: application/json' \
--data '{ 
    "url":"http://cdnimg.example.com/ai/2024-06-18/d416d9c3c34eb22c7d8c094831d8dbd0.mp3"
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success",
  "message":"",
  "data":"736a6f88-bd29-4b1e-b110-37132a5325ac"
}  
```

### æ­Œæ›²æ‹¼æ¥ âŒ

```javascript
curl --location 'https://sg.uiuiapi.com/suno/submit/concat' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json' \  
--data '{
    "clip_id":"extend åçš„ æ­Œæ›²ID", 
    "is_infill": false
}'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success", 
  "message":"",
  "data":"736a6f88-bd29-4b1e-b110-37132a5325ac"  
}
```

### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€ âœ…

#### æ‰¹é‡æŸ¥è¯¢

```javascript
curl --location 'https://sg.uiuiapi.com/suno/fetch' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \ 
--header 'Content-Type: application/json' \
--data '{
    "ids":["task_id"], 
    "action":"MUSIC"
}'  
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success",
  "message":"", 
  "data":[
    {
      "task_id":"346c5d10-a4a1-4f49-a851-66a7dae6cfaf",
      "notify_hook":"",
      "action":"MUSIC", 
      "status":"IN_PROGRESS",
      "fail_reason":"",
      "submit_time":1716191749, 
      "start_time":1716191786,
      "finish_time":0,
      "progress":"0%",
      "data":[
        {
          "id":"e9893d04-6a63-4007-8473-64b706eca4d1",
          "title":"Electric Dance Party",
          "status":"streaming",
          "metadata":{
            "tags":"club banger high-energy edm",
            "prompt":"ç•¥",
            "duration":null,
            "error_type":null,
            "error_message":null, 
            "audio_prompt_id":null,
            "gpt_description_prompt":"miku dance"
          },
          "audio_url":"https://audiopipe.suno.ai/?item_id=e9893d04-6a63-4007-8473-64b706eca4d1",
          "image_url":"https://cdn1.suno.ai/image_e9893d04-6a63-4007-8473-64b706eca4d1.png",
          "video_url":"",
          "model_name":"chirp-v3", 
          "image_large_url":"https://cdn1.suno.ai/image_large_e9893d04-6a63-4007-8473-64b706eca4d1.png", 
          "major_model_version":"v3"
        }
      ]
    } 
  ] 
}
```

#### å•ä¸ªæŸ¥è¯¢

```javascript
curl --location 'https://sg.uiuiapi.com/suno/fetch/{{task_id}}' \ 
--header 'Authorization: Bearer $NEWAPI_API_KEY'
```

**å“åº”ç¤ºä¾‹:**

```javascript
{
  "code":"success",
  "message":"",
  "data":{
    "task_id":"f4a94d75-087b-4bb1-bd45-53ba293faf96",
    "notify_hook":"", 
    "action":"LYRICS",
    "status":"SUCCESS",
    "fail_reason":"",
    "submit_time":1716192124, 
    "start_time":1716192124, 
    "finish_time":1716192124,
    "progress":"100%", 
    "data":{
      "id":"f4a94d75-087b-4bb1-bd45-53ba293faf96",
      "text":"ç•¥", 
      "title":"Electric Fantasy",
      "status":"complete"  
    }
  }
}
```

## ğŸ“® è¯·æ±‚

æ‰€æœ‰è¯·æ±‚éƒ½éœ€åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«è®¤è¯ä¿¡æ¯:

```javascript
Authorization: Bearer $NEWAPI_API_KEY
```

### ç«¯ç‚¹

#### ç”Ÿæˆæ­Œæ›²

```javascript
POST /suno/submit/music  
```

ç”Ÿæˆæ–°çš„æ­Œæ›²,æ”¯æŒçµæ„Ÿæ¨¡å¼ã€è‡ªå®šä¹‰æ¨¡å¼ã€ç»­å†™ã€‚

#### ç”Ÿæˆæ­Œè¯

```javascript
POST /suno/submit/lyrics
```

æ ¹æ®æç¤ºç”Ÿæˆæ­Œè¯ã€‚

#### ä¸Šä¼ éŸ³é¢‘

```javascript
POST /suno/uploads/audio-url
```

ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶ã€‚

#### æ­Œæ›²æ‹¼æ¥

```javascript
POST /suno/submit/concat
```

å°†å¤šä¸ªéŸ³é¢‘ç‰‡æ®µæ‹¼æ¥ä¸ºä¸€é¦–å®Œæ•´çš„æ­Œæ›²ã€‚

#### æ‰¹é‡æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```javascript
POST /suno/fetch  
```

æ‰¹é‡è·å–å¤šä¸ªä»»åŠ¡çš„çŠ¶æ€å’Œç»“æœã€‚

#### æŸ¥è¯¢å•ä¸ªä»»åŠ¡çŠ¶æ€

```javascript
GET /suno/fetch/{{task_id}}
```

æŸ¥è¯¢å•ä¸ªä»»åŠ¡çš„çŠ¶æ€å’Œç»“æœã€‚

### è¯·æ±‚ä½“å‚æ•°

#### ç”Ÿæˆæ­Œæ›²

##### `prompt`

- ç±»å‹:String
- å¿…éœ€:çµæ„Ÿæ¨¡å¼æ— éœ€,è‡ªå®šä¹‰æ¨¡å¼å¿…éœ€
- è¯´æ˜:æ­Œè¯å†…å®¹,åœ¨è‡ªå®šä¹‰æ¨¡å¼ä¸‹éœ€æä¾›

##### `mv`

- ç±»å‹:String
- å¿…éœ€:å¦
- è¯´æ˜:æ¨¡å‹ç‰ˆæœ¬,å¯é€‰å€¼:chirp-v3-0ã€chirp-v3-5,é»˜è®¤ä¸º chirp-v3-0

##### `title`

- ç±»å‹:String
- å¿…éœ€:çµæ„Ÿæ¨¡å¼æ— éœ€,è‡ªå®šä¹‰æ¨¡å¼å¿…éœ€
- è¯´æ˜:æ­Œæ›²æ ‡é¢˜,åœ¨è‡ªå®šä¹‰æ¨¡å¼ä¸‹éœ€æä¾›

##### `tags`

- ç±»å‹:String
- å¿…éœ€:çµæ„Ÿæ¨¡å¼æ— éœ€,è‡ªå®šä¹‰æ¨¡å¼å¿…éœ€
- è¯´æ˜:æ­Œæ›²é£æ ¼æ ‡ç­¾,ä½¿ç”¨é€—å·åˆ†éš”,åœ¨è‡ªå®šä¹‰æ¨¡å¼ä¸‹éœ€æä¾›

##### `make_instrumental`

- ç±»å‹:Boolean
- å¿…éœ€:å¦
- è¯´æ˜:æ˜¯å¦ç”Ÿæˆçº¯éŸ³ä¹,true ä¸ºç”Ÿæˆçº¯éŸ³ä¹

##### `task_id`

- ç±»å‹:String
- å¿…éœ€:ç»­å†™æ—¶å¿…éœ€
- è¯´æ˜:è¦ç»­å†™çš„æ­Œæ›²çš„ä»»åŠ¡ ID

##### `continue_at`

- ç±»å‹:Float
- å¿…éœ€:ç»­å†™æ—¶å¿…éœ€
- è¯´æ˜:ä»æ­Œæ›²çš„ç¬¬å‡ ç§’å¼€å§‹ç»­å†™

##### `continue_clip_id`

- ç±»å‹:String
- å¿…éœ€:ç»­å†™æ—¶å¿…éœ€
- è¯´æ˜:è¦ç»­å†™çš„æ­Œæ›²çš„ clip ID

##### `gpt_description_prompt`

- ç±»å‹:String
- å¿…éœ€:çµæ„Ÿæ¨¡å¼å¿…éœ€,å…¶ä»–æ¨¡å¼æ— éœ€
- è¯´æ˜:çµæ„Ÿæ¥æºçš„æ–‡å­—æè¿°

##### `notify_hook`

- ç±»å‹:String
- å¿…éœ€:å¦
- è¯´æ˜:æ­Œæ›²ç”Ÿæˆå®Œæˆçš„å›è°ƒé€šçŸ¥åœ°å€

#### ç”Ÿæˆæ­Œè¯

##### `prompt`

- ç±»å‹:String
- å¿…éœ€:æ˜¯
- è¯´æ˜:æ­Œè¯çš„ä¸»é¢˜æˆ–å…³é”®è¯

##### `notify_hook`

- ç±»å‹:String
- å¿…éœ€:å¦
- è¯´æ˜:æ­Œè¯ç”Ÿæˆå®Œæˆçš„å›è°ƒé€šçŸ¥åœ°å€

#### ä¸Šä¼ éŸ³é¢‘

##### `url`

- ç±»å‹:String
- å¿…éœ€:æ˜¯
- è¯´æ˜:è¦ä¸Šä¼ çš„éŸ³é¢‘æ–‡ä»¶çš„ URL åœ°å€

#### æ­Œæ›²æ‹¼æ¥

##### `clip_id`

- ç±»å‹:String
- å¿…éœ€:æ˜¯
- è¯´æ˜:è¦æ‹¼æ¥çš„æ­Œæ›²ç‰‡æ®µçš„ ID

##### `is_infill`

- ç±»å‹:Boolean
- å¿…éœ€:å¦
- è¯´æ˜:æ˜¯å¦ä¸ºå¡«å……æ¨¡å¼

#### ä»»åŠ¡æŸ¥è¯¢

##### `ids`

- ç±»å‹:String[]
- å¿…éœ€:æ˜¯
- è¯´æ˜:è¦æŸ¥è¯¢çš„ä»»åŠ¡ ID åˆ—è¡¨

##### `action`

- ç±»å‹:String
- å¿…éœ€:å¦
- è¯´æ˜:ä»»åŠ¡ç±»å‹,å¯é€‰å€¼:MUSICã€LYRICS

## ğŸ“¥ å“åº”

æ‰€æœ‰æ¥å£å‡è¿”å›ç»Ÿä¸€çš„ JSON æ ¼å¼å“åº”:

```javascript
{
  "code":"success",
  "message":"",
  "data":"{{RESULT}}" 
}
```

### æˆåŠŸå“åº”

#### åŸºç¡€å“åº”å­—æ®µ

##### `code`

- ç±»å‹:String
- è¯´æ˜:è¯·æ±‚çŠ¶æ€,success ä¸ºæˆåŠŸ

##### `message`

- ç±»å‹:String
- è¯´æ˜:è¯·æ±‚å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯

##### `data`

- ç±»å‹:æ ¹æ®ä¸åŒæ¥å£è€Œå¼‚
- è¯´æ˜:è¯·æ±‚æˆåŠŸæ—¶çš„è¿”å›æ•°æ®
- ç”Ÿæˆæ­Œæ›²ã€æ­Œè¯ã€ä¸Šä¼ éŸ³é¢‘ã€æ­Œæ›²æ‹¼æ¥æ¥å£:è¿”å›ä»»åŠ¡ ID å­—ç¬¦ä¸²
- ä»»åŠ¡æŸ¥è¯¢æ¥å£:è¿”å›ä»»åŠ¡å¯¹è±¡æˆ–ä»»åŠ¡å¯¹è±¡æ•°ç»„

#### ä»»åŠ¡ç›¸å…³å¯¹è±¡

##### ä»»åŠ¡å¯¹è±¡

###### `task_id`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡ ID

###### `notify_hook`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡å®Œæˆåçš„å›è°ƒé€šçŸ¥åœ°å€

###### `action`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡ç±»å‹,å¯é€‰å€¼:MUSICã€LYRICS

###### `status`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡çŠ¶æ€,å¯é€‰å€¼:IN\_PROGRESSã€SUCCESSã€FAIL

###### `fail_reason`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡å¤±è´¥åŸå› 

###### `submit_time`

- ç±»å‹:Integer
- è¯´æ˜:ä»»åŠ¡æäº¤æ—¶é—´æˆ³

###### `start_time`

- ç±»å‹:Integer
- è¯´æ˜:ä»»åŠ¡å¼€å§‹æ—¶é—´æˆ³

###### `finish_time`

- ç±»å‹:Integer
- è¯´æ˜:ä»»åŠ¡ç»“æŸæ—¶é—´æˆ³

###### `progress`

- ç±»å‹:String
- è¯´æ˜:ä»»åŠ¡è¿›åº¦ç™¾åˆ†æ¯”

###### `data`

- ç±»å‹:æ ¹æ®ä»»åŠ¡ç±»å‹ä¸åŒè€Œå¼‚
- è¯´æ˜:
- éŸ³ä¹ç”Ÿæˆä»»åŠ¡:æ­Œæ›²å¯¹è±¡æ•°ç»„
- æ­Œè¯ç”Ÿæˆä»»åŠ¡:æ­Œè¯å¯¹è±¡

##### æ­Œæ›²å¯¹è±¡

###### `id`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›² ID

###### `title`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›²æ ‡é¢˜

###### `status`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›²çŠ¶æ€

###### `metadata`

- ç±»å‹:Object
- è¯´æ˜:æ­Œæ›²å…ƒæ•°æ®
- tags:æ­Œæ›²é£æ ¼æ ‡ç­¾
- prompt:ç”Ÿæˆæ­Œæ›²ä½¿ç”¨çš„æ­Œè¯
- duration:æ­Œæ›²æ—¶é•¿
- error\_type:é”™è¯¯ç±»å‹
- error\_message:é”™è¯¯ä¿¡æ¯
- audio\_prompt\_id:éŸ³é¢‘ prompt ID
- gpt\_description\_prompt:çµæ„Ÿæ¥æºæè¿°

###### `audio_url`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›²éŸ³é¢‘çš„ URL åœ°å€

###### `image_url`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›²å°é¢å›¾çš„ URL åœ°å€

###### `video_url`

- ç±»å‹:String
- è¯´æ˜:æ­Œæ›²è§†é¢‘çš„ URL åœ°å€

###### `model_name`

- ç±»å‹:String
- è¯´æ˜:ç”Ÿæˆæ­Œæ›²ä½¿ç”¨çš„æ¨¡å‹åç§°

###### `major_model_version`

- ç±»å‹:String
- è¯´æ˜:æ¨¡å‹ä¸»ç‰ˆæœ¬å·

##### æ­Œè¯å¯¹è±¡

###### `id`

- ç±»å‹:String
- è¯´æ˜:æ­Œè¯ ID

###### `text`

- ç±»å‹:String
- è¯´æ˜:æ­Œè¯å†…å®¹

###### `title`

- ç±»å‹:String
- è¯´æ˜:æ­Œè¯æ ‡é¢˜

###### `status`

- ç±»å‹:String
- è¯´æ˜:æ­Œè¯çŠ¶æ€

## ğŸŒŸ æœ€ä½³å®è·µ

1. æä¾›å°½é‡è¯¦ç»† ã€å…·ä½“çš„æ­Œæ›²æˆ–æ­Œè¯ç”Ÿæˆæç¤º,é¿å…è¿‡äºç¬¼ç»Ÿæˆ–æŠ½è±¡
2. æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€æ—¶,è½®è¯¢é—´éš”å»ºè®®ä¸º 2-5 ç§’,é¿å…è¿‡äºé¢‘ç¹
3. çµæ„Ÿæ¨¡å¼ä»…éœ€æä¾› gpt\_description\_prompt å‚æ•°,API ä¼šè‡ªåŠ¨ç”Ÿæˆæ­Œè¯ã€æ ‡é¢˜ã€æ ‡ç­¾ç­‰
4. è‡ªå®šä¹‰æ¨¡å¼éœ€è¦æä¾› promptã€titleã€tags å‚æ•°,å¯ä»¥å¯¹æ­Œæ›²æœ‰æ›´å¤šæ§åˆ¶
5. å°½é‡ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æ¨¡å‹(å¦‚ chirp-v4),æ•ˆæœä¼šæ›´å¥½
6. ä½¿ç”¨å›è°ƒé€šçŸ¥åŠŸèƒ½(notify\_hook å‚æ•°)å¯ä»¥é™ä½è½®è¯¢é¢‘ç‡,æé«˜æ•ˆç‡
7. éŸ³ä¹ç»­å†™ã€æ‹¼æ¥åŠŸèƒ½å¯ä»¥åœ¨åŸæœ‰éŸ³ä¹åŸºç¡€ä¸Š,ç”Ÿæˆæ›´åŠ ä¸°å¯Œã€å®Œæ•´çš„ä½œå“
8. æ³¨æ„å¤„ç†å¯èƒ½å‡ºç°çš„å¼‚å¸¸å’Œé”™è¯¯,å¦‚ç½‘ç»œè¶…æ—¶ã€å‚æ•°æ ¡éªŒå¤±è´¥ç­‰

â€‹